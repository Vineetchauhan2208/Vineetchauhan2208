"use strict";(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[213],{5213:(N,A,c)=>{c.r(A),c.d(A,{CustomerModule:()=>bn});var C=c(4666),f=c(5465),T=c(3033),d=c(2508),v=c(2607),b=c(8347),g=c(3691),e=c(2560),F=c(3694),Z=c(4817),M=c(4497),x=c(196),S=c(3927),W=c(7252),L=c(9453),X=c(8009);const ee=["phoneInput"];function te(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter First Name. "),e.qZA())}function ne(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Last Name. "),e.qZA())}function ae(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter valid email. "),e.qZA())}function ie(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter email. "),e.qZA())}function se(i,r){1&i&&e.GkF(0)}function oe(i,r){if(1&i&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.product_name),e.xp6(1),e.hij(" ",t.product_name," ")}}function re(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Select product name. "),e.qZA())}function le(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Enter Tool Serial number. "),e.qZA())}const R=function(i){return{$implicit:i}};function de(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.individualFormFormSubmit())}),e.TgZ(1,"div")(2,"label",22),e._uU(3,"First Name"),e.qZA(),e._UZ(4,"input",23),e.YNc(5,te,2,0,"small",24),e.qZA(),e.TgZ(6,"div")(7,"label",25),e._uU(8,"Last Name"),e.qZA(),e._UZ(9,"input",26),e.YNc(10,ne,2,0,"small",24),e.qZA(),e.TgZ(11,"div",27)(12,"label",28),e._uU(13,"Email"),e.qZA(),e._UZ(14,"input",29),e.YNc(15,ae,2,0,"small",24),e.YNc(16,ie,2,0,"small",24),e.qZA(),e.TgZ(17,"div")(18,"label",30),e._uU(19,"Address Line 1"),e.qZA(),e._UZ(20,"textarea",31),e.qZA(),e.TgZ(21,"div")(22,"label",30),e._uU(23,"Address Line 2"),e.qZA(),e._UZ(24,"textarea",32),e.qZA(),e.TgZ(25,"div",33)(26,"div")(27,"label",34),e._uU(28,"City"),e.qZA(),e._UZ(29,"input",35),e.qZA(),e.TgZ(30,"div")(31,"label",36),e._uU(32,"State"),e.qZA(),e._UZ(33,"input",37),e.qZA(),e.TgZ(34,"div")(35,"label",36),e._uU(36,"Country"),e.qZA(),e._UZ(37,"input",38),e.qZA()(),e.TgZ(38,"div")(39,"label",39),e._uU(40,"Zip / Postcode"),e.qZA(),e._UZ(41,"input",40),e.qZA(),e.YNc(42,se,1,0,"ng-container",41),e.TgZ(43,"div")(44,"label",42),e._uU(45,"Product Name"),e.qZA(),e.TgZ(46,"select",43)(47,"option",44),e._uU(48,"Select Product Name"),e.qZA(),e.YNc(49,oe,2,2,"option",45),e.qZA(),e.YNc(50,re,2,0,"small",24),e.qZA(),e.TgZ(51,"div")(52,"label",46),e._uU(53,"Tool Serial number"),e.qZA(),e._UZ(54,"input",47),e.YNc(55,le,2,0,"small",24),e.qZA(),e.TgZ(56,"span",48),e._uU(57,"Please contact support@viezu.com, if you wish to update your address details."),e.qZA(),e.TgZ(58,"div",49)(59,"button",50),e._uU(60,"Update"),e.qZA()()()}if(2&i){const t=e.oxw(2),a=e.MAs(21);e.Q6J("formGroup",t.individualForm),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.first_name.invalid&&t.individualForm.controls.first_name.touched),e.xp6(1),e.Q6J("ngIf",t.individualForm.controls.first_name.dirty&&t.individualForm.controls.first_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.last_name.invalid&&t.individualForm.controls.last_name.touched),e.xp6(1),e.Q6J("ngIf",t.individualForm.controls.last_name.dirty&&t.individualForm.controls.last_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.email.invalid&&t.individualForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",t.individualForm.controls.email.dirty&&t.individualForm.controls.email.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.individualForm.controls.email.dirty&&t.individualForm.controls.email.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.address.invalid&&t.individualForm.controls.address.touched),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.address_2.invalid&&t.individualForm.controls.address_2.touched),e.xp6(5),e.ekj("is-invalid",t.individualForm.controls.city.invalid&&t.individualForm.controls.city.touched),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.state.invalid&&t.individualForm.controls.state.touched),e.xp6(8),e.ekj("is-invalid",t.individualForm.controls.zip.invalid&&t.individualForm.controls.zip.touched),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(28,R,t.individualForm)),e.xp6(7),e.Q6J("ngForOf",t.products),e.xp6(1),e.Q6J("ngIf",t.individualForm.controls.product_name.dirty&&t.individualForm.controls.product_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.individualForm.controls.tool_serial_number.invalid&&t.individualForm.controls.tool_serial_number.touched),e.xp6(1),e.Q6J("ngIf",t.individualForm.controls.tool_serial_number.dirty&&t.individualForm.controls.tool_serial_number.hasError("required"))}}function ce(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Business Name. "),e.qZA())}function ue(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter First name. "),e.qZA())}function me(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Last Name. "),e.qZA())}function pe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter valid email. "),e.qZA())}function he(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter email. "),e.qZA())}function ge(i,r){1&i&&e.GkF(0)}function _e(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Tax number. "),e.qZA())}function fe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Company number. "),e.qZA())}function Ce(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter WinOLS License number. "),e.qZA())}function be(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",70)(1,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.getEVC())}),e._uU(2," EVC reseller "),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("disabled",!t.businessForm.value.win_ols_license_number)}}function ye(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",53)(1,"div")(2,"label",22),e._uU(3,"Business Name"),e.qZA(),e._UZ(4,"input",54),e.YNc(5,ce,2,0,"small",24),e.qZA(),e.TgZ(6,"div")(7,"label",55),e._uU(8,"Contact First Name"),e.qZA(),e._UZ(9,"input",23),e.YNc(10,ue,2,0,"small",24),e.qZA(),e.TgZ(11,"div")(12,"label",56),e._uU(13,"Contact Last Name "),e.qZA(),e._UZ(14,"input",26),e.YNc(15,me,2,0,"small",24),e.qZA(),e.TgZ(16,"div")(17,"label",57),e._uU(18,"Contact Email"),e.qZA(),e._UZ(19,"input",58),e.YNc(20,pe,2,0,"small",24),e.YNc(21,he,2,0,"small",24),e.qZA(),e.TgZ(22,"div")(23,"label",30),e._uU(24,"Address Line 1"),e.qZA(),e._UZ(25,"textarea",31),e.qZA(),e.TgZ(26,"div")(27,"label",30),e._uU(28,"Address Line 2"),e.qZA(),e._UZ(29,"textarea",32),e.qZA(),e.TgZ(30,"div",33)(31,"div")(32,"label",34),e._uU(33,"City"),e.qZA(),e._UZ(34,"input",35),e.qZA(),e.TgZ(35,"div")(36,"label",59),e._uU(37,"State"),e.qZA(),e._UZ(38,"input",37),e.qZA(),e.TgZ(39,"div")(40,"label",36),e._uU(41,"Country"),e.qZA(),e._UZ(42,"input",38),e.qZA()(),e.TgZ(43,"div")(44,"label",39),e._uU(45,"Zip / Postcode"),e.qZA(),e._UZ(46,"input",60),e.qZA(),e.YNc(47,ge,1,0,"ng-container",41),e.TgZ(48,"div")(49,"label",61),e._uU(50,"Tax number"),e.qZA(),e._UZ(51,"input",62),e.YNc(52,_e,2,0,"small",24),e.qZA(),e.TgZ(53,"div")(54,"label",63),e._uU(55,"Company number"),e.qZA(),e._UZ(56,"input",64),e.YNc(57,fe,2,0,"small",24),e.qZA(),e.TgZ(58,"div",65)(59,"label",66),e._uU(60,"WinOLS License number"),e.qZA(),e._UZ(61,"input",67),e.TgZ(62,"span",48),e._uU(63,"Applicable to EVC Software Operators only who are registered as EVC Resellers"),e.qZA(),e._UZ(64,"br"),e.YNc(65,Ce,2,0,"small",24),e.qZA(),e.YNc(66,be,3,1,"div",68),e.TgZ(67,"span",48),e._uU(68,"Please contact support@viezu.com, if you wish to update your address details."),e.qZA(),e.TgZ(69,"div",49)(70,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.businessFormSubmit())}),e._uU(71,"Update"),e.qZA()()()}if(2&i){const t=e.oxw(2),a=e.MAs(21);e.Q6J("formGroup",t.businessForm),e.xp6(4),e.Q6J("value",t.businessForm.controls.bussness_name.value),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.bussness_name.dirty&&t.businessForm.controls.bussness_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.first_name.invalid&&t.businessForm.controls.first_name.touched),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.first_name.dirty&&t.businessForm.controls.first_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.last_name.invalid&&t.businessForm.controls.last_name.touched),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.last_name.dirty&&t.businessForm.controls.last_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.email.invalid&&t.businessForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.email.dirty&&t.businessForm.controls.email.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.email.dirty&&t.businessForm.controls.email.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.address.invalid&&t.businessForm.controls.address.touched),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.address_2.invalid&&t.businessForm.controls.address_2.touched),e.xp6(5),e.ekj("is-invalid",t.businessForm.controls.city.invalid&&t.businessForm.controls.city.touched),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.state.invalid&&t.businessForm.controls.state.touched),e.xp6(8),e.ekj("is-invalid",t.businessForm.controls.zip.invalid&&t.businessForm.controls.zip.touched),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(36,R,t.businessForm)),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.tax_number.invalid&&t.businessForm.controls.tax_number.touched),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.tax_number.dirty&&t.businessForm.controls.tax_number.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.company_number.invalid&&t.businessForm.controls.company_number.touched),e.xp6(1),e.Q6J("ngIf",t.businessForm.controls.company_number.dirty&&t.businessForm.controls.company_number.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.businessForm.controls.win_ols_license_number.invalid&&t.businessForm.controls.win_ols_license_number.touched),e.Q6J("readonly",t.usersdetail.is_evc_customer&&t.usersdetail.is_evc_reseller_customer),e.xp6(4),e.Q6J("ngIf",t.businessForm.controls.win_ols_license_number.dirty&&t.businessForm.controls.win_ols_license_number.hasError("required")),e.xp6(1),e.Q6J("ngIf",!t.usersdetail.is_evc_customer||!t.usersdetail.is_evc_reseller_customer)}}function ve(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Business Name. "),e.qZA())}function Me(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter First Name. "),e.qZA())}function De(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Last Name. "),e.qZA())}function Oe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter valid email. "),e.qZA())}function Pe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter email. "),e.qZA())}function Ze(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Address Line 1. "),e.qZA())}function xe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Address Line 2. "),e.qZA())}function Te(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter City. "),e.qZA())}function Fe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter State. "),e.qZA())}function we(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Zip / Postcode. "),e.qZA())}function Ue(i,r){1&i&&e.GkF(0)}function Ae(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Tax number. "),e.qZA())}function Se(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Company number. "),e.qZA())}function Re(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",53)(1,"div")(2,"label",22),e._uU(3,"Business Name"),e.qZA(),e._UZ(4,"input",54),e.YNc(5,ve,2,0,"small",24),e.qZA(),e.TgZ(6,"div")(7,"label",22),e._uU(8,"First Name"),e.qZA(),e._UZ(9,"input",23),e.YNc(10,Me,2,0,"small",24),e.qZA(),e.TgZ(11,"div")(12,"label",25),e._uU(13,"Last Name"),e.qZA(),e._UZ(14,"input",26),e.YNc(15,De,2,0,"small",24),e.qZA(),e.TgZ(16,"div")(17,"label",28),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",29),e.YNc(20,Oe,2,0,"small",24),e.YNc(21,Pe,2,0,"small",24),e.qZA(),e.TgZ(22,"div")(23,"label",30),e._uU(24,"Address Line 1"),e.qZA(),e._UZ(25,"textarea",31),e.YNc(26,Ze,2,0,"small",24),e.qZA(),e.TgZ(27,"div")(28,"label",30),e._uU(29,"Address Line 2"),e.qZA(),e._UZ(30,"textarea",32),e.YNc(31,xe,2,0,"small",24),e.qZA(),e.TgZ(32,"div")(33,"label",34),e._uU(34,"City"),e.qZA(),e._UZ(35,"input",35),e.YNc(36,Te,2,0,"small",24),e.qZA(),e.TgZ(37,"div")(38,"label",36),e._uU(39,"State"),e.qZA(),e._UZ(40,"input",37),e.YNc(41,Fe,2,0,"small",24),e.qZA(),e.TgZ(42,"div")(43,"label",36),e._uU(44,"Country"),e.qZA(),e._UZ(45,"input",38),e.qZA(),e.TgZ(46,"div")(47,"label",39),e._uU(48,"Zip / Postcode"),e.qZA(),e._UZ(49,"input",40),e.YNc(50,we,2,0,"small",24),e.qZA(),e.YNc(51,Ue,1,0,"ng-container",41),e.TgZ(52,"div")(53,"label",61),e._uU(54,"Tax number"),e.qZA(),e._UZ(55,"input",62),e.YNc(56,Ae,2,0,"small",24),e.qZA(),e.TgZ(57,"div")(58,"label",63),e._uU(59,"Company number"),e.qZA(),e._UZ(60,"input",64),e.YNc(61,Se,2,0,"small",24),e.qZA(),e.TgZ(62,"div",72)(63,"label",66),e._uU(64,"WinOLS License number"),e.qZA(),e._UZ(65,"input",73),e.TgZ(66,"span",48),e._uU(67,"Applicable to EVC Software Operators only who are registered as EVC Resellers"),e.qZA(),e._UZ(68,"br"),e.qZA(),e.TgZ(69,"span",48),e._uU(70,"Please contact support@viezu.com, if you wish to update your address details."),e.qZA(),e.TgZ(71,"div",49)(72,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.resellerFormSubmit())}),e._uU(73,"Update"),e.qZA()()()}if(2&i){const t=e.oxw(2),a=e.MAs(21);e.Q6J("formGroup",t.resellerForm),e.xp6(4),e.Q6J("value",t.resellerForm.controls.bussness_name.value),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.bussness_name.touched&&t.resellerForm.controls.bussness_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.first_name.invalid&&t.resellerForm.controls.first_name.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.first_name.touched&&t.resellerForm.controls.first_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.last_name.invalid&&t.resellerForm.controls.last_name.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.last_name.touched&&t.resellerForm.controls.last_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.email.invalid&&t.resellerForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.email.dirty&&t.resellerForm.controls.email.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.email.touched&&t.resellerForm.controls.email.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.address.invalid&&t.resellerForm.controls.address.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.address.touched&&t.resellerForm.controls.address.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.address_2.invalid&&t.resellerForm.controls.address_2.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.address_2.touched&&t.resellerForm.controls.address_2.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.city.invalid&&t.resellerForm.controls.city.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.city.touched&&t.resellerForm.controls.city.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.state.invalid&&t.resellerForm.controls.state.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.state.touched&&t.resellerForm.controls.state.hasError("required")),e.xp6(8),e.ekj("is-invalid",t.resellerForm.controls.zip.invalid&&t.resellerForm.controls.zip.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.zip.touched&&t.resellerForm.controls.zip.hasError("required")),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(38,R,t.resellerForm)),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.tax_number.invalid&&t.resellerForm.controls.tax_number.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.tax_number.touched&&t.resellerForm.controls.tax_number.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.company_number.invalid&&t.resellerForm.controls.company_number.touched),e.xp6(1),e.Q6J("ngIf",t.resellerForm.controls.company_number.touched&&t.resellerForm.controls.company_number.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.resellerForm.controls.win_ols_license_number.invalid&&t.resellerForm.controls.win_ols_license_number.touched)}}function qe(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Business Name. "),e.qZA())}function ke(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter First Name. "),e.qZA())}function ze(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Last Name. "),e.qZA())}function Ie(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter valid email. "),e.qZA())}function Ne(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter email. "),e.qZA())}function Le(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Address Line 1. "),e.qZA())}function Be(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Address Line 2. "),e.qZA())}function Ee(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter City. "),e.qZA())}function Je(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter State. "),e.qZA())}function Ye(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter Zip / Postcode. "),e.qZA())}function Qe(i,r){1&i&&e.GkF(0)}function Ve(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Please enter WinOLS License number. "),e.qZA())}function Ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",53)(1,"div")(2,"label",22),e._uU(3,"Business Name"),e.qZA(),e._UZ(4,"input",54),e.YNc(5,qe,2,0,"small",24),e.qZA(),e.TgZ(6,"div")(7,"label",22),e._uU(8,"First Name"),e.qZA(),e._UZ(9,"input",23),e.YNc(10,ke,2,0,"small",24),e.qZA(),e.TgZ(11,"div")(12,"label",25),e._uU(13,"Last Name"),e.qZA(),e._UZ(14,"input",26),e.YNc(15,ze,2,0,"small",24),e.qZA(),e.TgZ(16,"div")(17,"label",28),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",29),e.YNc(20,Ie,2,0,"small",24),e.YNc(21,Ne,2,0,"small",24),e.qZA(),e.TgZ(22,"div")(23,"label",30),e._uU(24,"Address Line 1"),e.qZA(),e._UZ(25,"textarea",74),e.TgZ(26,"span",48),e._uU(27,"Please contact support@viezu.com, if you wish to update your address details."),e.qZA(),e.YNc(28,Le,2,0,"small",24),e.qZA(),e.TgZ(29,"div")(30,"label",30),e._uU(31,"Address Line 2"),e.qZA(),e._UZ(32,"textarea",75),e.YNc(33,Be,2,0,"small",24),e.qZA(),e.TgZ(34,"div")(35,"label",34),e._uU(36,"City"),e.qZA(),e._UZ(37,"input",76),e.YNc(38,Ee,2,0,"small",24),e.qZA(),e.TgZ(39,"div")(40,"label",36),e._uU(41,"State"),e.qZA(),e._UZ(42,"input",77),e.YNc(43,Je,2,0,"small",24),e.qZA(),e.TgZ(44,"div")(45,"label",36),e._uU(46,"Country"),e.qZA(),e._UZ(47,"input",38),e.qZA(),e.TgZ(48,"div")(49,"label",39),e._uU(50,"Zip / Postcode"),e.qZA(),e._UZ(51,"input",78),e.YNc(52,Ye,2,0,"small",24),e.qZA(),e.YNc(53,Qe,1,0,"ng-container",41),e.TgZ(54,"div",72)(55,"label",66),e._uU(56,"WinOLS License number"),e.qZA(),e._UZ(57,"input",73),e.TgZ(58,"span",48),e._uU(59,"Applicable to EVC Software Operators only who are registered as EVC Resellers"),e.qZA(),e._UZ(60,"br"),e.YNc(61,Ve,2,0,"small",24),e.qZA(),e.TgZ(62,"div",49)(63,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.subDealerFormSubmit())}),e._uU(64,"Update"),e.qZA()()()}if(2&i){const t=e.oxw(2),a=e.MAs(21);e.Q6J("formGroup",t.subDealerForm),e.xp6(4),e.Q6J("value",t.subDealerForm.controls.bussness_name.value),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.bussness_name.touched&&t.subDealerForm.controls.bussness_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.first_name.invalid&&t.subDealerForm.controls.first_name.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.first_name.touched&&t.subDealerForm.controls.first_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.last_name.invalid&&t.subDealerForm.controls.last_name.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.last_name.touched&&t.subDealerForm.controls.last_name.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.email.invalid&&t.subDealerForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.email.dirty&&t.subDealerForm.controls.email.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.email.touched&&t.subDealerForm.controls.email.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.address.invalid&&t.subDealerForm.controls.address.touched),e.xp6(3),e.Q6J("ngIf",t.subDealerForm.controls.address.touched&&t.subDealerForm.controls.address.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.address_2.invalid&&t.subDealerForm.controls.address_2.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.address_2.touched&&t.subDealerForm.controls.address_2.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.city.invalid&&t.subDealerForm.controls.city.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.city.touched&&t.subDealerForm.controls.city.hasError("required")),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.state.invalid&&t.subDealerForm.controls.state.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.state.touched&&t.subDealerForm.controls.state.hasError("required")),e.xp6(8),e.ekj("is-invalid",t.subDealerForm.controls.zip.invalid&&t.subDealerForm.controls.zip.touched),e.xp6(1),e.Q6J("ngIf",t.subDealerForm.controls.zip.touched&&t.subDealerForm.controls.zip.hasError("required")),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(33,R,t.subDealerForm)),e.xp6(4),e.ekj("is-invalid",t.subDealerForm.controls.win_ols_license_number.invalid&&t.subDealerForm.controls.win_ols_license_number.touched),e.xp6(4),e.Q6J("ngIf",t.subDealerForm.controls.win_ols_license_number.touched&&t.subDealerForm.controls.win_ols_license_number.hasError("required"))}}function je(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"div",13),e._UZ(4,"img",14),e.TgZ(5,"div")(6,"div",15),e._UZ(7,"img",16),e.qZA(),e.TgZ(8,"input",17),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileChange(n))}),e.qZA()()()(),e.TgZ(9,"div",18),e.YNc(10,de,61,30,"form",19),e.YNc(11,ye,72,38,"form",20),e.YNc(12,Re,74,40,"form",20),e.YNc(13,Ke,65,35,"form",20),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("src",t.image||"../../../../assets/images/icon/avtarIcon.jpeg",e.LSH),e.xp6(6),e.Q6J("ngIf","INDIVIDUAL_CUSTOMER"==t.userRole),e.xp6(1),e.Q6J("ngIf","BUSINESS_CUSTOMER"==t.userRole),e.xp6(1),e.Q6J("ngIf","RESELLER"==t.userRole),e.xp6(1),e.Q6J("ngIf","DEALER"==t.userRole)}}function $e(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1,"Current password required"),e.qZA())}function Ge(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,$e,2,0,"small",24),e.qZA()),2&i){const t=e.oxw(2);let a;e.xp6(1),e.Q6J("ngIf",null==(a=t.changePasswordForm.get("current_password"))?null:a.hasError("required"))}}function He(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1,"New password required "),e.qZA())}function We(i,r){1&i&&e.GkF(0)}const Xe=function(i){return{form:i,control:"new_password"}};function et(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,He,2,0,"small",24),e.YNc(2,We,1,0,"ng-container",41),e.qZA()),2&i){const t=e.oxw(2),a=e.MAs(19);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.changePasswordForm.get("new_password"))?null:n.hasError("required")),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(3,Xe,t.changePasswordForm))}}function tt(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1,"Confirm password required "),e.qZA())}function nt(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,tt,2,0,"small",24),e.qZA()),2&i){const t=e.oxw(2);let a;e.xp6(1),e.Q6J("ngIf",null==(a=t.changePasswordForm.get("confirm_password"))?null:a.hasError("required"))}}function at(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Password not matched. "),e.qZA())}function it(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",79)(1,"div",18)(2,"form",53)(3,"div")(4,"label",80),e._uU(5,"Current Password"),e.qZA(),e._UZ(6,"input",81),e.TgZ(7,"i",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.textType="password"==n.textType?"text":"password")}),e.qZA(),e.YNc(8,Ge,2,1,"div",7),e.qZA(),e.TgZ(9,"div")(10,"label",83),e._uU(11,"New Password"),e.qZA(),e._UZ(12,"input",84),e.TgZ(13,"i",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.textType2="password"==n.textType2?"text":"password")}),e.qZA(),e.YNc(14,et,3,5,"div",7),e.qZA(),e.TgZ(15,"div")(16,"label",85),e._uU(17,"Confirm Password"),e.qZA(),e._UZ(18,"input",86),e.TgZ(19,"i",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.textType3="password"==n.textType3?"text":"password")}),e.qZA(),e.YNc(20,nt,2,1,"div",7),e.TgZ(21,"div"),e.YNc(22,at,2,0,"small",24),e.qZA()(),e.TgZ(23,"div",49)(24,"button",87),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.tab="profile",e.KtG(n.changePasswordForm.reset())}),e._uU(25,"Cancel"),e.qZA(),e.TgZ(26,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changePasswordFormSubmit())}),e._uU(27,"Update"),e.qZA()()()()()}if(2&i){const t=e.oxw();let a,n,s;e.xp6(2),e.Q6J("formGroup",t.changePasswordForm),e.xp6(4),e.Q6J("type",t.textType),e.xp6(2),e.Q6J("ngIf",(null==(a=t.changePasswordForm.get("current_password"))?null:a.invalid)&&((null==(a=t.changePasswordForm.get("current_password"))?null:a.touched)||(null==(a=t.changePasswordForm.get("current_password"))?null:a.dirty))),e.xp6(4),e.Q6J("type",t.textType2),e.xp6(2),e.Q6J("ngIf",(null==(n=t.changePasswordForm.get("new_password"))?null:n.invalid)&&((null==(n=t.changePasswordForm.get("new_password"))?null:n.touched)||(null==(n=t.changePasswordForm.get("new_password"))?null:n.dirty))),e.xp6(4),e.Q6J("type",t.textType3),e.xp6(2),e.Q6J("ngIf",(null==(s=t.changePasswordForm.get("confirm_password"))?null:s.invalid)&&((null==(s=t.changePasswordForm.get("confirm_password"))?null:s.touched)||(null==(s=t.changePasswordForm.get("confirm_password"))?null:s.dirty))),e.xp6(2),e.Q6J("ngIf",t.changePasswordForm.controls.confirm_password.dirty&&t.changePasswordForm.controls.confirm_password.value!=t.changePasswordForm.controls.new_password.value)}}function st(i,r){1&i&&(e.TgZ(0,"small",92),e._uU(1," include both lower and upper case characters. "),e.qZA())}function ot(i,r){1&i&&(e.TgZ(0,"small",92),e._uU(1," include at least one number and one special characters (! @ # $ % ^ & or *). "),e.qZA())}function rt(i,r){1&i&&(e.TgZ(0,"small",92),e._uU(1," be at least 8 characters long. "),e.qZA())}function lt(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"p",88),e._uU(2,"Password must needs to:"),e.qZA(),e.TgZ(3,"div",89),e.YNc(4,st,2,0,"small",90),e.ALo(5,"passwordValidator"),e.ALo(6,"passwordValidator"),e.TgZ(7,"p",91),e.YNc(8,ot,2,0,"small",90),e.ALo(9,"passwordValidator"),e.ALo(10,"passwordValidator"),e.qZA(),e.TgZ(11,"p",91),e.YNc(12,rt,2,0,"small",90),e.ALo(13,"passwordValidator"),e.qZA()(),e.BQk()),2&i){const t=e.oxw(),a=t.control,n=t.form;let s,o,m;e.xp6(4),e.Q6J("ngIf",e.lcZ(5,3,null==(s=n.get(a))?null:s.value).includes("LOWERCASE")||e.lcZ(6,5,null==(s=n.get(a))?null:s.value).includes("UPPERCASE")),e.xp6(4),e.Q6J("ngIf",e.lcZ(9,7,null==(o=n.get(a))?null:o.value).includes("NUMBER")||e.lcZ(10,9,null==(o=n.get(a))?null:o.value).includes("SPECIAL")),e.xp6(4),e.Q6J("ngIf",e.lcZ(13,11,null==(m=n.get(a))?null:m.value).includes("MIN"))}}function dt(i,r){1&i&&e.YNc(0,lt,14,13,"ng-container",7),2&i&&e.Q6J("ngIf",r.form.hasError("pattern",r.control))}function ct(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Invalid phone number. "),e.qZA())}function ut(i,r){1&i&&(e.TgZ(0,"small",51),e._uU(1," Phone number is required "),e.qZA())}const mt=function(){return{separateDialCode:!0,initialCountry:"GB"}};function pt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"label",93),e._uU(2,"Phone"),e.qZA(),e.TgZ(3,"input",94),e.NdJ("countryChange",function(n){const o=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.setCountryCode(n,o))}),e.qZA(),e.YNc(4,ct,2,0,"small",24),e.YNc(5,ut,2,0,"small",24),e.qZA()}if(2&i){const t=r.$implicit;e.Q6J("formGroup",t),e.xp6(3),e.ekj("is-invalid",t.controls.phone_no.invalid&&t.controls.phone_no.touched),e.Q6J("ng2TelInputOptions",e.DdM(6,mt)),e.xp6(1),e.Q6J("ngIf",t.controls.phone_no.dirty&&t.controls.phone_no.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.controls.phone_no.dirty&&t.controls.phone_no.hasError("required"))}}let ht=(()=>{class i{constructor(t,a,n,s,o,m,l){this.fb=t,this._crudservice=a,this.toastr=n,this._titleservice=s,this.notification=o,this.crud=m,this.sessionService=l,this.addphoneindividualerror=!0,this.formType=!0,this.tab="profile",this.countries=c(3376).hW,this.image="",this.addphoneerror=!0,this.formData=new FormData,this.showOtpBox=!1,this.addmobileResellererror=!0,this.textType="password",this.textType2="password",this.textType3="password",this.obj=[{alpha2:"US",name:"United States"},{alpha2:"GB",name:"United Kingdom"}],this.oldCountryCode="",this._titleservice.setTitle("My Profile"),this.profileForm=this.fb.group({first_name:["",d.kI.required],last_name:["",d.kI.required],address:["",d.kI.required],country:["India",d.kI.required],phone_no:["",d.kI.required],email:["",[d.kI.required,d.kI.email]]}),this.changeEmailForm=this.fb.group({email:["",[d.kI.required,d.kI.email]]}),this.verifyOtpForm=this.fb.group({otp:["",d.kI.required]}),this.changePasswordForm=this.fb.group({current_password:["",d.kI.required],new_password:["",[d.kI.required,d.kI.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/)]],confirm_password:["",[d.kI.required,d.kI.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/)]]}),this.individualForm=this.fb.group({first_name:["",[d.kI.required]],last_name:["",[d.kI.required]],phone_no:["",[d.kI.required]],country_code:[""],email:["",[d.kI.required,d.kI.email]],address:[""],address_2:[""],country:["United Kingdom"],state:[""],city:[""],zip:[""],product_name:[" ",[]],tool_serial_number:["",[]]}),this.businessForm=this.fb.group({bussness_name:["",[d.kI.required]],tax_number:["",[]],company_number:["",[]],win_ols_license_number:["",[]],address:[""],address_2:[""],country:["United Kingdom"],state:[""],city:[""],zip:[""],first_name:["",[d.kI.required]],last_name:["",[d.kI.required]],country_code:[""],phone_no:["",[d.kI.required]],email:["",[d.kI.required,d.kI.email]]}),this.resellerForm=this.fb.group({bussness_name:["",[d.kI.required]],tax_number:[""],company_number:[""],win_ols_license_number:["",[]],first_name:["",[d.kI.required]],last_name:["",[d.kI.required]],phone_no:[""],country_code:[""],email:["",[d.kI.required,d.kI.email]],address:["",[d.kI.required]],address_2:["",[d.kI.required]],country:["United Kingdom",[d.kI.required]],state:["",[d.kI.required]],city:["",[d.kI.required]],zip:["",[d.kI.required]]}),this.subDealerForm=this.fb.group({bussness_name:["",[d.kI.required]],tax_number:[""],company_number:[""],win_ols_license_number:["",[]],first_name:["",[d.kI.required]],last_name:["",[d.kI.required]],phone_no:[""],country_code:[""],email:["",[d.kI.required,d.kI.email]],address:["",[d.kI.required]],address_2:["",[d.kI.required]],country:["United Kingdom",[d.kI.required]],state:["",[d.kI.required]],city:["",[d.kI.required]],zip:["",[d.kI.required]],resellerId:["Select Reseller",[d.kI.required]]})}ngOnInit(){this.countries.all.sort((a,n)=>a.name>n.name?1:-1),this.obj.forEach(a=>{this.moveCountryOnTop(a.name)}),this.usersdetail=JSON.parse(localStorage.getItem("userdetails")||""),this.userRole=this.usersdetail?.role,"INDIVIDUAL_CUSTOMER"==this.userRole?(this.individualForm.controls.product_name.setValue(this.usersdetail?.additional.product_name),this.individualForm.controls.tool_serial_number.setValue(this.usersdetail?.additional.tool_serial_number),this.individualForm.controls.first_name.setValue(this.usersdetail?.first_name),this.individualForm.controls.last_name.setValue(this.usersdetail?.last_name),this.setPhoneNumber(this.usersdetail?.phone_no,this.usersdetail?.country_code,this.individualForm),this.individualForm.controls.country_code.setValue(this.usersdetail?.country_code),this.individualForm.controls.email.setValue(this.usersdetail?.email),this.individualForm.controls.address.setValue(this.usersdetail?.address_user?.address),this.individualForm.controls.address_2.setValue(this.usersdetail?.address_user?.address_2),this.individualForm.controls.country.setValue(this.usersdetail?.address_user?.country),this.individualForm.controls.state.setValue(this.usersdetail?.address_user?.state),this.individualForm.controls.city.setValue(this.usersdetail?.address_user?.city),this.individualForm.controls.zip.setValue(this.usersdetail?.address_user?.zip),this.crud.getRequest(`${g.d.getProduct}`).then(a=>{this.products=a.data.results})):"BUSINESS_CUSTOMER"==this.userRole?(this.businessForm.controls.bussness_name.setValue(this.usersdetail?.additional.bussness_name),this.businessForm.controls.tax_number.setValue(this.usersdetail?.additional.tax_number),this.businessForm.controls.company_number.setValue(this.usersdetail?.additional.company_number),this.businessForm.controls.win_ols_license_number.setValue(this.usersdetail?.additional.win_ols_license_number),this.businessForm.controls.first_name.setValue(this.usersdetail?.first_name),this.businessForm.controls.last_name.setValue(this.usersdetail?.last_name),this.businessForm.controls.email.setValue(this.usersdetail?.email),this.setPhoneNumber(this.usersdetail?.phone_no,this.usersdetail?.country_code,this.businessForm),this.businessForm.controls.country_code.setValue(this.usersdetail?.country_code),this.businessForm.controls.address.setValue(this.usersdetail?.address_user?.address),this.businessForm.controls.address_2.setValue(this.usersdetail?.address_user?.address_2),this.businessForm.controls.country.setValue(this.usersdetail?.address_user?.country),this.businessForm.controls.state.setValue(this.usersdetail?.address_user?.state),this.businessForm.controls.city.setValue(this.usersdetail?.address_user?.city),this.businessForm.controls.zip.setValue(this.usersdetail?.address_user?.zip)):"RESELLER"==this.userRole?(this.resellerForm.controls.bussness_name.setValue(this.usersdetail?.additional.bussness_name),this.resellerForm.controls.tax_number.setValue(this.usersdetail?.additional.tax_number),this.resellerForm.controls.company_number.setValue(this.usersdetail?.additional.company_number),this.resellerForm.controls.win_ols_license_number.setValue(this.usersdetail?.additional.win_ols_license_number),this.resellerForm.controls.first_name.setValue(this.usersdetail?.first_name),this.resellerForm.controls.last_name.setValue(this.usersdetail?.last_name),this.resellerForm.controls.email.setValue(this.usersdetail?.email),this.setPhoneNumber(this.usersdetail?.phone_no,this.usersdetail?.country_code,this.resellerForm),this.resellerForm.controls.country_code.setValue(this.usersdetail?.country_code),this.resellerForm.controls.address.setValue(this.usersdetail?.address_user?.address),this.resellerForm.controls.address_2.setValue(this.usersdetail?.address_user?.address_2),this.resellerForm.controls.country.setValue(this.usersdetail?.address_user?.country),this.resellerForm.controls.state.setValue(this.usersdetail?.address_user?.state),this.resellerForm.controls.city.setValue(this.usersdetail?.address_user?.city),this.resellerForm.controls.zip.setValue(this.usersdetail?.address_user?.zip)):"DEALER"==this.userRole&&(this.subDealerForm.controls.bussness_name.setValue(this.usersdetail?.additional.bussness_name),this.subDealerForm.controls.tax_number.setValue(this.usersdetail?.additional.tax_number),this.subDealerForm.controls.company_number.setValue(this.usersdetail?.additional.company_number),this.subDealerForm.controls.win_ols_license_number.setValue(this.usersdetail?.additional.win_ols_license_number),this.subDealerForm.controls.first_name.setValue(this.usersdetail?.first_name),this.subDealerForm.controls.last_name.setValue(this.usersdetail?.last_name),this.subDealerForm.controls.email.setValue(this.usersdetail?.email),this.setPhoneNumber(this.usersdetail?.phone_no,this.usersdetail?.country_code,this.subDealerForm),this.subDealerForm.controls.country_code.setValue(this.usersdetail?.country_code),this.subDealerForm.controls.address.setValue(this.usersdetail?.address_user?.address),this.subDealerForm.controls.address_2.setValue(this.usersdetail?.address_user?.address_2),this.subDealerForm.controls.country.setValue(this.usersdetail?.address_user?.country),this.subDealerForm.controls.state.setValue(this.usersdetail?.address_user?.state),this.subDealerForm.controls.city.setValue(this.usersdetail?.address_user?.city),this.subDealerForm.controls.zip.setValue(this.usersdetail?.address_user?.zip)),this.image=this.usersdetail?.image,this.profileForm.patchValue({first_name:this.usersdetail?.first_name,last_name:this.usersdetail?.last_name,address:this.usersdetail?.address_user.address,country:typeof this.usersdetail?.address_user?.country<"u"?this.usersdetail?.address_user?.country:"India",phone_no:this.usersdetail?.phone_no,email:this.usersdetail?.email})}setPhoneNumber(t,a,n){this.oldCountryCode=a;let s="";s=a&&!t.includes(a)?`+${a}${t}`:t,n.get("phone_no")?.setValue(s),console.log(s,n,"number")}getPhoneNumber(t){const a=t.controls.phone_no.value,n=t.controls.country_code.value;return n&&a.includes("+"+n)?a.replace("+"+n,""):n&&a.includes("+"+this.oldCountryCode)?a.replace("+"+this.oldCountryCode,""):a}setCountryCode(t,a){console.log("change country",t),a.patchValue({country_code:t.dialCode})}moveCountryOnTop(t){const a=this.countries.all.findIndex(n=>n.name===t);if(-1!==a){const n=this.countries.all.splice(a,1)[0];this.countries.all.unshift(n)}}individualFormFormSubmit(){let t=this.individualForm.value,a={individual_profile:{product_name:t.product_name,tool_serial_number:t.tool_serial_number},address:{address_2:t.address_2,address:t.address,state:t.state,city:t.city,zip:t.zip},individual:{first_name:t.first_name,last_name:t.last_name,phone_no:this.getPhoneNumber(this.individualForm),country_code:t.country_code,email:t.email}};this.crud.postRequest(g.d.updateCustomerIndividualProfile,a).then(n=>{n&&(this.toastr.success(n.message,"",{timeOut:4e3}),this.usersdetail.first_name=this.individualForm.controls.first_name.value,this.usersdetail.last_name=this.individualForm.controls.last_name.value,this.usersdetail.address_user={address:this.individualForm.controls.address.value,address_2:this.individualForm.controls.address_2.value,country:this.individualForm.controls.country.value,state:this.individualForm.controls.state.value,city:this.individualForm.controls.city.value,zip:this.individualForm.controls.zip.value},this.usersdetail.additional={product_name:this.individualForm.controls.product_name.value,tool_serial_number:this.individualForm.controls.tool_serial_number.value},this.usersdetail.phone_no=this.individualForm.controls.phone_no.value,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail)),this.notification.updateProfileImg(!0))})}businessFormSubmit(){if(this.businessForm.invalid)return;let t=this.businessForm.value,a={business_profile:{bussness_name:t.bussness_name,tax_number:t.tax_number,company_number:t.company_number,win_ols_license_number:t.win_ols_license_number},address:{address_2:t.address_2,address:t.address,country:t.country,state:t.state,city:t.city,zip:t.zip},business:{first_name:t.first_name,last_name:t.last_name,phone_no:this.getPhoneNumber(this.businessForm),country_code:t.country_code,email:t.email},captcha_response:""};this.crud.postRequest(g.d.updateCustomerBusinessProfile,a).then(n=>{this.usersdetail.first_name=this.businessForm.controls.first_name.value,this.usersdetail.last_name=this.businessForm.controls.last_name.value,this.usersdetail.address_user={address:this.businessForm.controls.address.value,address_2:this.businessForm.controls.address_2.value,country:this.businessForm.controls.country.value,state:this.businessForm.controls.state.value,city:this.businessForm.controls.city.value,zip:this.businessForm.controls.zip.value},this.usersdetail.additional={win_ols_license_number:this.businessForm.controls.win_ols_license_number.value,company_number:this.businessForm.controls.company_number.value,tax_number:this.businessForm.controls.tax_number.value,bussness_name:this.businessForm.controls.bussness_name.value},this.usersdetail.phone_no=this.businessForm.controls.phone_no.value,this.usersdetail.is_evc_customer=n.data?.is_evc_customer,this.usersdetail.is_evc_reseller_customer=n.data?.is_evc_reseller_customer,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail)),this.notification.updateProfileImg(!0),this.toastr.success(n.message,"",{timeOut:4e3})})}resellerFormSubmit(){if(this.resellerForm.invalid)return;let t=this.resellerForm.value,a={detail:{bussness_name:t.bussness_name,tax_number:t.tax_number,company_number:t.company_number,win_ols_license_number:t.win_ols_license_number},address:{address_2:t.address_2,address:t.address,country:t.country,state:t.state,city:t.city,zip:t.zip},reseller:{first_name:t.first_name,last_name:t.last_name,phone_no:this.getPhoneNumber(this.resellerForm),country_code:t.country_code,email:t.email},uuid:this.usersdetail.uuid};this.crud.putRequest(`${b.t.addReseller}`,a).then(n=>{this.usersdetail.first_name=this.resellerForm.controls.first_name.value,this.usersdetail.last_name=this.resellerForm.controls.last_name.value,this.usersdetail.additional={win_ols_license_number:this.resellerForm.controls.win_ols_license_number.value,company_number:this.resellerForm.controls.company_number.value,tax_number:this.resellerForm.controls.tax_number.value,bussness_name:this.resellerForm.controls.bussness_name.value},this.usersdetail.address_user={address:this.resellerForm.controls.address.value,address_2:this.resellerForm.controls.address_2.value,country:this.resellerForm.controls.country.value,state:this.resellerForm.controls.state.value,city:this.resellerForm.controls.city.value,zip:this.resellerForm.controls.zip.value},this.usersdetail.phone_no=this.resellerForm.controls.phone_no.value,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail)),this.notification.updateProfileImg(!0),this.toastr.success(n.message,"",{timeOut:4e3})})}subDealerFormSubmit(){if(this.subDealerForm.invalid)return;let t=this.subDealerForm.value,a={detail:{bussness_name:t.bussness_name,tax_number:t.tax_number,company_number:t.company_number,win_ols_license_number:t.win_ols_license_number},address:{address_2:t.address_2,address:t.address,country:t.country,state:t.state,city:t.city,zip:t.zip},dealer:{first_name:t.first_name,last_name:t.last_name,phone_no:this.getPhoneNumber(this.subDealerForm),country_code:t.country_code,email:t.email},uuid:this.usersdetail.uuid,parent:this.usersdetail.parent};this.crud.putRequest(b.t.addSubDealer,a).then(n=>{n&&(this.usersdetail.first_name=this.subDealerForm.controls.first_name.value,this.usersdetail.last_name=this.subDealerForm.controls.last_name.value,this.usersdetail.additional={win_ols_license_number:this.subDealerForm.controls.win_ols_license_number.value,company_number:this.subDealerForm.controls.company_number.value,tax_number:this.subDealerForm.controls.tax_number.value,bussness_name:this.subDealerForm.controls.bussness_name.value},this.usersdetail.address_user={address:this.subDealerForm.controls.address.value,address_2:this.subDealerForm.controls.address_2.value,country:this.subDealerForm.controls.country.value,state:this.subDealerForm.controls.state.value,city:this.subDealerForm.controls.city.value,zip:this.subDealerForm.controls.zip.value},this.usersdetail.phone_no=this.subDealerForm.controls.phone_no.value,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail)),this.notification.updateProfileImg(!0),this.toastr.success(n.message,"",{timeOut:4e3}))})}profileFormSubmit(){this.formData.append("first_name",this.profileForm.controls.first_name.value),this.formData.append("last_name",this.profileForm.controls.last_name.value),this.formData.append("country",this.profileForm.controls.country.value),this.formData.append("address",this.profileForm.controls.address.value),this.formData.append("phone_no",this.profileForm.controls.phone_no.value),this._crudservice.post("/api/v1/admin/profile",this.formData).subscribe(t=>{this.toastr.success(t.message,"",{timeOut:4e3}),this.usersdetail.first_name=this.profileForm.controls.first_name.value,this.usersdetail.last_name=this.profileForm.controls.last_name.value,this.usersdetail.address_user={address:this.profileForm.controls.address.value,country:this.profileForm.controls.country.value},this.usersdetail.phone_no=this.profileForm.controls.phone_no.value,this.usersdetail.image=t.image,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail)),this.notification.updateProfileImg(!0)},t=>{this.toastr.error(t.error.detail,"",{timeOut:4e3})})}onFileChange(t){if(t.target.files&&t.target.files[0]){const a=t.target.files[0],n=new FileReader;n.onload=s=>this.image=n.result,n.readAsDataURL(a),this.formData.append("image",a),this.formData.append("uuid",this.usersdetail?.uuid),this.updateProfileImg()}}addmobileResellerError(t){this.addmobileResellererror=t,this.resellerForm.controls.mobile_no.setErrors(t?null:{incorrect:!1})}updateProfileImg(){this.crud.postRequest(`${b.t.updateProfileImg}`,this.formData).then(t=>{t&&(this.usersdetail.image=t.url,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail)),this.notification.updateProfileImg(!0))})}addphoneError(t){this.addphoneerror=t,this.profileForm.controls.phone_no.setErrors(t?null:{incorrect:!1})}getPrimaryPhone(t){this.profileForm.patchValue({phone_no:t})}addphoneIndividualError(t){this.addphoneindividualerror=t,this.individualForm.controls.phone_no.setErrors(t?null:{incorrect:!1})}changeEmailFormSubmit(){this._crudservice.post("/api/v1/account/update-email-request",this.changeEmailForm.value).subscribe(a=>{this.showOtpBox=!0,this.toastr.success(a.message,"",{timeOut:4e3})},a=>{this.showOtpBox=!1,this.toastr.error(a.error.detail,"",{timeOut:4e3})})}verifyOtpFormSubmit(){let t={email:this.changeEmailForm.value.email,otp:this.verifyOtpForm.value.otp,uuid:this.usersdetail.uuid};this._crudservice.post("/api/v1/account/update-email",t).subscribe(a=>{this.toastr.success(a.message,"",{timeOut:4e3}),document.getElementById("hidechangeemailmodal")?.click(),this.sessionService.replaceKey("email",t.email),"INDIVIDUAL_CUSTOMER"==this.userRole?this.individualForm.controls.email.setValue(t.email):"BUSINESS_CUSTOMER"==this.userRole&&this.businessForm.controls.email.setValue(t.email)},a=>{this.toastr.error(a.error.detail,"",{timeOut:4e3})})}changePasswordFormSubmit(){if(this.changePasswordForm.valid){let t=this.changePasswordForm.value;t.current_password=(0,v.y)(this.changePasswordForm.controls.current_password.value),t.new_password=(0,v.y)(this.changePasswordForm.controls.new_password.value),this._crudservice.post(`/api/v1/${b.t.adminChangePswd}`,t).subscribe(a=>{this.toastr.success(a.message,"",{timeOut:4e3})},a=>{this.toastr.error(a.error.detail,"",{timeOut:4e3})})}else this.markAllControlsAsTouched(this.changePasswordForm)}markAllControlsAsTouched(t){Object.values(t.controls).forEach(a=>{a.markAsTouched(),a instanceof d.cw&&this.markAllControlsAsTouched(a)})}getPrimaryIndividualmobile(t){this.resellerForm.patchValue({mobile_no:t})}getPrimaryIndividualPhone(t){this.individualForm.patchValue({phone_no:t})}getEVC(){this.crud.postRequest(`${g.d.getEVCcustomer}`,{win_ols_license_number:"BUSINESS_CUSTOMER"==this.userRole?this.businessForm.value.win_ols_license_number:"RESELLER"==this.userRole?this.resellerForm.value.win_ols_license_number:this.subDealerForm.value.win_ols_license_number,uuid:this.usersdetail.uuid}).then(a=>{a&&a.success?(this.toastr.success(a.message),this.usersdetail.is_evc_customer=a.is_evc_customer,this.usersdetail.is_evc_reseller_customer=a.is_evc_reseller_customer,this.usersdetail.additional.win_ols_license_number=this.businessForm.controls.win_ols_license_number.value,localStorage.setItem("userdetails",JSON.stringify(this.usersdetail))):this.toastr.error(a.message)})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(d.qu),e.Y36(F.m),e.Y36(Z._W),e.Y36(M.Dx),e.Y36(x.T),e.Y36(S.I),e.Y36(W.m))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-my-profile"]],viewQuery:function(a,n){if(1&a&&e.Gf(ee,5),2&a){let s;e.iGM(s=e.CRH())&&(n.phoneInput=s.first)}},decls:22,vars:4,consts:[[1,"admin-profile"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/role","routerLinkActive","active"],[1,"profile-inner"],[3,"ngClass","click"],[4,"ngIf"],["class","chpassword",4,"ngIf"],["newErrors",""],["phone",""],[1,"addUser"],[1,"profile-info"],[1,"upload-pic"],[3,"src"],[1,"uploadtext"],["src","assets/images/icon/camraIcon.png","alt","upload"],["type","file","accept","image/png, image/gif, image/jpeg",3,"change"],[1,"formFields"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"formGroup","ngSubmit"],["for","first-name",1,"form-label"],["type","text","formControlName","first_name","placeholder","First name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","last name",1,"form-label"],["type","text","formControlName","last_name","placeholder","Last Name",1,"form-control"],[1,"emaildiv"],["for","email",1,"form-label"],["type","text","formControlName","email","placeholder","Email","readonly","",1,"form-control"],["for","address",1,"form-label"],["formControlName","address","placeholder","Address Line 1","readonly","",1,"form-control"],["formControlName","address_2","placeholder","Address Line 2","readonly","",1,"form-control"],[1,"cityStateCountry",2,"width","100%","display","flex","justify-content","space-between"],["for","city",1,"form-label"],["type","text","formControlName","city","placeholder","City","readonly","",1,"form-control"],["for","country",1,"form-label"],["type","text","formControlName","state","placeholder","State","readonly","",1,"form-control"],["type","text","formControlName","country","readonly","",1,"form-control"],["for","pincode",1,"form-label"],["type","text","formControlName","zip","placeholder","Zip / Postcode","readonly","",1,"form-control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","product_name",1,"form-label"],["formControlName","product_name",1,"form-control"],["selected","","disabled","","value"," "],[3,"value",4,"ngFor","ngForOf"],["for","tool_serial_number",1,"form-label"],["type","text","formControlName","tool_serial_number","placeholder","Tool Serial number",1,"form-control"],[2,"font-size","13px","padding-top","3px"],[1,"submitReset"],["type","submit",1,"btn-primary"],[1,"text-danger"],[3,"value"],[3,"formGroup"],["type","text","readonly","","placeholder","Business Name",1,"form-control",3,"value"],["for","first_name",1,"form-label"],["for","last_name",1,"form-label"],["for","business_email",1,"form-label"],["type","text","formControlName","email","readonly","","placeholder","Email",1,"form-control"],["for","state",1,"form-label"],["type","text","formControlName","zip","maxlength","10","size","10","placeholder","Zip / Postcode","readonly","",1,"form-control"],["for","tax_number",1,"form-label"],["type","text","formControlName","tax_number","placeholder","Tax number",1,"form-control"],["for","company_number",1,"form-label"],["type","text","formControlName","company_number","placeholder","Company number",1,"form-control"],[1,""],["for","win_ols_license_number",1,"form-label"],["type","text","formControlName","win_ols_license_number","placeholder","WinOLS License number",1,"form-control",3,"readonly"],["class","d-flex align-items-center",4,"ngIf"],["type","submit",1,"btn-primary",3,"click"],[1,"d-flex","align-items-center"],["type","submit",1,"evcSell",3,"disabled","click"],[1,"alignLeft"],["type","text","formControlName","win_ols_license_number","placeholder","WinOLS License number",1,"form-control"],["readonly","","formControlName","address","placeholder","Address Line 1",1,"form-control"],["readonly","","formControlName","address_2","placeholder","Address Line 2",1,"form-control"],["type","text","readonly","","formControlName","city","placeholder","City",1,"form-control"],["type","text","readonly","","formControlName","state","placeholder","State",1,"form-control"],["type","text","readonly","","formControlName","zip","placeholder","Zip / Postcode",1,"form-control"],[1,"chpassword"],["for","opwd",1,"form-label"],["id","opwd","value","12345678","formControlName","current_password",1,"form-control",3,"type"],[1,"fa","fa-eye","eyeIcon",3,"click"],["for","npwd",1,"form-label"],["id","npwd","value","12345678","formControlName","new_password",1,"form-control",3,"type"],["for","cpwd",1,"form-label"],["id","cpwd","value","12345678","formControlName","confirm_password",1,"form-control",3,"type"],[1,"btn-secondary",3,"click"],[1,"mb-0","mt-2"],[1,"ps-3"],["style","font-size: .9rem;","class","text-danger",4,"ngIf"],[1,"mb-0"],[1,"text-danger",2,"font-size",".9rem"],["for","phone",1,"form-label"],["type","tel","formControlName","phone_no","pattern","^\\+?[\\d\\s]*$","placeholder"," ","ng2TelInput","",1,"form-control",3,"ng2TelInputOptions","countryChange"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",4),e._uU(7,"My Profile"),e.qZA()()(),e.TgZ(8,"div",5)(9,"ul")(10,"li",6),e.NdJ("click",function(){return n.tab="profile"}),e.TgZ(11,"a"),e._uU(12,"My Profile"),e.qZA()(),e.TgZ(13,"li",6),e.NdJ("click",function(){return n.tab="cpwd"}),e.TgZ(14,"a"),e._uU(15,"Change Password"),e.qZA()()(),e.YNc(16,je,14,5,"div",7),e.YNc(17,it,28,8,"div",8),e.qZA()(),e.YNc(18,dt,1,1,"ng-template",null,9,e.W1O),e.YNc(20,pt,6,7,"ng-template",null,10,e.W1O)),2&a&&(e.xp6(10),e.Q6J("ngClass","profile"==n.tab?"tactive":"tnactive"),e.xp6(3),e.Q6J("ngClass","cpwd"==n.tab?"tactive":"tnactive"),e.xp6(3),e.Q6J("ngIf","profile"==n.tab),e.xp6(1),e.Q6J("ngIf","cpwd"==n.tab))},dependencies:[C.mk,C.sg,C.O5,C.tP,f.rH,f.Od,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.nD,d.c5,d.sg,d.u,L._,X.c],styles:[".cheml[_ngcontent-%COMP%]{padding-right:130px!important}.cityStateCountry[_ngcontent-%COMP%]{gap:var(--font-size-20)}.formFields[_ngcontent-%COMP%]{padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48%;margin-bottom:var(--font-size-24);text-align:left;position:relative}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button.chngemil[_ngcontent-%COMP%]{position:absolute;right:var(--font-size-16);top:var(--font-size-50);background-color:transparent;border:none;font-weight:400;font-size:var(--font-size-14);line-height:22px;color:#394a9c;z-index:99}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:var(--font-size-60)!important}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{width:100%;min-height:var(--width-150)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-30);justify-content:flex-end;margin-top:var(--font-size-40)}.evcSell[_ngcontent-%COMP%]{background:#394A9C;border:none;color:#fff;border-radius:var(--font-size-12);min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16)}.chpassword[_ngcontent-%COMP%]   .formFields[_ngcontent-%COMP%]{padding:var(--font-size-20)}.chpassword[_ngcontent-%COMP%]   .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:column}.absdivModal[_ngcontent-%COMP%]{position:relative;margin-bottom:var(--font-size-10)}.absdivModal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:var(--font-size-48);margin-bottom:var(--font-size-18)}.absdivModal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.modal-body[_ngcontent-%COMP%]{padding:0!important}.modal-content[_ngcontent-%COMP%]{padding:var(--font-size-30)!important;position:absolute;top:50%;left:50%;min-width:var(--width-500);transform:translate(-50%,-50%)}.modal-content[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:var(--font-size-48);margin-bottom:var(--font-size-18)}.modal-content[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:#394a9c;border:none;background-color:#ebebeb}.modal-header[_ngcontent-%COMP%]{padding:0!important;padding-bottom:var(--font-size-20)!important;border-bottom:none!important}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#002060;font-family:verdana-bold;font-size:var(--font-size-20)!important}.confirmbtn[_ngcontent-%COMP%]{background-color:#394a9c;color:#fff;font-size:var(--font-size-16);float:right;margin-top:var(--font-size-12)}.flexDiv[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--font-size-20)}.phone-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.addrtext[_ngcontent-%COMP%]{width:100%!important}.btn-close[_ngcontent-%COMP%]{font-size:var(--font-size-12)!important}.v-align[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center}.uploadtext[_ngcontent-%COMP%]{padding:var(--font-size-12) var(--font-size-16);display:flex;align-items:center;gap:var(--font-size-20);color:#394a9c}.uploadtext[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:var(--font-size-24);height:var(--font-size-16);object-fit:cover}.uploadtext[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:var(--font-size-18)}.profile-inner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:var(--font-size-5) 0px;display:inline-block;font-size:var(--font-size-16)}@media screen and (max-width: 991px){.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button.chngemil[_ngcontent-%COMP%]{right:15px;top:44px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:12px}.eyeIcon[_ngcontent-%COMP%]{font-size:12px;top:48px!important}}@media screen and (max-width: 767px){.upload-pic[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:35px}.uploadtext[_ngcontent-%COMP%]{height:35px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{margin-top:10px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:100px;height:35px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button.chngemil[_ngcontent-%COMP%]{right:15px;top:34px}.phone-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:91px!important}.modal-dialog[_ngcontent-%COMP%]{max-width:90%!important;width:90%}.addUser[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.upload-pic[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-top:15px;width:70px!important;height:70px!important}.cityStateCountry[_ngcontent-%COMP%]{flex-direction:column}}@media screen and (max-width: 500px){.upload-pic[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start;padding:5px 0}}@media screen and (max-width: 480px){.formFields[_ngcontent-%COMP%], .chpassword[_ngcontent-%COMP%]   .formFields[_ngcontent-%COMP%]{padding:10px 0}}@media screen and (max-width: 380px){.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button.chngemil[_ngcontent-%COMP%]{right:15px;top:0}.profile-inner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;gap:5px}}@media screen and (max-width: 320px){.uploadtext[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:15px;height:15px;object-fit:contain}.uploadtext[_ngcontent-%COMP%]{gap:5px}}.eyeIcon[_ngcontent-%COMP%]{position:absolute;top:var(--font-size-58);right:var(--font-size-20);cursor:pointer}"]})}return i})();var w=c(111),D=c(6262),gt=c(6901),p=c.n(gt),O=c(1225),_t=c(2595),B=c(6317),E=c(2340),J=c(8987),Y=c(2147);let ft=(()=>{class i{constructor(t,a){this._http=t,this.apiService=a,this.baseUrl=E.N.baseUrl,this.notificationCount=new B.X(0),this.notificationCount$=this.notificationCount.asObservable()}broadCastNotification(t){this.notificationCount.next(t)}getCounts(){return this.apiService.getRequest(D.ns.getCountUrlIndividal)}getMyToolUsage(){return this.apiService.getRequest(D.ns.getMyToolUsageBusiness)}getSupportsTicketStatus(){return this.apiService.getRequest(D.ns.getSupportTicketIndividual)}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(J.eN),e.LFG(Y.s))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var q=c(8909),z=c(1670);let Ct=(()=>{class i{constructor(t,a){this._http=t,this.apiService=a,this.baseUrl=E.N.baseUrl,this.notificationCount=new B.X(0),this.notificationCount$=this.notificationCount.asObservable()}getUnusedkeySubdealer(t,a){const n=D.ns.getUnusedKeySubdealer.replace(":uuid",t).replace(":pageNo",a);return this.apiService.getRequest(n)}getSubDealerChartData(){return this.apiService.getRequest("api/v1/dashboard/reseller/dashboard/stats")}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(J.eN),e.LFG(Y.s))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var bt=c(8734),I=c(9230);const yt=["unallocatedSubdealerGraph"],vt=["unusedSubdealerKey"],Mt=["usedKeyByDate"],Dt=["myAvailableCredits"],Ot=["supportTickets"],Pt=["vehicleTunedMonthGraph"];function Zt(i,r){1&i&&(e.TgZ(0,"li",74),e._uU(1,"No Notification..."),e.qZA())}function xt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",75)(1,"div",76),e._UZ(2,"img",77),e.TgZ(3,"div",78),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.redirectTo(s))}),e.TgZ(4,"div")(5,"h6",18),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA()()()()}if(2&i){const t=r.$implicit,a=e.oxw();e.xp6(2),e.Q6J("src",null!=t.sender&&t.sender.image?null==t.sender?null:t.sender.image:"assets/images/icon/customer-profile.png",e.LSH),e.xp6(4),e.Oqu(t.title),e.xp6(2),e.hij("",t.message," "),e.xp6(2),e.Oqu(a.notification.formatDate(t.created_at))}}const Q=function(){return["/credit/credit-transaction"]},Tt=function(){return{type:"purchaseHistory"}},Ft=function(){return{type:"spentHistory"}},V=function(){return["#394A9D","#2091FF","#58C1F3"]},wt=function(){return["#AD88F1"]};let K=(()=>{class i{constructor(t,a,n,s,o,m){this.resellerService=t,this.adminService=a,this.crud=n,this.router=s,this.notification=o,this.xorEncryption=m,this.currentPage=1,this.itemsPerPage=10,this.subDealersName=[],this.monthList=D.DL,this.vehicleTunedMonthRange=6,this.usedKeysMonthRange=6,this.page=1,this.pageSize=10,this.yearCount=0,this.year=0,this.showDashBoardPermissionError=!1,this.getTeamData=[],this.showSidebarChart=!1,this.dropsDown="down",this.dropsUp="up",this.opensRight="right",this.opensCenter="center",this.opensLeft="left",this.invalidDates=[],this.ranges={"3 Month":[p()().subtract(89,"days").startOf("day"),p()().endOf("day")],"6 Month":[p()().subtract(179,"days").startOf("day"),p()().endOf("day")],"1 Year":[p()().subtract(364,"days").startOf("day"),p()().endOf("day")]},this.localeTime={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"DD.MM.YYYY HH:mm:ss",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To"},this.locale={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"YYYY-MM-DD",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",displayFormat:"YYYY-MM-DD"},this.tooltips=[{date:p()(),text:"Today is just unselectable"},{date:p()().add(2,"days"),text:"Yeeeees!!!"}],this.isInvalidDate=l=>this.invalidDates.some(u=>u.isSame(l,"day")),this.isCustomDate=l=>(0===l.month()||6===l.month())&&"mycustomdate",this.isTooltipDate=l=>{const u=this.tooltips.find(h=>h.date.isSame(l,"day"));return!!u&&u.text},this.dateRange={startDate:"",endDate:""},this.UKBDdateRange={startDate:"",endDate:""},this.myVTBMdateRange={startDate:"",endDate:""},this.mySTSdateRange={startDate:"",endDate:""}}ngOnInit(){var t=this;return(0,z.Z)(function*(){const n=new Date,s=n.getMonth()+1;t.currentMonthName=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],t.year=n.getFullYear(),t.yearCount=t.year-2022,t.ticketStatusMonth=s,t.vehicleTunedMonth=s,t.usedKeysMonth=s,t.usedKeysYear=t.year,t.vehicleTunedYear=t.year,t.ticketStatusYear=t.year,t.notification.onMessageUser.subscribe(o=>{o&&"ticket_create_notification_customer"===o.type&&(t.unseenNotiCount=1,t.notificationList.unshift({message:o.message,type:o.type,id:o.ids}))}),t.getNotification(),yield t.getSubdealerChart(),t.getCharts(),t.getDynamicDrilldown("range"),t.vehiclesTuned("range")})()}ngAfterViewInit(){this.getRightPanelData()}getRightPanelData(){this.getTeamData=[],this.adminService.getTopSubdealer().subscribe(t=>{t&&t.data&&(this.getTeamData=t.data.top_sub_dealers)})}datesUpdatedRange(t,a){this.dateRange.startDate=t.startDate.$y+"-"+(t.startDate.$M+1)+"-"+t.startDate.$D,this.dateRange.endDate=t.endDate.$y+"-"+(t.endDate.$M+1)+"-"+t.endDate.$D,t.label&&("usedKeysByDate"==a?(this.usedKeysMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.UKBDdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.UKBDdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getDynamicDrilldown("range",this.dateRange)):"myVehiclesTunedByMonth"==a?(this.vehicleTunedMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.myVTBMdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.myVTBMdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.vehiclesTuned("range",this.dateRange)):"mySupportsTicketsByStatus"==a&&(this.selectedRangeSupportsTicketsByStatus=-1,this.mySTSdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.mySTSdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getStatusChart(this.dateRange)))}datesUpdatedSingle(t){console.log("single",t)}datesUpdatedInline(t){console.log("inline",t)}getNotification(){this.crud.getRequest(`${b.t.getNotification}${this.page}&page_size=${this.pageSize}`).then(t=>{t&&(this.notificationList=t.data.results,this.unseenNotiCount=t.data.un_seen_message_count)})}counter(t){return new Array(t)}redirectTo(t){"file_submission_completed"==t.type?this.router.navigateByUrl("/file-service/file-services"):"ticket_create_notification_customer"==t.type?this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.id)}/${this.xorEncryption.xorEncryptDecrypt(t.id.slice(2,5))}`):t.ticket&&this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.ticket.ids)}/${this.xorEncryption.xorEncryptDecrypt(t.ticket.id)}`)}readNotification(){this.crud.postRequest(b.t.readNotification,{}).then(t=>{t&&(this.unseenNotiCount=0)})}changePage(t){this.currentPage=t,this.getCharts()}nextPage(){this.currentPage<this.getTotalPages()&&(this.currentPage++,this.getCharts())}previousPage(){this.currentPage>1&&(this.currentPage--,this.getCharts())}getTotalPages(){return Math.ceil(this.subDealersName.length/this.itemsPerPage)}getSubdealerChart(){var t=this;return(0,z.Z)(function*(){t.resellerService.getSubDealerChartData().subscribe(a=>{let n=a.data.unallocated_keys_sub_dealer[0]?.evc_credit,s=a.data.unallocated_keys_sub_dealer[0]?.file_key_credit,o=a.data.unallocated_keys_sub_dealer[0]?.function_credit;t.unallocatedSubdealerGraph.reDraw([n,s,o],["Evc Credit","File Key Credit","Function Credit"]),t.getDashboardCards=a?.data,t.getCreditChart(),t.getStatusChart()})})()}getCharts(){const a=JSON.parse(localStorage.getItem("userdetails")||"").uuid;this.resellerService.getUnusedkeySubdealer(a,this.currentPage).subscribe(n=>{const s=n.data.results;this.subDealersName=s.map(u=>`${u?.first_name} ${u?.last_name}`);const o=s.map(u=>u.credit.file_key_credit||0),m=s.map(u=>u.credit.function_credit||0),l=s.map(u=>u.credit.evc_credit||0);n&&n.data&&this.unusedSubdealerKey.reDraw([{name:"File Key Credits",color:"#394A9D",data:o},{name:"Function Credits",color:"#2091FF",data:m},{name:"EVC Credits",color:"#58C1F3",data:l}],this.subDealersName)})}getDynamicDrilldown(t,a){let n;n="month"==t?`filter_by=month&month_number=${this.usedKeysMonth}&year=${this.usedKeysYear}`:-1==this.usedKeysMonthRange?`filter_by=date&start_date=${a.startDate}&end_date=${a.endDate}`:`filter_by=range&range=${this.usedKeysMonthRange}`,this.crud.get(`dashboard/reseller/dashboard/used_keys/month?${n}`).subscribe(s=>{const o=s.data.credit_used_by_month,m=o.map(_=>_.month),l=o.map(_=>_.credit.file_credit||0),u=o.map(_=>_.credit.function_credit||0),h=o.map(_=>_.credit.evc_credit||0);s&&s.data&&this.usedKeyByDate.reDraw([{name:"File Key Credits",color:"#394A9D",data:l},{name:"Function Credits",color:"#2091FF",data:u},{name:"EVC Credits",color:"#58C1F3",data:h}],m)})}getCreditChart(){const t=JSON.parse(localStorage.getItem("userdetails")||"null");let a=0,n=0,s=0;t&&(a=t.reseller_dealer_credit.file_key_credit,n=t.reseller_dealer_credit.function_credit,s=t.reseller_dealer_credit.evc_credit);const m=[{name:"Credits",data:[a||0,n||0,s||0]}];this.getDashboardCards?.available_credit_balance.reduce((h,_)=>(h.push(_.file_key_credit,_.function_credit,_.evc_credit),h),[]),this.myAvailableCredits.reDraw(m,["File Key Credits","Function Credits","EVC Credits"])}getStatusChart(t){var a=this;return(0,z.Z)(function*(){a.crud.getRequest(t?`dashboard/reseller/ticket/by_status/activity?filter_type=date&from_date=${t.startDate}&to_date=${t.endDate}`:"dashboard/reseller/ticket/by_status/activity?month="+a.ticketStatusMonth+"&year="+a.ticketStatusYear).then(s=>{let m=Object.keys(s.data).map(u=>u.replace(/_/g," "));m=m.map(u=>u.split(" ").map(h=>h[0].toUpperCase()+h.slice(1)).join(" "));for(let u=0;u<m.length;u++)"Inprogress"==m[u]&&(m[u]="In Progress");const l=Object.values(s.data);a.supportTickets.reDraw([{name:"",data:l}],m)})})()}vehiclesTuned(t,a){this.crud.get("dashboard/reseller/dashboard/file_tuned/month?"+("month"==t?`filter_by=month&month_number=${this.vehicleTunedMonth}&year=${this.vehicleTunedYear}`:-1==this.vehicleTunedMonthRange?`filter_by=date&start_date=${a.startDate}&end_date=${a.endDate}`:`range=${this.vehicleTunedMonthRange}&filter_by=range`)).subscribe(s=>{if(s&&s.data){const o=s.data?.vehicle_tuned.map(l=>l.month),m=s.data.vehicle_tuned.map(l=>l.count);this.vehicleTunedMonthGraph.reDraw([{name:"",data:m}],o)}})}viewCredit(t){console.log("functioncall"),this.router.navigate(["/subDealer-credit-spent"],{queryParams:{uuid:t}})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(Ct),e.Y36(bt.l),e.Y36(S.I),e.Y36(f.F0),e.Y36(x.T),e.Y36(q.G))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-reseller-dashboard"]],viewQuery:function(a,n){if(1&a&&(e.Gf(O.Bf,5),e.Gf(yt,5),e.Gf(vt,5),e.Gf(Mt,5),e.Gf(Dt,5),e.Gf(Ot,5),e.Gf(Pt,5)),2&a){let s;e.iGM(s=e.CRH())&&(n.pickerDirective=s.first),e.iGM(s=e.CRH())&&(n.unallocatedSubdealerGraph=s.first),e.iGM(s=e.CRH())&&(n.unusedSubdealerKey=s.first),e.iGM(s=e.CRH())&&(n.usedKeyByDate=s.first),e.iGM(s=e.CRH())&&(n.myAvailableCredits=s.first),e.iGM(s=e.CRH())&&(n.supportTickets=s.first),e.iGM(s=e.CRH())&&(n.vehicleTunedMonthGraph=s.first)}},inputs:{unseenNotifications:"unseenNotifications"},decls:142,vars:70,consts:[[1,"add-user"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/customer"],[1,"dashboard-container"],[1,"management"],[1,"title"],[1,"dash-card"],[1,"card-inner"],[3,"routerLink","queryParams"],[1,"upper-chart-wrapper"],[1,"barchrt"],[1,"container","d-center"],["type","donut","legendPosition","bottom",3,"colors","pieWidth"],["unallocatedSubdealerGraph",""],[1,"barchrt","mg-lft-20"],[1,"d-flex-page"],[1,"mb-0"],[1,"ff-bold",2,"color","#E15553"],[3,"stacked","height"],["unusedSubdealerKey",""],[1,"upper-chart-wrapper","pointer"],["routerLink","/sub-dealer/dealer-credit",1,"barchrt"],["height","200","viewBox","50 30 100 150","fill","none","xmlns","http://www.w3.org/2000/svg",2,"width","100%"],["d","M168.5 83.5C164.5 83.5 161.167 86.8333 160 88.5C164.8 90.5 167.333 97.3333 168 100.5V115C168.8 118.2 166.333 120.667 165 121.5L164.5 141.5C168.1 143.9 170.667 142.5 171.5 141.5L172 116.21H175V140C178.2 144.4 181.333 141.833 182.5 140V95.5H184V113C186.4 115.8 189 114.167 190 113V93.5C189.6 88.3 182.833 84.6667 179.5 83.5H168.5Z","fill","#394A9C"],["d","M142.5 105.002C142.5 99.0019 137.833 94.8352 135.5 93.5019C140.7 88.7019 150 88.1686 154 88.5019C160.8 89.3019 164.167 94.8352 165 97.5019L165.5 119.002C163.1 121.002 160.5 119.835 159.5 119.002V100.002H158V146.002C156 148.002 152.167 146.835 150.5 146.002V121.002H147.5V146.002C145.1 148.402 141.5 147.002 140 146.002V126.502C141.6 126.102 142.333 124.335 142.5 123.502V105.002Z","fill","#394A9C"],["d","M118 109.998C118 105.598 113 100.832 110.5 98.9984C114.1 93.3984 124.667 93.3318 129.5 93.9984C137.5 95.1984 139.833 100.832 140 103.498V123.998C138 126.398 135.5 124.998 134.5 123.998V105.998H133L133.5 150.498C130.7 154.098 127 151.998 125.5 150.498L126 126.998C124.8 124.998 123.5 126.165 123 126.998V150.498C119.8 154.498 116.333 152.165 115 150.498V131.998C116.6 131.998 117.667 129.998 118 128.998V109.998Z","fill","#394A9C"],["d","M83 109V128.5C85 131.7 87.5 130.167 88.5 129V112C89.3 110.4 90.1667 111.333 90.5 112V155.5C93.3 158.7 96.6667 156.833 98 155.5V132.5C99.2 130.9 100.5 131.833 101 132.5V155.5C104.2 159.1 107 157 108 155.5V111.5C109.2 110.3 109.833 111 110 111.5V128.5C113.2 131.3 115 129.333 115.5 128L115 107.5C113.4 101.9 107.667 99.8333 105 99.5H93C88.2 100.3 84.3333 106.167 83 109Z","fill","#394A9C"],["d","M34 118C35.6 121.2 38.3333 119.333 39.5 118V100H41.5L41 146C43.8 148.4 46.8333 147 48 146L47.5 121H51V145C53.8 149.4 57.5 146.833 59 145V127C57.4 127 56.8333 125.667 56.5 125V101.5C56.9 99.5 61 95.3333 63 93.5C61.8 90.7 57.1667 89.3333 55 89H42.5C38.1 89.4 34.6667 94.5 33.5 97L34 118Z","fill","#394A9C"],["d","M58.5 103C61.7 96.6 67.1667 94.3333 69.5 94H78.5C84.1 94 87.5 97.6667 88.5 99.5C85.3 99.5 81.8333 105.5 80.5 108.5V127.5C80.5 130.3 82.8333 131.667 84 132V151C80.4 153.8 77.1667 152.167 76 151V127H73.5V151C70.3 154.2 67.1667 152.333 66 151L66.5 106.322H64V124C61.6 126.4 59.3333 125 58.5 124V103Z","fill","#394A9C"],["d","M9 114V93C10.5 88 13 85 18 83.5H29C34.6 84.7 37.8333 87.1667 38.5 88.5C34.5 90.1 32.1667 95.5 31.5 98V119C31.5 119.667 31.9 121 33.5 121V140C31.1 143.2 27.8333 141.333 26.5 140V116H23.5V140C20.7 142.8 17.6667 141.167 16.5 140V95H14.5V113.5C12.5 116.3 10 115 9 114Z","fill","#394A9C"],["cx","24.5","cy","74","r","8","fill","#394A9C"],["cx","50.5","cy","80","r","8","fill","#394A9C"],["cx","74.5","cy","84","r","8","fill","#394A9C"],["cx","99.5","cy","89","r","8","fill","#394A9C"],["cx","124.5","cy","84","r","8","fill","#394A9C"],["cx","149.5","cy","79","r","8","fill","#394A9C"],["cx","174.5","cy","74","r","8","fill","#394A9C"],["cx","156.5","cy","62","r","8","fill","#394A9C"],["cx","133.5","cy","66","r","8","fill","#394A9C"],["cx","110.5","cy","70","r","8","fill","#394A9C"],["cx","87.5","cy","69","r","8","fill","#394A9C"],["cx","66.5","cy","66","r","8","fill","#394A9C"],["cx","79.5","cy","51","r","8","fill","#394A9C"],["cx","99.5","cy","54","r","8","fill","#394A9C"],["cx","119.5","cy","51","r","8","fill","#394A9C"],["cx","42.5","cy","62","r","8","fill","#394A9C"],[1,"d-flex","row","align-items-center","mb-1"],[1,"col-9"],[1,"ff-bold",2,"color","#70CDAB"],[1,"chartDateSize"],[1,"col-3","d-flex","justify-content-end","align-items-center"],[1,"dateRange"],[1,"calIcon"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","opens","locale","ranges","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],["usedKeyByDate",""],[1,"performance"],["data-bs-toggle","dropdown",1,"pointer"],[1,"dropdown-menu",2,"min-width","350px","width","450px","height","300px","overflow-y","scroll"],["style","text-align: center;",4,"ngIf"],["style","padding-left: 5px;",4,"ngFor","ngForOf"],[1,"graph"],[2,"margin-bottom","0px"],[1,"col-2","d-flex","justify-content-end","align-items-center"],[3,"height","colors"],["vehicleTunedMonthGraph",""],[1,"col-10"],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","opens","locale","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],[3,"height"],["supportTickets",""],[3,"colors","distributed","height"],["myAvailableCredits",""],[2,"text-align","center"],[2,"padding-left","5px"],[1,"profile","mb-2"],["alt","profile",3,"src"],[1,"notification-inner",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",4),e._uU(7,"Dashboard"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"h2",7),e._uU(11,"MY SUB-DEALER MANAGEMENT"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"p"),e._uU(16," Credit Purchased"),e.qZA(),e.TgZ(17,"h5"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",9)(20,"div",10)(21,"p"),e._uU(22,"Credits Spent History"),e.qZA(),e.TgZ(23,"h5"),e._uU(24),e.qZA()()(),e.TgZ(25,"div",9)(26,"div")(27,"p"),e._uU(28,"Number of My Sub-Dealers"),e.qZA(),e.TgZ(29,"h5"),e._uU(30),e.qZA()()()(),e.TgZ(31,"div",11)(32,"div",12)(33,"p"),e._uU(34,"Number of unallocated sub-dealer Keys"),e.qZA(),e._UZ(35,"hr"),e.TgZ(36,"div",13),e._UZ(37,"app-line-graph",14,15),e.qZA()(),e.TgZ(39,"div",16)(40,"div",17)(41,"p",18)(42,"span",19),e._uU(43,"Unused"),e.qZA(),e._uU(44," Keys by Sub Dealer"),e.qZA()(),e._UZ(45,"hr")(46,"app-line-graph",20,21),e.qZA()(),e.TgZ(48,"div",22)(49,"div",23)(50,"p"),e._uU(51,"Allocate Keys to Sub-Dealer"),e.qZA(),e._UZ(52,"hr"),e.TgZ(53,"p"),e._uU(54,"My Sub-Dealer Lookup"),e.qZA(),e.O4$(),e.TgZ(55,"svg",24),e._UZ(56,"path",25)(57,"path",26)(58,"path",27)(59,"path",28)(60,"path",29)(61,"path",30)(62,"path",31)(63,"circle",32)(64,"circle",33)(65,"circle",34)(66,"circle",35)(67,"circle",36)(68,"circle",37)(69,"circle",38)(70,"circle",39)(71,"circle",40)(72,"circle",41)(73,"circle",42)(74,"circle",43)(75,"circle",44)(76,"circle",45)(77,"circle",46)(78,"circle",47),e.qZA()(),e.kcU(),e.TgZ(79,"div",16)(80,"div",48)(81,"div",49)(82,"p",18)(83,"span",50),e._uU(84,"Used"),e.qZA(),e._uU(85," Keys By Date \xa0 "),e.TgZ(86,"span",51),e._uU(87),e.qZA()()(),e.TgZ(88,"div",52)(89,"div",53)(90,"div",54),e._UZ(91,"i",55),e.qZA(),e.TgZ(92,"input",56),e.NdJ("ngModelChange",function(o){return n.selectedRangeCalendarCenter=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"usedKeysByDate")}),e.qZA()()()(),e._UZ(93,"hr")(94,"app-line-graph",20,57),e.qZA()()(),e.TgZ(96,"div",58)(97,"h2",7),e._uU(98,"MY PERFORMANCE"),e.qZA(),e.TgZ(99,"div",9)(100,"div")(101,"p",59),e._uU(102,"My Notifications"),e.qZA(),e.TgZ(103,"h5",59),e._uU(104),e.qZA(),e.TgZ(105,"ul",60),e.YNc(106,Zt,2,0,"li",61),e.YNc(107,xt,11,4,"li",62),e.qZA()()(),e.TgZ(108,"div",63)(109,"div",48)(110,"div",49)(111,"p",64),e._uU(112,"My Vehicles Tuned by month \xa0 "),e.TgZ(113,"span",51),e._uU(114),e.qZA()()(),e.TgZ(115,"div",65)(116,"div",53)(117,"div",54),e._UZ(118,"i",55),e.qZA(),e.TgZ(119,"input",56),e.NdJ("ngModelChange",function(o){return n.selectedRangeVehiclesTunedByMonth=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"myVehiclesTunedByMonth")}),e.qZA()()()(),e._UZ(120,"app-line-graph",66,67),e.qZA(),e.TgZ(122,"div",63)(123,"div",48)(124,"div",68)(125,"p",64),e._uU(126,"My Supports Tickets by Status \xa0 "),e.TgZ(127,"span",51),e._uU(128),e.qZA()()(),e.TgZ(129,"div",65)(130,"div",53)(131,"div",54),e._UZ(132,"i",55),e.qZA(),e.TgZ(133,"input",69),e.NdJ("ngModelChange",function(o){return n.selectedRangeSupportsTicketsByStatus=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"mySupportsTicketsByStatus")}),e.qZA()()()(),e._UZ(134,"hr")(135,"app-line-graph",70,71),e.qZA(),e.TgZ(137,"div",63)(138,"p"),e._uU(139,"My Available Credits by Type"),e.qZA(),e._UZ(140,"app-line-graph",72,73),e.qZA()()()()),2&a&&(e.xp6(14),e.Q6J("routerLink",e.DdM(63,Q))("queryParams",e.DdM(64,Tt)),e.xp6(4),e.Oqu((null==n.getDashboardCards?null:n.getDashboardCards.credit_purchased)||0),e.xp6(2),e.Q6J("routerLink",e.DdM(65,Q))("queryParams",e.DdM(66,Ft)),e.xp6(4),e.Oqu((null==n.getDashboardCards?null:n.getDashboardCards.credit_spent_current_month)||0),e.xp6(6),e.Oqu((null==n.getDashboardCards?null:n.getDashboardCards.sub_dealer_count)||0),e.xp6(7),e.Q6J("colors",e.DdM(67,V))("pieWidth",220),e.xp6(9),e.Q6J("stacked",!0)("height",280),e.xp6(41),e.Oqu(-1==n.usedKeysMonthRange?(null==n.UKBDdateRange?null:n.UKBDdateRange.startDate)+" - "+(null==n.UKBDdateRange?null:n.UKBDdateRange.endDate):1==n.usedKeysMonthRange?n.usedKeysMonthRange+" Year":n.usedKeysMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",n.selectedRangeCalendarCenter)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("ranges",n.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(2),e.Q6J("stacked",!0)("height",280),e.xp6(10),e.Oqu(n.unseenNotifications||0),e.xp6(2),e.Q6J("ngIf",0==(null==n.notificationList?null:n.notificationList.length)),e.xp6(1),e.Q6J("ngForOf",n.notificationList),e.xp6(7),e.Oqu(-1==n.vehicleTunedMonthRange?(null==n.myVTBMdateRange?null:n.myVTBMdateRange.startDate)+" - "+(null==n.myVTBMdateRange?null:n.myVTBMdateRange.endDate):1==n.vehicleTunedMonthRange?n.vehicleTunedMonthRange+" Year":n.vehicleTunedMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",n.selectedRangeVehiclesTunedByMonth)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("ranges",n.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("height",280)("colors",e.DdM(68,wt)),e.xp6(8),e.Oqu(-1==n.selectedRangeSupportsTicketsByStatus?(null==n.mySTSdateRange?null:n.mySTSdateRange.startDate)+" - "+(null==n.mySTSdateRange?null:n.mySTSdateRange.endDate):n.currentMonthName),e.xp6(5),e.Q6J("ngModel",n.selectedRangeSupportsTicketsByStatus)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(2),e.Q6J("height",280),e.xp6(5),e.Q6J("colors",e.DdM(69,V))("distributed",!0)("height",280))},dependencies:[C.sg,C.O5,f.rH,d.Fj,d.JJ,d.On,O.Bf,I.C],styles:[".fix-wd-hgt[_ngcontent-%COMP%]{height:356px}.fix-wd-hgt[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:270px!important;width:270px!important}.d-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem!important}.dateRange[_ngcontent-%COMP%]{position:relative;width:40px;height:25px}.dateRange[_ngcontent-%COMP%]   .calIcon[_ngcontent-%COMP%]{position:absolute;inset:0}.dateRange[_ngcontent-%COMP%]   .dateRangeInput[_ngcontent-%COMP%]{box-shadow:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute;opacity:0;inset:0;cursor:pointer!important}.profile[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-12);align-items:center}.profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;cursor:pointer}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){width:var(--font-size-40);height:var(--font-size-40);object-fit:cover;border-radius:50%}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-16)!important;line-height:var(--font-size-18);color:#474554;margin-bottom:0}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-12)!important;line-height:var(--font-size-17);color:#6d7886}@media (max-width: 768px){.card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px!important;font-family:normal!important}.upper-chart-wrapper[_ngcontent-%COMP%]{display:block!important}.upper-chart-wrapper[_ngcontent-%COMP%]   .barchrt[_ngcontent-%COMP%]{width:100%!important}.upper-chart-wrapper[_ngcontent-%COMP%]   .mg-lft-20[_ngcontent-%COMP%]{margin-left:0!important}}.w-100[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.svg-icon-style[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:280px!important;width:280px!important}.d-flex-page[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.d-flex-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:blue;color:#fff;border-radius:5px;font-size:12px;height:25px;margin-right:10px;margin-left:10px;width:50px;border:inherit}.mg-top-0[_ngcontent-%COMP%]{margin-top:0}.sideBarChart[_ngcontent-%COMP%]{position:absolute;right:5px;top:70px;display:flex;flex-direction:column;align-items:end}.rightSide[_ngcontent-%COMP%]{background-color:#002060;border-radius:var(--font-size-10);width:125%;padding:var(--font-size-14);margin-top:18px;padding-left:10px}.rightSide[_ngcontent-%COMP%]   .headTopRight[_ngcontent-%COMP%]{color:#fff;font-size:small}.rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-10);align-items:center;color:#fff;margin-bottom:var(--font-size-14)}.rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-50);height:var(--font-size-50);border-radius:50%}.rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left}.rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.firstBlock[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-20)}.firstBlock[_ngcontent-%COMP%]   .leftSide[_ngcontent-%COMP%]{border-radius:var(--font-size-10);width:100%}.firstBlock[_ngcontent-%COMP%]   .headTopRight[_ngcontent-%COMP%]{color:#fff;font-size:small}.firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%]{background-color:#002060;border-radius:var(--font-size-10);width:25%;padding:var(--font-size-14);margin-top:18px;padding-left:10px}.firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-10);align-items:center;color:#fff;margin-bottom:var(--font-size-14)}.firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-50);height:var(--font-size-50);border-radius:50%}.firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left}.firstBlock[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.dashboard-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1.75fr) minmax(0,1fr)}.dashboard-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{background-color:#081b46}.dashboard-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{background-color:#2091ff}.dashboard-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1.3rem}.dashboard-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-family:verdana-bold;margin-bottom:.7em;font-size:1.1rem;text-align:center}.dashboard-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana-bold}.dashboard-container[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-32);align-items:center;background:#FFFFFF;border-radius:8px;padding:var(--font-size-20);justify-content:center}.dashboard-container[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-48);height:var(--font-size-48);border-radius:50%;object-fit:cover;background:rgba(57,74,156,.15);padding:var(--font-size-10)}.dashboard-container[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-14);line-height:var(--font-size-20);color:#474554;margin-bottom:5px!important}.dashboard-container[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-14);line-height:var(--font-size-18);color:#aca9bb}.dashboard-container[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-24);font-family:verdana-bold;line-height:var(--font-size-30);text-align:center;color:#394a9c}.dashboard-container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]{background-color:#fff;padding:1em;border-radius:.5em;margin-top:1.5rem}@media (max-width: 900px){.dashboard-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}}  .right-inner:has(app-dashboard){padding:0!important}",".add-user-inne[_ngcontent-%COMP%]{padding:0px var(--font-size-20)}.add-user-inne[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321}.dateRange[_ngcontent-%COMP%]{position:relative;width:40px;height:25px}.dateRange[_ngcontent-%COMP%]   .calIcon[_ngcontent-%COMP%]{position:absolute;inset:0}.dateRange[_ngcontent-%COMP%]   .dateRangeInput[_ngcontent-%COMP%]{box-shadow:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute;opacity:0;inset:0;cursor:pointer!important}.dash-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:var(--font-size-48)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-32);align-items:center;background:#FFFFFF;border-radius:8px;padding:var(--font-size-20);justify-content:center}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-48);height:var(--font-size-48);border-radius:50%;object-fit:cover;background:rgba(57,74,156,.15);padding:var(--font-size-10)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-14);line-height:var(--font-size-20);color:#474554;margin-bottom:5px!important}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-14);line-height:var(--font-size-18);color:#aca9bb}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-24);font-family:verdana-bold;line-height:var(--font-size-30);text-align:center;color:#394a9c}.profile[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-12);align-items:center}.profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;cursor:pointer}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){width:var(--font-size-40);height:var(--font-size-40);object-fit:cover;border-radius:50%}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#474554;margin-bottom:0}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-12);line-height:var(--font-size-17);color:#6d7886}.barchrt[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000026;margin-top:var(--font-size-20);padding:var(--font-size-20) var(--font-size-20);background-color:#fff;border-radius:var(--font-size-10);width:50%}.bottomChart[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-20);margin-top:var(--font-size-20)}.bottomChart[_ngcontent-%COMP%]   .leftSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%]{width:49%;box-shadow:0 0 8px #00000026;padding:var(--font-size-20) var(--font-size-20);background-color:#fff;border-radius:var(--font-size-10)}@media screen and (max-width: 991px){.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}p[_ngcontent-%COMP%]{font-size:14px}.upper-chart-wrapper[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]{flex-wrap:wrap}.upper-chart-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.upper-chart-wrapper[_ngcontent-%COMP%] > div.leftSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%] > div.leftSide[_ngcontent-%COMP%]{width:100%}.upper-chart-wrapper[_ngcontent-%COMP%] > div.rightSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%] > div.rightSide[_ngcontent-%COMP%]{width:100%}.mg-lft-20[_ngcontent-%COMP%]{margin-left:0!important}.barchrt[_ngcontent-%COMP%]{margin-top:20px}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;padding:5px}.dash-card[_ngcontent-%COMP%]{flex-wrap:wrap;gap:14px}}@media screen and (max-width: 767px){.barchrt[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]   .leftSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%]{padding:12px}.add-user-inne[_ngcontent-%COMP%]{padding:0}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px!important}.statics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .rstatics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.lefttop[_ngcontent-%COMP%]{display:none}h2[_ngcontent-%COMP%]{margin-bottom:15px!important}}.upper-chart-wrapper[_ngcontent-%COMP%]{display:flex}.mg-lft-20[_ngcontent-%COMP%]{margin-left:20px}@media screen and (max-width: 580px){.dash-card[_ngcontent-%COMP%]{flex-wrap:wrap}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{padding:12px;justify-content:center}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}}"]})}return i})();var j=c(4793);const Ut=["usedByKey"],At=["myToolUsage"],St=["ticketByStatus"],Rt=["myFilesSubmitted"],qt=["creditBalanceChart"];function kt(i,r){1&i&&(e.TgZ(0,"li",51),e._uU(1,"No Notification..."),e.qZA())}function zt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",52)(1,"div",53),e._UZ(2,"img",54),e.TgZ(3,"div",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.redirectTo(s))}),e.TgZ(4,"div")(5,"h6",56),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA()()()()}if(2&i){const t=r.$implicit,a=e.oxw();e.xp6(2),e.Q6J("src",null!=t.sender&&t.sender.image?null==t.sender?null:t.sender.image:"assets/images/icon/customer-profile.png",e.LSH),e.xp6(4),e.Oqu(t.title),e.xp6(2),e.hij("",t.message," "),e.xp6(2),e.Oqu(a.notification.formatDate(t.created_at))}}const $=function(){return["/credit/credit-transaction"]},It=function(){return{type:"spentHistory"}},Nt=function(){return["#AD88F1"]},Lt=function(){return["#32337E"]};let Bt=(()=>{class i{constructor(t,a,n,s,o,m){this.crud=t,this._titleservice=a,this.notification=n,this.CustomerBusinessService=s,this.router=o,this.xorEncryption=m,this.fileT="submission",this.fileR="submission",this.getCreditChartData=[],this.gradientColors=["#AD88F1","#826ACA","#594DA3","#32337E","#20B2AA","#40E0D0","#48D1CC","#00FA9A","#7FFF00","#ADFF2F","#2091FF","#BA55D3","#8A2BE2","#7B68EE","#6A5ACD","#4169E1","#1E90FF","#0000FF","#00BFFF","#00CED1"],this.customertype="bar",this.usedKeysMonthRange=6,this.fileSubmitedMonthRange=6,this.monthList=D.DL,this.yearCount=0,this.year=0,this.page=1,this.pageSize=10,this.dropsDown="down",this.dropsUp="up",this.opensRight="right",this.opensCenter="center",this.opensLeft="left",this.selectedRangeCalendarCenter=6,this.invalidDates=[],this.ranges={"3 Month":[p()().subtract(89,"days").startOf("day"),p()().endOf("day")],"6 Month":[p()().subtract(179,"days").startOf("day"),p()().endOf("day")],"1 Year":[p()().subtract(364,"days").startOf("day"),p()().endOf("day")]},this.localeTime={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"DD.MM.YYYY HH:mm:ss",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To"},this.locale={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"YYYY-MM-DD",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",displayFormat:"YYYY-MM-DD"},this.tooltips=[{date:p()(),text:"Today is just unselectable"},{date:p()().add(2,"days"),text:"Yeeeees!!!"}],this.titleSize=15,this.dateRange={startDate:"",endDate:""},this.uKdateRange={startDate:"",endDate:""},this.MSTBSdateRange={startDate:"",endDate:""},this.MyTUdateRange={startDate:"",endDate:""},this.MyFSdateRange={startDate:"",endDate:""},this.monthMap={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},this.isInvalidDate=l=>this.invalidDates.some(u=>u.isSame(l,"day")),this.isCustomDate=l=>(0===l.month()||6===l.month())&&"mycustomdate",this.isTooltipDate=l=>{const u=this.tooltips.find(h=>h.date.isSame(l,"day"));return!!u&&u.text},this.sColors=["#FFA500","#394A9D"],this._titleservice.setTitle("Dashboard"),w.kL.defaults.color="#000000e6",w.kL.defaults.font.size=14}ngOnInit(){const a=new Date,n=a.getMonth()+1;this.currentMonthName=["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()],this.year=a.getFullYear(),this.yearCount=this.year-2022,this.ticketStatusMonth=n,this.ticketStatusYear=this.year,this.fileSubmitedMonth=n,this.toolUsageMonth=n,this.toolUsageYear=this.year,this.notification.onMessageUser.subscribe(s=>{s&&"ticket_create_notification_customer"===s.type&&(this.unseenNotiCount=1,this.notificationList.unshift({message:s.message,type:s.type,id:s.ids}))}),this.getNotification(),this.CustomerBusinessService.notificationCount$.subscribe(s=>{this.notificationCount=s}),this.getCardsCount(),this.getMyFileSubmittedData(),this.getMyToolUsage(),this.getMySupportsTicket()}datesUpdatedRange(t,a){this.dateRange.startDate=t.startDate.$y+"-"+(t.startDate.$M+1)+"-"+t.startDate.$D,this.dateRange.endDate=t.endDate.$y+"-"+(t.endDate.$M+1)+"-"+t.endDate.$D,t.label&&("usedKeysByDate"==a?(this.usedKeysMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.uKdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.uKdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getCharts(!0,this.dateRange)):"MySupportTicketsByStatus"==a?(this.selectedRangeSupportTicketsStatus=-1,this.MSTBSdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.MSTBSdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMySupportsTicket(this.dateRange)):"MyToolUsage"==a?(this.selectedRangeMyToolUsage=-1,this.MyTUdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.MyTUdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMyToolUsage(this.dateRange)):"MyFilesSubmitted"==a&&(this.fileSubmitedMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.MyFSdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.MyFSdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMyFileSubmittedData(this.dateRange)))}datesUpdatedSingle(t){console.log("single",t)}datesUpdatedInline(t){console.log("inline",t)}counter(t){return new Array(t)}getNotification(){this.crud.getRequest(`${b.t.getNotification}${this.page}&page_size=${this.pageSize}`).then(t=>{t&&(this.notificationList=t.data.results,this.unseenNotiCount=t.data.un_seen_message_count)})}redirectTo(t){"file_submission_completed"==t.type?this.router.navigateByUrl("/file-service/file-services"):"ticket_create_notification_customer"==t.type?this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.id)}/${this.xorEncryption.xorEncryptDecrypt(t.id.slice(2,5))}`):t.ticket&&this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.ticket.ids)}/${this.xorEncryption.xorEncryptDecrypt(t.ticket.id)}`)}readNotification(){this.crud.postRequest(b.t.readNotification,{}).then(t=>{t&&(this.unseenNotiCount=0)})}getCharts(t,a){this.crud.getRequest(-1==this.usedKeysMonthRange?`dashboard/business/dashboard/used_keys/month?range=${this.usedKeysMonthRange}&start_date=${a.startDate}&end_date=${a.endDate}`:`dashboard/business/dashboard/used_keys/month?range=${this.usedKeysMonthRange}`).then(s=>{const o=s.data.credit_used_by_month,m=o.map(y=>y.month),l=o.map(y=>y.credit.file_credit||0),u=o.map(y=>y.credit.evc_credit||0),h=o.map(y=>y.credit.function_credit||0);this.usedByKey.reDraw([{name:"File Credit",color:"#2091FF",data:l},{name:"EVC Credit",color:"#394A9D",data:u},{name:"Function Credit",color:"#FFA500",data:h}],m)})}getMyToolUsage(t){this.crud.getRequest(t?`dashboard/business/dashboard/file_request/tool?filter_type=date&from_date=${t.startDate}&to_date=${t.endDate}`:`dashboard/business/dashboard/file_request/tool?month=${this.toolUsageMonth}&year=${this.toolUsageYear}`).then(n=>{if(n&&n.data){const s=n.data,o=s.map(l=>l.tuning_tool_used),m=s.map(l=>l.count);this.myToolUsage.reDraw([{name:"",data:m}],o)}})}getMySupportsTicket(t){let a="dashboard/business/dashboard/ticket/status";a+=t?`?filter_type=date&from_date=${t.startDate}&to_date=${t.endDate}`:"?month="+this.ticketStatusMonth+"&year="+this.ticketStatusYear,this.crud.getRequest(a).then(n=>{if(n&&n.data){let o=Object.keys(n.data).map(l=>l.replace(/_/g," "));o=o.map(l=>l.split(" ").map(u=>u[0].toUpperCase()+u.slice(1)).join(" "));for(let l=0;l<o.length;l++)"Inprogress"==o[l]&&(o[l]="In Progress");const m=Object.values(n.data);this.ticketByStatus.reDraw([{name:"Tickets",data:m}],o)}})}getMyFileSubmittedData(t){this.crud.getRequest(-1==this.fileSubmitedMonthRange?`dashboard/business/dashboard/file_request/month?start_date=${t.startDate}&end_date=${t.endDate}&range=${this.fileSubmitedMonthRange}`:`dashboard/business/dashboard/file_request/month?range=${this.fileSubmitedMonthRange}`).then(n=>{if(n&&n.data){const s=n.data,o=s.map(l=>l?.month),m=s.map(l=>l?.count);this.myFilesSubmitted.reDraw([{name:"",data:m}],o)}})}getCreditChart(t){const n=this.getCreditChartData.reduce((s,o)=>(s.push(o.file_key_credit,o.function_credit,o.evc_credit),s),[]);this.creditBalanceChart.reDraw([{name:"",data:n}],[{label:"File Key Credits",color:"#89CFF0"},{label:"Function Credits",color:"#fff060"},{label:"EVC Credits",color:"#FF5733"}].map(s=>s.label))}getCardsCount(){this.CustomerBusinessService.getCounts().subscribe(t=>{t&&t.data&&(this.getCharts(),this.getCountData=t?.data,this.getCreditChartData=t?.data?.available_credit_balance,this.getCreditChart())})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(S.I),e.Y36(M.Dx),e.Y36(x.T),e.Y36(j.b),e.Y36(f.F0),e.Y36(q.G))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-business-dashboard"]],viewQuery:function(a,n){if(1&a&&(e.Gf(O.Bf,5),e.Gf(Ut,5),e.Gf(At,5),e.Gf(St,5),e.Gf(Rt,5),e.Gf(qt,5)),2&a){let s;e.iGM(s=e.CRH())&&(n.pickerDirective=s.first),e.iGM(s=e.CRH())&&(n.usedByKey=s.first),e.iGM(s=e.CRH())&&(n.myToolUsage=s.first),e.iGM(s=e.CRH())&&(n.ticketByStatus=s.first),e.iGM(s=e.CRH())&&(n.myFilesSubmitted=s.first),e.iGM(s=e.CRH())&&(n.creditBalanceChart=s.first)}},inputs:{unseenNotifications:"unseenNotifications"},decls:108,vars:77,consts:[[1,"add-user"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/customer"],[1,"add-user-inne"],[1,"dash-card"],[1,"card-inner",3,"routerLink","queryParams"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","50","viewBox","0 0 120.000000 156.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,156.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d","M290 1415 l0 -35 -74 0 -74 0 -7 -30 c-23 -105 75 -248 216 -316 20\n          -11 45 -31 53 -45 8 -14 36 -45 61 -68 40 -37 45 -46 45 -86 0 -39 3 -45 21\n          -45 20 0 21 -3 15 -58 -3 -31 -19 -82 -34 -112 l-27 -55 -132 -3 -133 -3 0\n          -174 0 -175 -25 0 c-25 0 -26 -2 -23 -58 l3 -57 430 0 430 0 3 58 c3 55 2 57\n          -23 57 l-25 0 0 175 0 175 -130 0 -129 0 -25 42 c-23 41 -46 125 -46 168 0 13\n          7 20 20 20 17 0 20 7 20 43 0 38 6 48 68 112 37 39 99 92 139 118 83 55 117\n          92 149 162 24 50 29 90 18 133 -6 20 -12 22 -80 22 l-74 0 0 35 0 35 -315 0\n          -315 0 0 -35z m605 -60 c-15 -151 -57 -280 -121 -366 -100 -137 -237 -138\n          -337 -1 -63 85 -107 219 -122 372 l-7 65 297 0 297 0 -7 -70z m-600 -42 c14\n          -91 28 -152 50 -205 l23 -58 -31 18 c-54 31 -135 112 -156 155 -12 24 -21 62\n          -21 85 l0 42 65 0 64 0 6 -37z m755 -5 c0 -23 -9 -61 -21 -85 -21 -43 -102\n          -124 -156 -155 l-31 -18 23 58 c22 53 36 114 50 205 l6 37 64 0 65 0 0 -42z\n          m-372 -470 c-3 -21 -8 -23 -73 -23 -65 0 -70 2 -73 23 -3 21 0 22 73 22 73 0\n          76 -1 73 -22z m-35 -114 c3 -42 14 -83 30 -115 l26 -49 -94 0 -94 0 26 49 c16\n          32 27 73 30 115 l6 66 32 0 32 0 6 -66z m327 -349 l0 -165 -362 0 -363 0 2\n          162 c1 90 2 164 2 166 1 1 163 2 361 2 l360 0 0 -165z m50 -220 l0 -35 -415 0\n          -415 0 0 35 0 35 415 0 415 0 0 -35z"],["d","M385 440 c-3 -6 0 -12 7 -15 26 -10 433 0 433 10 0 14 -431 19 -440\n          5z"],["d","M385 320 c-3 -6 0 -12 7 -15 26 -10 433 0 433 10 0 14 -431 19 -440\n          5z"],[1,"card-inner",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","version","1.1","viewBox","0 0 2048 1790","width","70"],["transform","translate(1624,300)","d","m0 0h24l17 3 13 5 10 6 10 8 10 10 9 14 8 16 4 13 1 14-3 22-6 15-6 11-13 16-12 10-12 7-17 6-13 2h-20l-16-3-21-8-7 14-8 14-10 18-13 24-13 23-13 24-20 35-16 29-8 14-10 18-12 22-10 18-12 22-15 27-6 10-6 8 1 4 8 9 11 15 8 16 4 15 1 9v10l-3 19-4 12-7 13-8 10-6 7-11 9-15 8-17 5-7 1h-22l-16-3-12-5-12-8-12-11-8-10-8-14-5-12-3-16-1-20-21-7-31-12-34-14-20-8-18-8-4-2-1 12-4 13-5 10-9 13-11 12-11 8-16 8-15 4-10 1h-15l-15-2-16-6-14-9-13-11-4-3 1 5-8 7-7 8-8 9-9 11-11 12-9 11-10 11-9 11-11 12-7 8-18 20-7 8-12 13-18 20-6 8 1 4 6 15 4 13 1 6v14l-3 17-5 13-8 15-9 10-7 8-12 9-12 6-15 4-7 1h-25l-17-4-14-6-11-8-10-9-9-11-9-16-5-16-1-9v-14l3-17v-7l-16-9-26-17-25-16-38-24-14-10-9-7-3-3-4 2-13 15-15 14-11 7-14 5-9 2-10 1h-15l-15-2-15-5-13-8-10-9-7-7-7-9-3-2-9 6-10 8-13 9-19 14-21 14-17 12-18 12-11 6-7 1-5-4-3-6 2-6 7-8 20-15 16-11 18-13 14-10 43-29 5-2-3-11-1-6v-23l4-16 8-16 6-9 12-13 12-9 12-7 16-5 6-1h27l17 4 13 6 12 7 15 15 10 15 7 16 4 15v32l4 5 18 11 19 12 48 30 33 22 10 9 4-2 7-8 4-5 16-12 17-9 15-4h26l16 4 16 8 11 8 8 4 2-4 7-8 11-12 8-10 11-12 9-11 16-17 7-8 9-10 11-13 9-10 9-11 24-28 9-9 6-7 4-3v-7l-5-18-1-6v-26l4-16 5-11 6-10 9-11 12-10 11-7 12-6 13-3 17-1 20 2 15 5 13 7 11 9 9 9 12 18 8 17 3 5 8 5 8 4 35 14 32 13 26 10 20 9h2l7-11 9-11 9-10 14-10 14-7 14-4 6-1h22l15 3 6 2 2-5 6-10 10-16 13-24 10-17 10-18 14-25 15-27 13-23 14-26 13-23 16-28 14-26 12-22 10-18 10-15-1-5-10-15-8-16-4-15-1-17 1-13 5-16 8-15 8-11 13-13 14-9 13-6zm4 25-16 4-13 7-13 13-8 13-4 13-2 13 1 15 3 10 7 11 11 12 10 8 12 6 18 4h14l12-3 16-8 8-6 7-7 7-11 4-12 2-13v-10l-3-16-4-9-7-11-10-10-11-7-14-5-7-1zm-583 397-13 3-14 7-10 8-7 7-7 11-5 12-3 14v17l4 13 7 13 7 8 5 5 11 8 11 5 12 3h19l13-4 12-6 10-8 7-7 6-10 4-11 2-13v-21l-4-14-6-11-9-10-12-9-16-8-9-2zm304 75-17 5-13 7-14 14-5 8-5 14-2 17 1 14 4 12 11 16 14 11 14 7 12 3h17l13-4 15-8 12-11 7-10 4-10 2-8 1-18-2-14-5-12-7-10-8-8-14-9-11-4-9-2zm-370 47 1 2zm-523 0-17 2-14 5-13 9-9 9-9 14-4 11-1 6v23l4 13 9 15 13 13 11 7 10 4 16 3h8l12-3 12-5 12-9 12-12 8-14 3-10 1-7v-12l-3-15-6-14-9-12-10-9-17-9-9-2zm294 159-11 2-12 5-13 9-12 12-8 14-4 16v22l3 11 5 9 9 11 10 9 10 6 16 5 6 1h15l11-3 14-7 12-11 7-8 8-16 2-12v-20l-3-12-6-11-10-12-13-10-14-7-13-3z","fill","#000000"],["transform","translate(1566,579)","d","m0 0h180l6 2v938l-2 5-5 2-8 1h-171l-3-2-1-3-1-22-1-359v-457l1-101 1-3zm20 22-1 2v896l1 6 140 1 2-1 1-219v-683l-1-1z","fill","#000000"],["transform","translate(981,941)","d","m0 0h156l7 1 2 3 1 9v398l-1 178-6 2-11 1-56 1h-73l-38-1-1-3-1-22v-561l3-5zm98 23-95 1-1 124v403l1 19 138-1v-545l-1-1z","fill","#000000"],["transform","translate(1304,1022)","d","m0 0h140l3 1v500l-2 4-6 2-25 1h-134l-21-1-3-7-1-15v-481l2-3zm48 23-72 1-1 460 1 1h143l1-2-1-460z","fill","#000000"],["transform","translate(368,1050)","d","m0 0h177l2 4v475l-6 2-24 1h-146l-6-2-1-1-1-9-1-31v-433l1-5zm19 22v438l44-1h90l2-1 1-56v-380z","fill","#000000"],["transform","translate(795,1188)","d","m0 0h37l14 1 4 4v335l-1 2-6 1-19 1h-158l-3-3-1-15v-322l2-2 9-1zm-1 25-109 1v295l142-1v-294l-1-1z","fill","#000000"],[1,"card-inner"],["xmlns","http://www.w3.org/2000/svg","version","1.1","viewBox","0 0 2023 2048","width","40"],["transform","translate(1018,32)","d","m0 0 32 1 19 3 21 6 23 11 12 8 16 13 16 16 13 17 9 14 9 17 6 15 5 18 3 26v17l-2 22 9 3 46 15 29 12 26 13 18 10 19 11 18 11 24 16 18 14 14 11 12 10 11 9 17 16 14 14 7 8 13 13 7 8 14 17 14 19 13 18 12 18 13 22 13 24 17 34 14 33 11 33 7 26 10 49 7 49 4 43 1 23 1 464 1 80 2 15 3 9 4 4v2l4 2 12 11 11 9 13 11 11 9 28 24 10 8 13 11 11 9 14 12 10 8 13 11 13 10 15 13 11 9 13 11 10 8 11 9 13 11 8 7 9 12 4 8 2 9v47l-2 14-7 14-9 10-8 5-11 3-10 1h-1709l-13-2-9-5-10-10-6-10-4-14-1-12v-41l3-10 7-12 9-10 13-12 13-10 13-11 11-9 12-11 11-9 15-13 9-7 16-13 15-13 14-12 16-13 11-9 12-10 22-18 13-11 10-8 14-12 5-6 3-9 1-14 1-148 1-391 2-33 7-62 6-35 9-39 6-19 10-29 11-26 12-26 16-33 11-19 9-14 24-36 10-14 22-26 9-10 9-11 9-9 7-8 13-13 8-7 11-10 22-18 15-12 15-11 18-12 28-17 24-14 27-14 31-13 44-14 4-2 1-10-1-13v-15l3-24 4-16 7-18 12-23 13-19 13-15 7-7 11-9 13-10 16-9 10-5 21-7 24-4zm-7 86-15 3-12 5-14 8-10 8-7 7-6 9-8 16-5 16-2 12v8l3 3h19l39-2h58l32 2 25 2 3-1 1-2-1-14-5-22-5-12-8-12-10-11-14-10-17-8-15-4-6-1zm-18 182-35 3-36 5-35 7-30 8-20 7-30 13-17 8-19 10-22 12-19 12-14 10-12 9-21 16-13 11-8 7-13 12-17 17-7 8-8 9-9 11-13 16-12 17-14 21-13 22-12 21-8 16-12 27-13 37-11 35-11 44-3 16-3 26-3 45-1 39-1 498-2 31-3 18-5 13-10 19-11 14-15 15-11 9-14 12-34 28-14 12-22 18-9 8-10 8-12 10-22 18-12 11-11 9-15 13-6 7 1 1 425 2h590l399-2h148l-6-7-14-14-8-7-12-11-11-9-9-8-11-9-13-11-11-9-14-12-14-11-13-11-14-11-14-12-11-9-13-11-13-12-9-10-11-15-8-15-5-16-3-18-1-12-1-29v-491l-1-34-5-77-3-21-8-34-12-36-10-27-10-25-11-24-12-22-12-19-18-27-8-11-11-14-11-12-7-8-9-9-7-8-22-22-11-9-13-11-20-15-15-11-15-10-20-12-24-13-16-8-33-15-28-11-34-9-23-5-38-6-26-3-14-1z","fill","#000000"],["transform","translate(851,1812)","d","m0 0 4 1 7 9 10 17 13 17 9 10 15 13 14 10 13 8 21 10 23 7 19 3 10 1h32l24-4 22-6 14-6 14-8 17-12 11-9 18-18 11-14 9-14 7-13 1-1 7 1 35 13 13 6 19 9 5 5-3 9-10 18-8 14-9 12-8 10-9 10-7 8-13 13-14 11-13 10-18 11-21 10-30 11-25 7-25 5-19 2h-31l-20-2-25-5-23-7-27-11-25-12-16-10-13-10-14-12-19-19-9-11-11-14-11-17-15-25 1-4 8-5 28-14 28-13z","fill","#000000"],["data-bs-toggle","dropdown",1,"pointer"],[1,"dropdown-menu",2,"min-width","350px","width","450px","height","300px","overflow-y","scroll"],["style","text-align: center;",4,"ngIf"],["style","padding-left: 5px;",4,"ngFor","ngForOf"],[1,"bottomChart"],[1,"barchrt","w-100"],[1,"d-flex","row","align-items-center","mb-1"],[1,"col-9"],[2,"margin-bottom","0px"],[1,"chartDateSize"],[1,"col-3","d-flex","justify-content-end","align-items-center"],[1,"dateRange"],[1,"calIcon"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","opens","locale","ranges","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],[3,"colors","stacked"],["usedByKey",""],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","ranges","opens","locale","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],[3,"colors"],["ticketByStatus",""],["xAxisTitle","Tools name","yAxisTitle","No of usages",3,"distributed"],["myToolUsage",""],["xAxisTitle","Credit usage in months","yAxisTitle","Number of credits used",3,"colors","legend"],["myFilesSubmitted",""],["xAxisTitle","Credit types","yAxisTitle","Number of credit available",3,"colors","distributed"],["creditBalanceChart",""],[2,"text-align","center"],[2,"padding-left","5px"],[1,"profile","mb-2"],["alt","profile",3,"src"],[1,"notification-inner",3,"click"],[1,"mb-0"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",4),e._uU(7,"Dashboard"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7),e.O4$(),e.TgZ(11,"svg",8)(12,"metadata"),e._uU(13," Created by potrace 1.10, written by Peter Selinger 2001-2011 "),e.qZA(),e.TgZ(14,"g",9),e._UZ(15,"path",10)(16,"path",11)(17,"path",12),e.qZA()(),e.kcU(),e.TgZ(18,"p"),e._uU(19,"Credits Spent History"),e.qZA(),e.TgZ(20,"h5"),e._uU(21),e.qZA()(),e.TgZ(22,"div",13),e.O4$(),e.TgZ(23,"svg",14),e._UZ(24,"path",15)(25,"path",16)(26,"path",17)(27,"path",18)(28,"path",19)(29,"path",20),e.qZA(),e.kcU(),e.TgZ(30,"p"),e._uU(31,"Credit Purchased"),e.qZA(),e.TgZ(32,"h5"),e._uU(33),e.qZA()(),e.TgZ(34,"div",21),e.O4$(),e.TgZ(35,"svg",22),e._UZ(36,"path",23)(37,"path",24),e.qZA(),e.kcU(),e.TgZ(38,"p",25),e._uU(39,"My Notification"),e.qZA(),e.TgZ(40,"h5",25),e._uU(41),e.qZA(),e.TgZ(42,"ul",26),e.YNc(43,kt,2,0,"li",27),e.YNc(44,zt,11,4,"li",28),e.qZA()()(),e.TgZ(45,"div",29)(46,"div",30)(47,"div",31)(48,"div",32)(49,"p",33),e._uU(50,"Used Keys By Date \xa0 "),e.TgZ(51,"span",34),e._uU(52),e.qZA()()(),e.TgZ(53,"div",35)(54,"div",36)(55,"div",37),e._UZ(56,"i",38),e.qZA(),e.TgZ(57,"input",39),e.NdJ("ngModelChange",function(o){return n.selectedRangeCalendarCenter=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"usedKeysByDate")}),e.qZA()()()(),e._UZ(58,"app-line-graph",40,41),e.qZA(),e.TgZ(60,"div",30)(61,"div",31)(62,"div",32)(63,"p",33),e._uU(64,"My Support Tickets by Status \xa0 "),e.TgZ(65,"span",34),e._uU(66),e.qZA()()(),e.TgZ(67,"div",35)(68,"div",36)(69,"div",37),e._UZ(70,"i",38),e.qZA(),e.TgZ(71,"input",42),e.NdJ("ngModelChange",function(o){return n.selectedRangeSupportTicketsStatus=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"MySupportTicketsByStatus")}),e.qZA()()()(),e._UZ(72,"app-line-graph",43,44),e.qZA()(),e.TgZ(74,"div",29)(75,"div")(76,"div",31)(77,"div",32)(78,"p",33),e._uU(79,"My Tool Usage \xa0 "),e.TgZ(80,"span",34),e._uU(81),e.qZA()()(),e.TgZ(82,"div",35)(83,"div",36)(84,"div",37),e._UZ(85,"i",38),e.qZA(),e.TgZ(86,"input",42),e.NdJ("ngModelChange",function(o){return n.selectedRangeMyToolUsage=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"MyToolUsage")}),e.qZA()()()(),e._UZ(87,"app-line-graph",45,46),e.qZA(),e.TgZ(89,"div")(90,"div",31)(91,"div",32)(92,"p",33),e._uU(93,"My Files Submitted \xa0 "),e.TgZ(94,"span",34),e._uU(95),e.qZA()()(),e.TgZ(96,"div",35)(97,"div",36)(98,"div",37),e._UZ(99,"i",38),e.qZA(),e.TgZ(100,"input",39),e.NdJ("ngModelChange",function(o){return n.selectedMyFilesSubmitted=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"MyFilesSubmitted")}),e.qZA()()()(),e._UZ(101,"app-line-graph",47,48),e.qZA(),e.TgZ(103,"div")(104,"p"),e._uU(105,"My Available Credits by Type Credit Balance"),e.qZA(),e._UZ(106,"app-line-graph",49,50),e.qZA()()()()),2&a&&(e.xp6(10),e.Q6J("routerLink",e.DdM(72,$))("queryParams",e.DdM(73,It)),e.xp6(11),e.Oqu((null==n.getCountData?null:n.getCountData.credit_spent_current_month)||0),e.xp6(1),e.Q6J("routerLink",e.DdM(74,$)),e.xp6(11),e.Oqu((null==n.getCountData?null:n.getCountData.credit_purchased)||0),e.xp6(8),e.Oqu(n.notificationCount),e.xp6(2),e.Q6J("ngIf",0==(null==n.notificationList?null:n.notificationList.length)),e.xp6(1),e.Q6J("ngForOf",n.notificationList),e.xp6(8),e.Oqu(-1==n.usedKeysMonthRange?(null==n.uKdateRange?null:n.uKdateRange.startDate)+" - "+(null==n.uKdateRange?null:n.uKdateRange.endDate):1==n.usedKeysMonthRange?n.usedKeysMonthRange+" Year":n.usedKeysMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",n.selectedRangeCalendarCenter)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("ranges",n.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("colors",n.gradientColors)("stacked",!0),e.xp6(8),e.Oqu(-1==n.selectedRangeSupportTicketsStatus?(null==n.MSTBSdateRange?null:n.MSTBSdateRange.startDate)+" - "+(null==n.MSTBSdateRange?null:n.MSTBSdateRange.endDate):n.currentMonthName),e.xp6(5),e.Q6J("ngModel",n.selectedRangeSupportTicketsStatus)("drops",n.dropsDown)("ranges",n.ranges)("opens",n.opensLeft)("locale",n.locale)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("colors",n.gradientColors),e.xp6(9),e.Oqu(-1==n.selectedRangeMyToolUsage?(null==n.MyTUdateRange?null:n.MyTUdateRange.startDate)+" - "+(null==n.MyTUdateRange?null:n.MyTUdateRange.endDate):n.currentMonthName),e.xp6(5),e.Q6J("ngModel",n.selectedRangeMyToolUsage)("drops",n.dropsDown)("ranges",n.ranges)("opens",n.opensLeft)("locale",n.locale)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("distributed",!1),e.xp6(8),e.Oqu(-1==n.fileSubmitedMonthRange?(null==n.MyFSdateRange?null:n.MyFSdateRange.startDate)+" - "+(null==n.MyFSdateRange?null:n.MyFSdateRange.endDate):1==n.fileSubmitedMonthRange?n.fileSubmitedMonthRange+" Year":n.fileSubmitedMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",n.selectedMyFilesSubmitted)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("ranges",n.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("colors",e.DdM(75,Nt))("legend",!1),e.xp6(5),e.Q6J("colors",e.DdM(76,Lt))("distributed",!0))},dependencies:[C.sg,C.O5,f.rH,d.Fj,d.JJ,d.On,O.Bf,I.C],styles:[".dateRange[_ngcontent-%COMP%]{position:relative;width:40px;height:25px}.dateRange[_ngcontent-%COMP%]   .calIcon[_ngcontent-%COMP%]{position:absolute;right:.6rem;top:0;bottom:0}.dateRange[_ngcontent-%COMP%]   .dateRangeInput[_ngcontent-%COMP%]{box-shadow:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute;opacity:0;inset:0;cursor:pointer!important}.dash-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:var(--font-size-48)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:grid;grid-template-columns:5rem auto;width:100%;justify-content:start;background:#FFFFFF;border-radius:8px;padding:var(--font-size-20)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-48);height:var(--font-size-48);border-radius:50%;object-fit:cover;background:rgba(57,74,156,.15);padding:var(--font-size-10)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{align-self:center;grid-area:1/1/3/2}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:1rem;color:#474554;margin-bottom:5px!important}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;line-height:var(--font-size-18);color:#aca9bb}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{grid-area:2/2/3/3;text-align:left;margin-bottom:0;font-size:var(--font-size-24);font-family:verdana;color:#342f2e}.bottomChart[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-20);margin-top:var(--font-size-20)}.bottomChart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:49%;padding:var(--font-size-20) var(--font-size-20);background-color:#fff;border-radius:var(--font-size-10)}.bottomChart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-family:var(--ff-primary-bold);color:#474554}@media (max-width: 900px){.dash-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.bottomChart[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bottomChart[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:auto!important}}.profile[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-12);align-items:center}.profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;cursor:pointer}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){width:var(--font-size-40);height:var(--font-size-40);object-fit:cover;border-radius:50%}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#474554;margin-bottom:0}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-12);line-height:var(--font-size-17);color:#6d7886}@media screen and (max-width: 767px){.add-user-inne[_ngcontent-%COMP%]{padding-bottom:2rem}.statics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .rstatics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.lefttop[_ngcontent-%COMP%]{display:none}h2[_ngcontent-%COMP%]{margin-bottom:15px!important}}.upper-chart-wrapper[_ngcontent-%COMP%]{display:flex}.mg-lft-20[_ngcontent-%COMP%]{margin-left:20px}"]})}return i})();const Et=["usedByKey"],Jt=["creditBalanceChart"],Yt=["myFilesSubmitted"],Qt=["myToolUsage"],Vt=["ticketByStatus"];function Kt(i,r){1&i&&(e.TgZ(0,"li",50),e._uU(1,"No Notification..."),e.qZA())}function jt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",51)(1,"div",52),e._UZ(2,"img",53),e.TgZ(3,"div",54),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.redirectTo(s))}),e.TgZ(4,"div")(5,"h6",55),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA()()()()}if(2&i){const t=r.$implicit,a=e.oxw();e.xp6(2),e.Q6J("src",null!=t.sender&&t.sender.image?null==t.sender?null:t.sender.image:"assets/images/icon/customer-profile.png",e.LSH),e.xp6(4),e.Oqu(t.title),e.xp6(2),e.hij("",t.message," "),e.xp6(2),e.Oqu(a.notification.formatDate(t.created_at))}}const G=function(){return["/credit/credit-transaction"]},$t=function(){return{type:"spentHistory"}},Gt=function(){return{type:"purchaseHistory"}},Ht=function(){return["#AD88F1"]},Wt=function(){return["#32337E"]};let Xt=(()=>{class i{constructor(t,a,n,s,o,m){this.crud=t,this._titleservice=a,this.notification=n,this.CustomerBusinessService=s,this.router=o,this.xorEncryption=m,this.fileT="submission",this.fileR="submission",this.getCreditChartData=[],this.userdata={labels:["Active Users","Users"],datasets:[{data:["467","100"],backgroundColor:["#FFBC55","#269B87"],borderWidth:0,hoverBackgroundColor:["#FFBC55","#269B87"]}]},this.isdashboardChart=!0,this.userChart={labels:["Jan","Feb","March","April","May","June"],datasets:[{label:"Open",data:["467","576","572","79","546","90"],backgroundColor:"#3DCAB1"},{label:"Close",data:["542","542","536","327","340","560"],backgroundColor:"#FE7375"},{label:"In progress",data:["542","542","536","327","50","100"],backgroundColor:"#FFA500"},{label:"On hold",data:["542","542","536","327","70","150","467","576","572","79","546","90"],backgroundColor:"#7B8196"}]},this.customertype="bar",this.usedKeysMonthRange=6,this.fileSubmitedMonthRange=6,this.monthList=D.DL,this.yearCount=0,this.year=0,this.page=1,this.pageSize=10,this.dropsDown="down",this.dropsUp="up",this.opensRight="right",this.opensCenter="center",this.opensLeft="left",this.invalidDates=[],this.ranges={"3 Month":[p()().subtract(89,"days").startOf("day"),p()().endOf("day")],"6 Month":[p()().subtract(179,"days").startOf("day"),p()().endOf("day")],"1 Year":[p()().subtract(364,"days").startOf("day"),p()().endOf("day")]},this.localeTime={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"DD.MM.YYYY HH:mm:ss",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To"},this.locale={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"YYYY-MM-DD",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",displayFormat:"YYYY-MM-DD"},this.tooltips=[{date:p()(),text:"Today is just unselectable"},{date:p()().add(2,"days"),text:"Yeeeees!!!"}],this.gradientColors=["#AD88F1","#826ACA","#594DA3","#32337E","#20B2AA","#40E0D0","#48D1CC","#00FA9A","#7FFF00","#ADFF2F","#2091FF","#BA55D3","#8A2BE2","#7B68EE","#6A5ACD","#4169E1","#1E90FF","#0000FF","#00BFFF","#00CED1"],this.isInvalidDate=l=>this.invalidDates.some(u=>u.isSame(l,"day")),this.isCustomDate=l=>(0===l.month()||6===l.month())&&"mycustomdate",this.isTooltipDate=l=>{const u=this.tooltips.find(h=>h.date.isSame(l,"day"));return!!u&&u.text},this.dateRange={startDate:"",endDate:""},this.UKBDdateRange={startDate:"",endDate:""},this.mySTS={startDate:"",endDate:""},this.myTUDateRange={startDate:"",endDate:""},this.myFileSDateRange={startDate:"",endDate:""},this._titleservice.setTitle("Dashboard")}ngOnInit(){const a=new Date,n=a.getMonth()+1;this.currentMonthName=["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()],this.year=a.getFullYear(),this.yearCount=this.year-2022,this.ticketStatusMonth=n,this.ticketStatusYear=this.year,this.fileSubmitedMonth=n,this.toolUsageMonth=n,this.toolUsageYear=this.year,this.notification.onMessageUser.subscribe(s=>{s&&"ticket_create_notification_customer"===s.type&&(this.unseenNotiCount=1,this.notificationList.unshift({message:s.message,type:s.type,id:s.ids}))}),this.getNotification(),this.CustomerBusinessService.notificationCount$.subscribe(s=>{this.notificationCount=s}),this.getCardsCount(),this.getMyFileSubmittedData(),this.getMyToolUsage(),this.getMySupportsTicket()}datesUpdatedRange(t,a){this.dateRange.startDate=t.startDate.$y+"-"+(t.startDate.$M+1)+"-"+t.startDate.$D,this.dateRange.endDate=t.endDate.$y+"-"+(t.endDate.$M+1)+"-"+t.endDate.$D,t.label&&("usedKeysByDate"==a?(this.usedKeysMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.UKBDdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.UKBDdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getCharts(!0,this.dateRange)):"mySupportTicketsbyStatus"==a?(this.selectedRangeSupportTicketsByStatus=-1,this.mySTS.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.mySTS.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMySupportsTicket(this.dateRange)):"myToolUsage"==a?(this.selectedRangeToolUsage=-1,this.myTUDateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.myTUDateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMyToolUsage(this.dateRange)):"myFilesSubmittedd"==a&&(this.fileSubmitedMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.myFileSDateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.myFileSDateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMyFileSubmittedData(this.dateRange)))}datesUpdatedSingle(t){console.log("single",t)}datesUpdatedInline(t){console.log("inline",t)}counter(t){return new Array(t)}getNotification(){this.crud.getRequest(`${b.t.getNotification}${this.page}&page_size=${this.pageSize}`).then(t=>{t&&(this.notificationList=t.data.results,this.unseenNotiCount=t.data.un_seen_message_count)})}redirectTo(t){"file_submission_completed"==t.type?this.router.navigateByUrl("/file-service/file-services"):"ticket_create_notification_customer"==t.type?this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.id)}/${this.xorEncryption.xorEncryptDecrypt(t.id.slice(2,5))}`):t.ticket&&this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.ticket.ids)}/${this.xorEncryption.xorEncryptDecrypt(t.ticket.id)}`)}readNotification(){this.crud.postRequest(b.t.readNotification,{}).then(t=>{t&&(this.unseenNotiCount=0)})}getCharts(t,a){this.crud.getRequest(-1==this.usedKeysMonthRange?`dashboard/sub-dealer/dashboard/used_keys/month?range=${this.usedKeysMonthRange}&start_date=${a.startDate}&end_date=${a.endDate}`:`dashboard/sub-dealer/dashboard/used_keys/month?range=${this.usedKeysMonthRange}`).then(s=>{const o=s.data.credit_used_by_month,m=o.map(y=>y.month),l=o.map(y=>y.credit.file_credit),u=o.map(y=>y.credit.evc_credit),h=o.map(y=>y.credit.function_credit);this.usedByKey.reDraw([{name:"File Credit",backgroundColor:"#002060",data:l},{name:"EVC Credit",backgroundColor:"rgb(59,130,246)",data:u},{name:"Function Credit",backgroundColor:"rgb(255,0,0)",data:h}],m)})}getCreditChart(t){const n=this.getCreditChartData.reduce((s,o)=>(s.push(o.file_key_credit,o.function_credit,o.evc_credit),s),[]);this.creditBalanceChart.reDraw([{name:"",data:n}],[{label:"File Key Credits",color:"#89CFF0"},{label:"Function Credits",color:"#fff060"},{label:"EVC Credits",color:"#FF5733"}].map(s=>s.label))}getMyFileSubmittedData(t){this.crud.getRequest(-1==this.fileSubmitedMonthRange?`dashboard/sub-dealer/dashboard/file_request/month?start_date=${t.startDate}&end_date=${t.endDate}&range=-1`:"dashboard/sub-dealer/dashboard/file_request/month?range="+this.fileSubmitedMonthRange).then(n=>{if(n&&n.data){const s=n.data,o=s.map(l=>l?.month),m=s.map(l=>l?.count);this.myFilesSubmitted.reDraw([{name:"",data:m}],o)}})}getMyToolUsage(t){this.crud.getRequest(t?`dashboard/sub-dealer/dashboard/file_request/tool?filter_type=date&from_date=${t.startDate}&to_date=${t.endDate}`:"dashboard/sub-dealer/dashboard/file_request/tool?month="+this.toolUsageMonth+"&year="+this.toolUsageYear).then(n=>{if(n&&n.data){const s=n.data,o=s.map(l=>l.tuning_tool_used),m=s.map(l=>l.count);this.myToolUsage.reDraw([{name:"",data:m}],o)}})}getMySupportsTicket(t){this.crud.getRequest(t?`dashboard/sub-dealer/dashboard/ticket/status?filter_type=date&from_date=${t.startDate}&to_date=${t.endDate}`:"dashboard/sub-dealer/dashboard/ticket/status?month="+this.ticketStatusMonth+"&year="+this.ticketStatusYear).then(n=>{if(n&&n.data){let o=Object.keys(n.data).map(l=>l.replace(/_/g," "));o=o.map(l=>l.split(" ").map(u=>u[0].toUpperCase()+u.slice(1)).join(" "));for(let l=0;l<o.length;l++)"Inprogress"==o[l]&&(o[l]="In Progress");const m=Object.values(n.data);this.ticketByStatus.reDraw([{name:"Tickets",data:m}],o)}})}getCardsCount(){this.CustomerBusinessService.getCounts().subscribe(t=>{t&&t.data&&(this.getCharts(),this.getCountData=t?.data,this.getCreditChartData=t?.data?.available_credit_balance,this.getCreditChart())})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(S.I),e.Y36(M.Dx),e.Y36(x.T),e.Y36(j.b),e.Y36(f.F0),e.Y36(q.G))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sub-dealer-dashboard"]],viewQuery:function(a,n){if(1&a&&(e.Gf(O.Bf,5),e.Gf(Et,5),e.Gf(Jt,5),e.Gf(Yt,5),e.Gf(Qt,5),e.Gf(Vt,5)),2&a){let s;e.iGM(s=e.CRH())&&(n.pickerDirective=s.first),e.iGM(s=e.CRH())&&(n.usedByKey=s.first),e.iGM(s=e.CRH())&&(n.creditBalanceChart=s.first),e.iGM(s=e.CRH())&&(n.myFilesSubmitted=s.first),e.iGM(s=e.CRH())&&(n.myToolUsage=s.first),e.iGM(s=e.CRH())&&(n.ticketByStatus=s.first)}},inputs:{unseenNotifications:"unseenNotifications"},decls:108,vars:79,consts:[[1,"add-user"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/customer"],[1,"add-user-inne"],[1,"dash-card"],[1,"card-inner",3,"routerLink","queryParams"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","50","viewBox","0 0 120.000000 156.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,156.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d","M290 1415 l0 -35 -74 0 -74 0 -7 -30 c-23 -105 75 -248 216 -316 20\n            -11 45 -31 53 -45 8 -14 36 -45 61 -68 40 -37 45 -46 45 -86 0 -39 3 -45 21\n            -45 20 0 21 -3 15 -58 -3 -31 -19 -82 -34 -112 l-27 -55 -132 -3 -133 -3 0\n            -174 0 -175 -25 0 c-25 0 -26 -2 -23 -58 l3 -57 430 0 430 0 3 58 c3 55 2 57\n            -23 57 l-25 0 0 175 0 175 -130 0 -129 0 -25 42 c-23 41 -46 125 -46 168 0 13\n            7 20 20 20 17 0 20 7 20 43 0 38 6 48 68 112 37 39 99 92 139 118 83 55 117\n            92 149 162 24 50 29 90 18 133 -6 20 -12 22 -80 22 l-74 0 0 35 0 35 -315 0\n            -315 0 0 -35z m605 -60 c-15 -151 -57 -280 -121 -366 -100 -137 -237 -138\n            -337 -1 -63 85 -107 219 -122 372 l-7 65 297 0 297 0 -7 -70z m-600 -42 c14\n            -91 28 -152 50 -205 l23 -58 -31 18 c-54 31 -135 112 -156 155 -12 24 -21 62\n            -21 85 l0 42 65 0 64 0 6 -37z m755 -5 c0 -23 -9 -61 -21 -85 -21 -43 -102\n            -124 -156 -155 l-31 -18 23 58 c22 53 36 114 50 205 l6 37 64 0 65 0 0 -42z\n            m-372 -470 c-3 -21 -8 -23 -73 -23 -65 0 -70 2 -73 23 -3 21 0 22 73 22 73 0\n            76 -1 73 -22z m-35 -114 c3 -42 14 -83 30 -115 l26 -49 -94 0 -94 0 26 49 c16\n            32 27 73 30 115 l6 66 32 0 32 0 6 -66z m327 -349 l0 -165 -362 0 -363 0 2\n            162 c1 90 2 164 2 166 1 1 163 2 361 2 l360 0 0 -165z m50 -220 l0 -35 -415 0\n            -415 0 0 35 0 35 415 0 415 0 0 -35z"],["d","M385 440 c-3 -6 0 -12 7 -15 26 -10 433 0 433 10 0 14 -431 19 -440\n            5z"],["d","M385 320 c-3 -6 0 -12 7 -15 26 -10 433 0 433 10 0 14 -431 19 -440\n            5z"],["xmlns","http://www.w3.org/2000/svg","version","1.1","viewBox","0 0 2048 1790","width","70"],["transform","translate(1624,300)","d","m0 0h24l17 3 13 5 10 6 10 8 10 10 9 14 8 16 4 13 1 14-3 22-6 15-6 11-13 16-12 10-12 7-17 6-13 2h-20l-16-3-21-8-7 14-8 14-10 18-13 24-13 23-13 24-20 35-16 29-8 14-10 18-12 22-10 18-12 22-15 27-6 10-6 8 1 4 8 9 11 15 8 16 4 15 1 9v10l-3 19-4 12-7 13-8 10-6 7-11 9-15 8-17 5-7 1h-22l-16-3-12-5-12-8-12-11-8-10-8-14-5-12-3-16-1-20-21-7-31-12-34-14-20-8-18-8-4-2-1 12-4 13-5 10-9 13-11 12-11 8-16 8-15 4-10 1h-15l-15-2-16-6-14-9-13-11-4-3 1 5-8 7-7 8-8 9-9 11-11 12-9 11-10 11-9 11-11 12-7 8-18 20-7 8-12 13-18 20-6 8 1 4 6 15 4 13 1 6v14l-3 17-5 13-8 15-9 10-7 8-12 9-12 6-15 4-7 1h-25l-17-4-14-6-11-8-10-9-9-11-9-16-5-16-1-9v-14l3-17v-7l-16-9-26-17-25-16-38-24-14-10-9-7-3-3-4 2-13 15-15 14-11 7-14 5-9 2-10 1h-15l-15-2-15-5-13-8-10-9-7-7-7-9-3-2-9 6-10 8-13 9-19 14-21 14-17 12-18 12-11 6-7 1-5-4-3-6 2-6 7-8 20-15 16-11 18-13 14-10 43-29 5-2-3-11-1-6v-23l4-16 8-16 6-9 12-13 12-9 12-7 16-5 6-1h27l17 4 13 6 12 7 15 15 10 15 7 16 4 15v32l4 5 18 11 19 12 48 30 33 22 10 9 4-2 7-8 4-5 16-12 17-9 15-4h26l16 4 16 8 11 8 8 4 2-4 7-8 11-12 8-10 11-12 9-11 16-17 7-8 9-10 11-13 9-10 9-11 24-28 9-9 6-7 4-3v-7l-5-18-1-6v-26l4-16 5-11 6-10 9-11 12-10 11-7 12-6 13-3 17-1 20 2 15 5 13 7 11 9 9 9 12 18 8 17 3 5 8 5 8 4 35 14 32 13 26 10 20 9h2l7-11 9-11 9-10 14-10 14-7 14-4 6-1h22l15 3 6 2 2-5 6-10 10-16 13-24 10-17 10-18 14-25 15-27 13-23 14-26 13-23 16-28 14-26 12-22 10-18 10-15-1-5-10-15-8-16-4-15-1-17 1-13 5-16 8-15 8-11 13-13 14-9 13-6zm4 25-16 4-13 7-13 13-8 13-4 13-2 13 1 15 3 10 7 11 11 12 10 8 12 6 18 4h14l12-3 16-8 8-6 7-7 7-11 4-12 2-13v-10l-3-16-4-9-7-11-10-10-11-7-14-5-7-1zm-583 397-13 3-14 7-10 8-7 7-7 11-5 12-3 14v17l4 13 7 13 7 8 5 5 11 8 11 5 12 3h19l13-4 12-6 10-8 7-7 6-10 4-11 2-13v-21l-4-14-6-11-9-10-12-9-16-8-9-2zm304 75-17 5-13 7-14 14-5 8-5 14-2 17 1 14 4 12 11 16 14 11 14 7 12 3h17l13-4 15-8 12-11 7-10 4-10 2-8 1-18-2-14-5-12-7-10-8-8-14-9-11-4-9-2zm-370 47 1 2zm-523 0-17 2-14 5-13 9-9 9-9 14-4 11-1 6v23l4 13 9 15 13 13 11 7 10 4 16 3h8l12-3 12-5 12-9 12-12 8-14 3-10 1-7v-12l-3-15-6-14-9-12-10-9-17-9-9-2zm294 159-11 2-12 5-13 9-12 12-8 14-4 16v22l3 11 5 9 9 11 10 9 10 6 16 5 6 1h15l11-3 14-7 12-11 7-8 8-16 2-12v-20l-3-12-6-11-10-12-13-10-14-7-13-3z","fill","#000000"],["transform","translate(1566,579)","d","m0 0h180l6 2v938l-2 5-5 2-8 1h-171l-3-2-1-3-1-22-1-359v-457l1-101 1-3zm20 22-1 2v896l1 6 140 1 2-1 1-219v-683l-1-1z","fill","#000000"],["transform","translate(981,941)","d","m0 0h156l7 1 2 3 1 9v398l-1 178-6 2-11 1-56 1h-73l-38-1-1-3-1-22v-561l3-5zm98 23-95 1-1 124v403l1 19 138-1v-545l-1-1z","fill","#000000"],["transform","translate(1304,1022)","d","m0 0h140l3 1v500l-2 4-6 2-25 1h-134l-21-1-3-7-1-15v-481l2-3zm48 23-72 1-1 460 1 1h143l1-2-1-460z","fill","#000000"],["transform","translate(368,1050)","d","m0 0h177l2 4v475l-6 2-24 1h-146l-6-2-1-1-1-9-1-31v-433l1-5zm19 22v438l44-1h90l2-1 1-56v-380z","fill","#000000"],["transform","translate(795,1188)","d","m0 0h37l14 1 4 4v335l-1 2-6 1-19 1h-158l-3-3-1-15v-322l2-2 9-1zm-1 25-109 1v295l142-1v-294l-1-1z","fill","#000000"],[1,"card-inner"],["xmlns","http://www.w3.org/2000/svg","version","1.1","viewBox","0 0 2023 2048","width","40"],["transform","translate(1018,32)","d","m0 0 32 1 19 3 21 6 23 11 12 8 16 13 16 16 13 17 9 14 9 17 6 15 5 18 3 26v17l-2 22 9 3 46 15 29 12 26 13 18 10 19 11 18 11 24 16 18 14 14 11 12 10 11 9 17 16 14 14 7 8 13 13 7 8 14 17 14 19 13 18 12 18 13 22 13 24 17 34 14 33 11 33 7 26 10 49 7 49 4 43 1 23 1 464 1 80 2 15 3 9 4 4v2l4 2 12 11 11 9 13 11 11 9 28 24 10 8 13 11 11 9 14 12 10 8 13 11 13 10 15 13 11 9 13 11 10 8 11 9 13 11 8 7 9 12 4 8 2 9v47l-2 14-7 14-9 10-8 5-11 3-10 1h-1709l-13-2-9-5-10-10-6-10-4-14-1-12v-41l3-10 7-12 9-10 13-12 13-10 13-11 11-9 12-11 11-9 15-13 9-7 16-13 15-13 14-12 16-13 11-9 12-10 22-18 13-11 10-8 14-12 5-6 3-9 1-14 1-148 1-391 2-33 7-62 6-35 9-39 6-19 10-29 11-26 12-26 16-33 11-19 9-14 24-36 10-14 22-26 9-10 9-11 9-9 7-8 13-13 8-7 11-10 22-18 15-12 15-11 18-12 28-17 24-14 27-14 31-13 44-14 4-2 1-10-1-13v-15l3-24 4-16 7-18 12-23 13-19 13-15 7-7 11-9 13-10 16-9 10-5 21-7 24-4zm-7 86-15 3-12 5-14 8-10 8-7 7-6 9-8 16-5 16-2 12v8l3 3h19l39-2h58l32 2 25 2 3-1 1-2-1-14-5-22-5-12-8-12-10-11-14-10-17-8-15-4-6-1zm-18 182-35 3-36 5-35 7-30 8-20 7-30 13-17 8-19 10-22 12-19 12-14 10-12 9-21 16-13 11-8 7-13 12-17 17-7 8-8 9-9 11-13 16-12 17-14 21-13 22-12 21-8 16-12 27-13 37-11 35-11 44-3 16-3 26-3 45-1 39-1 498-2 31-3 18-5 13-10 19-11 14-15 15-11 9-14 12-34 28-14 12-22 18-9 8-10 8-12 10-22 18-12 11-11 9-15 13-6 7 1 1 425 2h590l399-2h148l-6-7-14-14-8-7-12-11-11-9-9-8-11-9-13-11-11-9-14-12-14-11-13-11-14-11-14-12-11-9-13-11-13-12-9-10-11-15-8-15-5-16-3-18-1-12-1-29v-491l-1-34-5-77-3-21-8-34-12-36-10-27-10-25-11-24-12-22-12-19-18-27-8-11-11-14-11-12-7-8-9-9-7-8-22-22-11-9-13-11-20-15-15-11-15-10-20-12-24-13-16-8-33-15-28-11-34-9-23-5-38-6-26-3-14-1z","fill","#000000"],["transform","translate(851,1812)","d","m0 0 4 1 7 9 10 17 13 17 9 10 15 13 14 10 13 8 21 10 23 7 19 3 10 1h32l24-4 22-6 14-6 14-8 17-12 11-9 18-18 11-14 9-14 7-13 1-1 7 1 35 13 13 6 19 9 5 5-3 9-10 18-8 14-9 12-8 10-9 10-7 8-13 13-14 11-13 10-18 11-21 10-30 11-25 7-25 5-19 2h-31l-20-2-25-5-23-7-27-11-25-12-16-10-13-10-14-12-19-19-9-11-11-14-11-17-15-25 1-4 8-5 28-14 28-13z","fill","#000000"],["data-bs-toggle","dropdown",1,"pointer"],[1,"dropdown-menu",2,"min-width","350px","width","450px","height","300px","overflow-y","scroll"],["style","text-align: center;",4,"ngIf"],["style","padding-left: 5px;",4,"ngFor","ngForOf"],[1,"bottomChart"],[1,"barchrt","w-100"],[1,"d-flex","row","align-items-center","mb-1"],[1,"col-9"],[2,"margin-bottom","0px"],[1,"chartDateSize"],[1,"col-3","d-flex","justify-content-end","align-items-center"],[1,"dateRange"],[1,"calIcon"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","opens","locale","ranges","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],["xAxisTitle","Credits used per month","yAxisTitle","Number of credits used",3,"colors","stacked"],["usedByKey",""],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","ranges","opens","locale","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],[3,"colors"],["ticketByStatus",""],["xAxisTitle","Tools name","yAxisTitle","No of usages",3,"distributed"],["myToolUsage",""],["xAxisTitle","Credit usage in months","yAxisTitle","Number of credits used",3,"colors","legend"],["myFilesSubmitted",""],["xAxisTitle","Credit types","yAxisTitle","Number of credit available",3,"colors","distributed"],["creditBalanceChart",""],[2,"text-align","center"],[2,"padding-left","5px"],[1,"profile","mb-2"],["alt","profile",3,"src"],[1,"notification-inner",3,"click"],[1,"mb-0"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",4),e._uU(7,"Dashboard"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7),e.O4$(),e.TgZ(11,"svg",8)(12,"metadata"),e._uU(13," Created by potrace 1.10, written by Peter Selinger 2001-2011 "),e.qZA(),e.TgZ(14,"g",9),e._UZ(15,"path",10)(16,"path",11)(17,"path",12),e.qZA()(),e.kcU(),e.TgZ(18,"p"),e._uU(19,"Credits Spent History"),e.qZA(),e.TgZ(20,"h5"),e._uU(21),e.qZA()(),e.TgZ(22,"div",7),e.O4$(),e.TgZ(23,"svg",13),e._UZ(24,"path",14)(25,"path",15)(26,"path",16)(27,"path",17)(28,"path",18)(29,"path",19),e.qZA(),e.kcU(),e.TgZ(30,"p"),e._uU(31,"Credit Purchased"),e.qZA(),e.TgZ(32,"h5"),e._uU(33),e.qZA()(),e.TgZ(34,"div",20),e.O4$(),e.TgZ(35,"svg",21),e._UZ(36,"path",22)(37,"path",23),e.qZA(),e.kcU(),e.TgZ(38,"p",24),e._uU(39,"My Notification"),e.qZA(),e.TgZ(40,"h5",24),e._uU(41),e.qZA(),e.TgZ(42,"ul",25),e.YNc(43,Kt,2,0,"li",26),e.YNc(44,jt,11,4,"li",27),e.qZA()()(),e.TgZ(45,"div",28)(46,"div",29)(47,"div",30)(48,"div",31)(49,"p",32),e._uU(50,"Used Keys By Date \xa0 "),e.TgZ(51,"span",33),e._uU(52),e.qZA()()(),e.TgZ(53,"div",34)(54,"div",35)(55,"div",36),e._UZ(56,"i",37),e.qZA(),e.TgZ(57,"input",38),e.NdJ("ngModelChange",function(o){return n.selectedRangeCalendarCenter=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"usedKeysByDate")}),e.qZA()()()(),e._UZ(58,"app-line-graph",39,40),e.qZA(),e.TgZ(60,"div",29)(61,"div",30)(62,"div",31)(63,"p",32),e._uU(64,"My Support Tickets by Status \xa0 "),e.TgZ(65,"span",33),e._uU(66),e.qZA()()(),e.TgZ(67,"div",34)(68,"div",35)(69,"div",36),e._UZ(70,"i",37),e.qZA(),e.TgZ(71,"input",41),e.NdJ("ngModelChange",function(o){return n.selectedRangeSupportTicketsByStatus=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"MySupportTicketsByStatus")}),e.qZA()()()(),e._UZ(72,"app-line-graph",42,43),e.qZA()(),e.TgZ(74,"div",28)(75,"div")(76,"div",30)(77,"div",31)(78,"p",32),e._uU(79,"My Tool Usage \xa0 "),e.TgZ(80,"span",33),e._uU(81),e.qZA()()(),e.TgZ(82,"div",34)(83,"div",35)(84,"div",36),e._UZ(85,"i",37),e.qZA(),e.TgZ(86,"input",41),e.NdJ("ngModelChange",function(o){return n.selectedRangeToolUsage=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"MyToolUsage")}),e.qZA()()()(),e._UZ(87,"app-line-graph",44,45),e.qZA(),e.TgZ(89,"div")(90,"div",30)(91,"div",31)(92,"p",32),e._uU(93,"My Files Submitted \xa0 "),e.TgZ(94,"span",33),e._uU(95),e.qZA()()(),e.TgZ(96,"div",34)(97,"div",35)(98,"div",36),e._UZ(99,"i",37),e.qZA(),e.TgZ(100,"input",38),e.NdJ("ngModelChange",function(o){return n.fileSubmitedMonthRange=o})("datesUpdated",function(o){return n.datesUpdatedRange(o,"MyFilesSubmitted")}),e.qZA()()()(),e._UZ(101,"app-line-graph",46,47),e.qZA(),e.TgZ(103,"div")(104,"p"),e._uU(105,"My Available Credits by Type Credit Balance"),e.qZA(),e._UZ(106,"app-line-graph",48,49),e.qZA()()()()),2&a&&(e.xp6(10),e.Q6J("routerLink",e.DdM(73,G))("queryParams",e.DdM(74,$t)),e.xp6(11),e.Oqu((null==n.getCountData?null:n.getCountData.credit_spent_current_month)||0),e.xp6(1),e.Q6J("routerLink",e.DdM(75,G))("queryParams",e.DdM(76,Gt)),e.xp6(11),e.Oqu((null==n.getCountData?null:n.getCountData.credit_purchased)||0),e.xp6(8),e.Oqu(n.notificationCount),e.xp6(2),e.Q6J("ngIf",0==(null==n.notificationList?null:n.notificationList.length)),e.xp6(1),e.Q6J("ngForOf",n.notificationList),e.xp6(8),e.Oqu(-1==n.usedKeysMonthRange?(null==n.UKBDdateRange?null:n.UKBDdateRange.startDate)+" - "+(null==n.UKBDdateRange?null:n.UKBDdateRange.endDate):1==n.usedKeysMonthRange?n.usedKeysMonthRange+" Year":n.usedKeysMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",n.selectedRangeCalendarCenter)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("ranges",n.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("colors",n.gradientColors)("stacked",!0),e.xp6(8),e.Oqu(-1==n.selectedRangeSupportTicketsByStatus?(null==n.mySTS?null:n.mySTS.startDate)+" - "+(null==n.mySTS?null:n.mySTS.endDate):n.currentMonthName),e.xp6(5),e.Q6J("ngModel",n.selectedRangeSupportTicketsByStatus)("drops",n.dropsDown)("ranges",n.ranges)("opens",n.opensLeft)("locale",n.locale)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("colors",n.gradientColors),e.xp6(9),e.Oqu(-1==n.selectedRangeToolUsage?(null==n.myTUDateRange?null:n.myTUDateRange.startDate)+" - "+(null==n.myTUDateRange?null:n.myTUDateRange.endDate):n.currentMonthName),e.xp6(5),e.Q6J("ngModel",n.selectedRangeToolUsage)("drops",n.dropsDown)("ranges",n.ranges)("opens",n.opensLeft)("locale",n.locale)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("distributed",!1),e.xp6(8),e.Oqu(-1==n.fileSubmitedMonthRange?(null==n.myFileSDateRange?null:n.myFileSDateRange.startDate)+" - "+(null==n.myFileSDateRange?null:n.myFileSDateRange.endDate):1==n.fileSubmitedMonthRange?n.fileSubmitedMonthRange+" Year":n.fileSubmitedMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",n.fileSubmitedMonthRange)("drops",n.dropsDown)("opens",n.opensLeft)("locale",n.locale)("ranges",n.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",n.isCustomDate)("isInvalidDate",n.isInvalidDate),e.xp6(1),e.Q6J("colors",e.DdM(77,Ht))("legend",!1),e.xp6(5),e.Q6J("colors",e.DdM(78,Wt))("distributed",!0))},dependencies:[C.sg,C.O5,f.rH,d.Fj,d.JJ,d.On,O.Bf,I.C],styles:[".dateRange[_ngcontent-%COMP%]{position:relative;width:40px;height:25px}.dateRange[_ngcontent-%COMP%]   .calIcon[_ngcontent-%COMP%]{position:absolute;right:.6rem;top:0;bottom:0}.dateRange[_ngcontent-%COMP%]   .dateRangeInput[_ngcontent-%COMP%]{box-shadow:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute;opacity:0;inset:0;cursor:pointer!important}.dash-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:var(--font-size-48)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:grid;grid-template-columns:5rem auto;width:100%;justify-content:start;background:#FFFFFF;border-radius:8px;padding:var(--font-size-20)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-48);height:var(--font-size-48);border-radius:50%;object-fit:cover;background:rgba(57,74,156,.15);padding:var(--font-size-10)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{align-self:center;grid-area:1/1/3/2}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:1rem;color:#474554;margin-bottom:5px!important}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;line-height:var(--font-size-18);color:#aca9bb}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{grid-area:2/2/3/3;text-align:left;margin-bottom:0;font-size:var(--font-size-24);font-family:verdana;color:#342f2e}.bottomChart[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-20);margin-top:var(--font-size-20)}.bottomChart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:49%;padding:var(--font-size-20) var(--font-size-20);background-color:#fff;border-radius:var(--font-size-10)}.bottomChart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-family:var(--ff-primary-bold);color:#474554}@media (max-width: 900px){.dash-card[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bottomChart[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:auto!important}}.profile[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-12);align-items:center}.profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;cursor:pointer}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){width:var(--font-size-40);height:var(--font-size-40);object-fit:cover;border-radius:50%}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#474554;margin-bottom:0}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-12);line-height:var(--font-size-17);color:#6d7886}@media screen and (max-width: 767px){.add-user-inne[_ngcontent-%COMP%]{padding:15px}.statics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .rstatics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.lefttop[_ngcontent-%COMP%]{display:none}h2[_ngcontent-%COMP%]{margin-bottom:15px!important}}.upper-chart-wrapper[_ngcontent-%COMP%]{display:flex}.mg-lft-20[_ngcontent-%COMP%]{margin-left:20px}  .right-inner{padding:1rem!important}"]})}return i})();function en(i,r){1&i&&(e.TgZ(0,"li",38),e._uU(1,"No Notification..."),e.qZA())}function tn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li",39)(1,"div",40),e._UZ(2,"img",41),e.TgZ(3,"div",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.redirectTo(s))}),e.TgZ(4,"div")(5,"h6",43),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA()()()()}if(2&i){const t=r.$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("src",null!=t.sender&&t.sender.image?null==t.sender?null:t.sender.image:"assets/images/icon/customer-profile.png",e.LSH),e.xp6(4),e.Oqu(t.title),e.xp6(2),e.hij("",t.message," "),e.xp6(2),e.Oqu(a.notification.formatDate(t.created_at))}}const H=function(){return["/credit/credit-transaction"]},nn=function(){return{type:"spentHistory"}},an=function(){return{type:"purchaseHistory"}};function sn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"section",2)(1,"ul",3)(2,"li",4)(3,"a",5),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4)(6,"a",6),e._uU(7,"Dashboard"),e.qZA()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"p"),e._uU(13,"Credits Spent History"),e.qZA(),e.TgZ(14,"h5"),e._uU(15),e.qZA()()(),e.TgZ(16,"div",9),e._UZ(17,"img",11),e.TgZ(18,"div",10)(19,"p"),e._uU(20,"Credit Purchased"),e.qZA(),e.TgZ(21,"h5"),e._uU(22),e.qZA()()(),e.TgZ(23,"div",9),e._UZ(24,"img",12),e.TgZ(25,"div")(26,"p",13),e._uU(27,"My Notification"),e.qZA(),e.TgZ(28,"h5",13),e._uU(29),e.qZA(),e.TgZ(30,"ul",14),e.YNc(31,en,2,0,"li",15),e.YNc(32,tn,11,4,"li",16),e.qZA()()()(),e.TgZ(33,"div",17)(34,"div",18)(35,"div",19),e._UZ(36,"div",20),e.TgZ(37,"div",21)(38,"p",22),e._uU(39,"My Support Tickets by Status \xa0 "),e.TgZ(40,"span",23),e._uU(41),e.qZA()()(),e.TgZ(42,"div",24)(43,"div",25)(44,"div",26),e._UZ(45,"i",27),e.qZA(),e.TgZ(46,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRangeCalendarCenter=n)})("datesUpdated",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.datesUpdatedRange(n,"mySupportTicketsByStatus"))}),e.qZA()()()(),e.TgZ(47,"canvas",29),e._uU(48),e.qZA()()(),e.TgZ(49,"div",30)(50,"div",31)(51,"div",19),e._UZ(52,"div",32),e.TgZ(53,"div",33)(54,"p",22),e._uU(55,"My Files Submitted \xa0 "),e.TgZ(56,"span",23),e._uU(57),e.qZA()()(),e.TgZ(58,"div",24)(59,"div",25)(60,"div",26),e._UZ(61,"i",27),e.qZA(),e.TgZ(62,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRangeFileSubmitted=n)})("datesUpdated",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.datesUpdatedRange(n,"myFilesSubmitted"))}),e.qZA()()()(),e.TgZ(63,"canvas",35),e._uU(64),e.qZA()(),e.TgZ(65,"div",36)(66,"p"),e._uU(67,"My Available Credits by Type Credit Balance"),e.qZA(),e.TgZ(68,"canvas",37),e._uU(69),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(11),e.Q6J("routerLink",e.DdM(39,H))("queryParams",e.DdM(40,nn)),e.xp6(4),e.Oqu((null==t.getCountData?null:t.getCountData.credit_spent_current_month)||0),e.xp6(3),e.Q6J("routerLink",e.DdM(41,H))("queryParams",e.DdM(42,an)),e.xp6(4),e.Oqu((null==t.getCountData?null:t.getCountData.credit_purchased)||0),e.xp6(7),e.Oqu(t.notificationCount||0),e.xp6(2),e.Q6J("ngIf",0==(null==t.notificationList?null:t.notificationList.length)),e.xp6(1),e.Q6J("ngForOf",t.notificationList),e.xp6(9),e.Oqu(-1==t.selectedRangeCalendarCenter?(null==t.mySTBSdateRange?null:t.mySTBSdateRange.startDate)+" - "+(null==t.mySTBSdateRange?null:t.mySTBSdateRange.endDate):t.currentMonthName),e.xp6(5),e.Q6J("ngModel",t.selectedRangeCalendarCenter)("drops",t.dropsDown)("opens",t.opensLeft)("locale",t.locale)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",t.isCustomDate)("isInvalidDate",t.isInvalidDate),e.xp6(2),e.Oqu(t.chart),e.xp6(9),e.Oqu(-1==t.fileSubmitedMonthRange?(null==t.myFSdateRange?null:t.myFSdateRange.startDate)+" - "+(null==t.myFSdateRange?null:t.myFSdateRange.endDate):1==t.fileSubmitedMonthRange?t.fileSubmitedMonthRange+" Year":t.fileSubmitedMonthRange+" Month"),e.xp6(5),e.Q6J("ngModel",t.selectedRangeFileSubmitted)("drops",t.dropsDown)("opens",t.opensLeft)("locale",t.locale)("ranges",t.ranges)("showCustomRangeLabel",!0)("showCancel",!0)("linkedCalendars",!0)("alwaysShowCalendars",!1)("showRangeLabelOnInput",!1)("keepCalendarOpeningWithRange",!1)("isCustomDate",t.isCustomDate)("isInvalidDate",t.isInvalidDate),e.xp6(2),e.Oqu(t.chart1),e.xp6(5),e.Oqu(t.chart2)}}function on(i,r){if(1&i&&(e.ynx(0),e._UZ(1,"app-business-dashboard",44),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("unseenNotifications",t.notificationCount)}}function rn(i,r){if(1&i&&(e.ynx(0),e._UZ(1,"app-reseller-dashboard",44),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("unseenNotifications",t.notificationCount)}}function ln(i,r){if(1&i&&(e.ynx(0),e._UZ(1,"app-sub-dealer-dashboard",44),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("unseenNotifications",t.notificationCount)}}w.kL.register(...w.zX);let dn=(()=>{class i{constructor(t,a,n,s,o,m,l){this.crud=t,this.router=a,this._titleservice=n,this.ticketService=s,this.individualService=o,this.notification=m,this.xorEncryption=l,this.fileT="submission",this.fileR="submission",this.getCreditChartData=[],this.customerRoles={},this.userdata={labels:["Active Users","Users"],datasets:[{data:["467","100"],backgroundColor:["#FFBC55","#269B87"],borderWidth:0,hoverBackgroundColor:["#FFBC55","#269B87"]}]},this.isdashboardChart=!0,this.userChart={labels:["Jan","Feb","March","April","May","June"],datasets:[{label:"Open",data:["467","576","572","79","546","90"],backgroundColor:"#3DCAB1"},{label:"Close",data:["542","542","536","327","340","560"],backgroundColor:"#FE7375"},{label:"In progress",data:["542","542","536","327","50","100"],backgroundColor:"#FFA500"},{label:"On hold",data:["542","542","536","327","70","150","467","576","572","79","546","90"],backgroundColor:"#7B8196"}]},this.customertype="bar",this.dropsDown="down",this.dropsUp="up",this.opensRight="right",this.opensCenter="center",this.opensLeft="left",this.invalidDates=[],this.ranges={"3 Month":[p()().subtract(89,"days").startOf("day"),p()().endOf("day")],"6 Month":[p()().subtract(179,"days").startOf("day"),p()().endOf("day")],"1 Year":[p()().subtract(364,"days").startOf("day"),p()().endOf("day")]},this.localeTime={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"DD.MM.YYYY HH:mm:ss",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To"},this.locale={firstDay:1,startDate:p()().startOf("day"),endDate:p()().endOf("day"),format:"YYYY-MM-DD",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",displayFormat:"YYYY-MM-DD"},this.tooltips=[{date:p()(),text:"Today is just unselectable"},{date:p()().add(2,"days"),text:"Yeeeees!!!"}],this.canvasP=document.getElementById("ticketByStatus"),this.monthList=D.DL,this.fileSubmitedMonth=1,this.fileSubmitedMonthRange=6,this.page=1,this.pageSize=10,this.yearCount=0,this.year=0,this.isInvalidDate=u=>this.invalidDates.some(h=>h.isSame(u,"day")),this.isCustomDate=u=>(0===u.month()||6===u.month())&&"mycustomdate",this.isTooltipDate=u=>{const h=this.tooltips.find(_=>_.date.isSame(u,"day"));return!!h&&h.text},this.dateRange={startDate:"",endDate:""},this.mySTBSdateRange={startDate:"",endDate:""},this.myFSdateRange={startDate:"",endDate:""},this._titleservice.setTitle("Dashboard")}ngOnInit(){const a=new Date,n=a.getMonth()+1;this.currentMonthName=["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()],this.year=a.getFullYear(),this.yearCount=this.year-2022,this.statusMonth=n,this.statusYear=this.year,this.fileSubmitedYear=this.year,this.notification.onMessageUser.subscribe(o=>{o&&"ticket_create_notification_customer"===o.type&&(this.unseenNotiCount=1,this.notificationList.unshift({message:o.message,type:o.type,id:o.ids}))});const s=localStorage.getItem("userdetails");this.customerRoles=JSON.parse(s),"INDIVIDUAL_CUSTOMER"===this.customerRoles.role&&this.getNotification(),this.individualService.notificationCount$.subscribe(o=>{this.notificationCount=o}),"RESELLER"!==this.customerRoles.role&&"BUSINESS_CUSTOMER"!=this.customerRoles.role&&(this.getCardsCount(),this.getMyFileSubmittedData("range"),this.getMySupportsTicket())}datesUpdatedRange(t,a){console.log("range",t),this.dateRange.startDate=t.startDate.$y+"-"+(t.startDate.$M+1)+"-"+t.startDate.$D,this.dateRange.endDate=t.endDate.$y+"-"+(t.endDate.$M+1)+"-"+t.endDate.$D,t.label&&("mySupportTicketsByStatus"==a?(this.selectedRangeCalendarCenter=-1,this.mySTBSdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.mySTBSdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMySupportsTicket(!0,this.dateRange)):"myFilesSubmitted"==a&&(this.fileSubmitedMonthRange="3 Month"==t.label?3:"6 Month"==t.label?6:"1 Year"==t.label?1:-1,this.myFSdateRange.startDate=t.startDate.$y+"/"+(t.startDate.$M+1)+"/"+t.startDate.$D,this.myFSdateRange.endDate=t.endDate.$y+"/"+(t.endDate.$M+1)+"/"+t.endDate.$D,this.getMyFileSubmittedData("range",!0,this.dateRange)))}datesUpdatedSingle(t){console.log("single",t)}datesUpdatedInline(t){console.log("inline",t)}counter(t){return new Array(t)}getNotification(){this.crud.getRequest(`${b.t.getNotification}${this.page}&page_size=${this.pageSize}`).then(t=>{t&&(this.notificationList=t.data.results,this.unseenNotiCount=t.data.un_seen_message_count)})}redirectTo(t){"file_submission_completed"==t.type?this.router.navigateByUrl("/file-service/file-services"):"ticket_create_notification_customer"==t.type?this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.id)}/${this.xorEncryption.xorEncryptDecrypt(t.id.slice(2,5))}`):t.ticket&&this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(t.ticket.ids)}/${this.xorEncryption.xorEncryptDecrypt(t.ticket.id)}`)}readNotification(){this.crud.postRequest(b.t.readNotification,{}).then(t=>{t&&(this.unseenNotiCount=0)})}getCreditChart(){const t=[{label:"File Key Credits",color:"#89CFF0"},{label:"Function Credits",color:"#fff060"},{label:"EVC Credits",color:"#FF5733"}],n=this.getCreditChartData.reduce((s,o)=>(s.push(o?.file_key_credit,o?.function_credit,o?.evc_credit),s),[]);this.chart2=new w.kL("creditBalanceChart",{type:"bar",data:{labels:t.map(s=>s?.label),datasets:[{label:"",data:n,backgroundColor:["#89CFF0","#fff060","#FF5733"],borderWidth:1,borderRadius:3}]},options:{plugins:{legend:{display:!0,labels:{generateLabels:s=>{const o=s?.data;return o?.datasets?.length>0?t.map((l,u)=>({text:l?.label,fillStyle:l?.color,strokeStyle:l?.color,hidden:!1})):[]}},title:{display:!0}}},scales:{x:{title:{display:!0,text:"Number of credit available"}},y:{title:{display:!0,text:"Credit types"}}}}})}getMyFileSubmittedData(t,a,n){this.crud.get(`${D.ns.getFileSubmittedIndividualFilter}${"month"==t?`filter_by=month&month_number=${this.fileSubmitedMonth}&year=${this.year}`:-1==this.fileSubmitedMonthRange?`filter_by=date&start_date=${n?.startDate}&end_date=${n?.endDate}`:`filter_by=range&range=${this.fileSubmitedMonthRange}`}`).subscribe(o=>{if(o){const m=o.data,l=m.map(h=>h.month),u=m.map(h=>h.count);1==a&&this.chart1.destroy(),this.chart1=new w.kL("myFilesSubmitted",{type:"bar",data:{labels:l,datasets:[{label:"",data:u,backgroundColor:"#90EE90",borderWidth:1,borderRadius:3}]},options:{scales:{x:{title:{display:!0,text:"Credit usage in month"}},y:{title:{display:!0,text:"Numbers of credit used"}}},plugins:{legend:{display:!1,labels:{},title:{display:!0,text:"My Files Submitted"}}}}})}})}generateColors(t){const a=[];for(let n=0;n<t;n++)a.push("hsla("+137.5*n%360+", 70%, 50%, 1)");return a}getMySupportsTicket(t,a){this.crud.get(a?`dashboard/individual/file_requests/status?filter_type=date&from_date=${a.startDate}&to_date=${a.endDate}`:`${D.ns.getSupportTicketIndividualfilter}${this.statusMonth}&year=${this.year}&filter_type=month`).subscribe(s=>{if(s&&s.data){let m=Object.keys(s.data).map(u=>u.replace(/_/g," "));m=m.map(u=>u.split(" ").map(h=>h[0].toUpperCase()+h.slice(1)).join(" "));for(let u=0;u<m?.length;u++)"Inprogress"==m[u]&&(m[u]="In Progress");const l=Object.values(s.data);t&&this.chart.destroy(),this.chart=new w.kL("ticketByStatus",{type:"bar",data:{labels:m,datasets:[{label:"",data:l,backgroundColor:D.vK,borderWidth:1,borderRadius:3}]},options:{scales:{x:{ticks:{stepSize:1,precision:0},title:{display:!0,text:"Ticket status"}},y:{ticks:{stepSize:1,precision:0},title:{display:!0,text:"Number of tickets"}}},plugins:{legend:{display:!0,labels:{generateLabels:u=>{const h=u?.data;return h?.datasets?.length>0?m?.map((P,y)=>({text:P,hidden:!1})):[]}},title:{display:!0}}}}})}})}getCardsCount(){this.individualService.getCounts().subscribe(t=>{t&&t.data&&(this.getCountData=t?.data,this.getCreditChartData=t?.data?.available_credit_balance,this.getCreditChart())})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(S.I),e.Y36(f.F0),e.Y36(M.Dx),e.Y36(_t.w),e.Y36(ft),e.Y36(x.T),e.Y36(q.G))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],viewQuery:function(a,n){if(1&a&&e.Gf(O.Bf,5),2&a){let s;e.iGM(s=e.CRH())&&(n.pickerDirective=s.first)}},decls:4,vars:4,consts:[["class","add-user",4,"ngIf"],[4,"ngIf"],[1,"add-user"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/customer"],[1,"add-user-inne"],[1,"dash-card"],[1,"card-inner"],[3,"routerLink","queryParams"],["src","../../../assets/images/icon/credit-p.png"],["src","../../../assets/images/icon/notification.png"],["data-bs-toggle","dropdown",1,"pointer"],[1,"dropdown-menu",2,"min-width","350px","width","450px","height","300px","overflow-y","scroll"],["style","text-align: center;",4,"ngIf"],["style","padding-left: 5px;",4,"ngFor","ngForOf"],[1,"upper-chart-wrapper"],[1,"barchrt","w-100"],[1,"d-flex","row","align-items-center","mb-1"],[1,"col-3"],[1,"col-6"],[2,"margin-bottom","0px"],[1,"chartDateSize"],[1,"col-3","d-flex","justify-content-end","align-items-center"],[1,"dateRange"],[1,"calIcon"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","opens","locale","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],["id","ticketByStatus","height","150"],[1,"bottomChart"],[1,"leftSide"],[1,"col-2"],[1,"col-7"],["type","text","id","rangeCalendarCenter","ngxDaterangepickerBootstrap","","aria-describedby","rangeCalendarCenterDesc",1,"form-control","dateRangeInput",3,"ngModel","drops","opens","locale","ranges","showCustomRangeLabel","showCancel","linkedCalendars","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","isCustomDate","isInvalidDate","ngModelChange","datesUpdated"],["id","myFilesSubmitted","height","200"],[1,"rightSide"],["id","creditBalanceChart","height","200"],[2,"text-align","center"],[2,"padding-left","5px"],[1,"profile","mb-2"],["alt","profile",3,"src"],[1,"notification-inner",3,"click"],[1,"mb-0"],[3,"unseenNotifications"]],template:function(a,n){1&a&&(e.YNc(0,sn,70,43,"section",0),e.YNc(1,on,2,1,"ng-container",1),e.YNc(2,rn,2,1,"ng-container",1),e.YNc(3,ln,2,1,"ng-container",1)),2&a&&(e.Q6J("ngIf","INDIVIDUAL_CUSTOMER"===n.customerRoles.role),e.xp6(1),e.Q6J("ngIf","BUSINESS_CUSTOMER"===n.customerRoles.role),e.xp6(1),e.Q6J("ngIf","RESELLER"===n.customerRoles.role),e.xp6(1),e.Q6J("ngIf","DEALER"===n.customerRoles.role))},dependencies:[C.sg,C.O5,f.rH,d.Fj,d.JJ,d.On,O.Bf,K,Bt,Xt],styles:[".add-user-inne[_ngcontent-%COMP%]{padding:0px var(--font-size-20)}.add-user-inne[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321}.dateRange[_ngcontent-%COMP%]{position:relative;width:40px;height:25px}.dateRange[_ngcontent-%COMP%]   .calIcon[_ngcontent-%COMP%]{position:absolute;inset:0}.dateRange[_ngcontent-%COMP%]   .dateRangeInput[_ngcontent-%COMP%]{box-shadow:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute;opacity:0;inset:0;cursor:pointer!important}.dash-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:var(--font-size-48)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-32);align-items:center;background:#FFFFFF;border-radius:8px;padding:var(--font-size-20);justify-content:center}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-48);height:var(--font-size-48);border-radius:50%;object-fit:cover;background:rgba(57,74,156,.15);padding:var(--font-size-10)}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-14);line-height:var(--font-size-20);color:#474554;margin-bottom:5px!important}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-14);line-height:var(--font-size-18);color:#aca9bb}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-24);font-family:verdana-bold;line-height:var(--font-size-30);text-align:center;color:#394a9c}.profile[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-12);align-items:center}.profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;cursor:pointer}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){width:var(--font-size-40);height:var(--font-size-40);object-fit:cover;border-radius:50%}.profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#474554;margin-bottom:0}.profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:var(--font-size-12);line-height:var(--font-size-17);color:#6d7886}.barchrt[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000026;margin-top:var(--font-size-20);padding:var(--font-size-20) var(--font-size-20);background-color:#fff;border-radius:var(--font-size-10);width:50%}.bottomChart[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-20);margin-top:var(--font-size-20)}.bottomChart[_ngcontent-%COMP%]   .leftSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%]{width:49%;box-shadow:0 0 8px #00000026;padding:var(--font-size-20) var(--font-size-20);background-color:#fff;border-radius:var(--font-size-10)}@media screen and (max-width: 991px){.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}p[_ngcontent-%COMP%]{font-size:14px}.upper-chart-wrapper[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]{flex-wrap:wrap}.upper-chart-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.upper-chart-wrapper[_ngcontent-%COMP%] > div.leftSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%] > div.leftSide[_ngcontent-%COMP%]{width:100%}.upper-chart-wrapper[_ngcontent-%COMP%] > div.rightSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%] > div.rightSide[_ngcontent-%COMP%]{width:100%}.mg-lft-20[_ngcontent-%COMP%]{margin-left:0!important}.barchrt[_ngcontent-%COMP%]{margin-top:20px}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;padding:5px}.dash-card[_ngcontent-%COMP%]{flex-wrap:wrap;gap:14px}}@media screen and (max-width: 767px){.barchrt[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]   .leftSide[_ngcontent-%COMP%], .bottomChart[_ngcontent-%COMP%]   .rightSide[_ngcontent-%COMP%]{padding:12px}.add-user-inne[_ngcontent-%COMP%]{padding:0}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px!important}.statics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .rstatics[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.lefttop[_ngcontent-%COMP%]{display:none}h2[_ngcontent-%COMP%]{margin-bottom:15px!important}}.upper-chart-wrapper[_ngcontent-%COMP%]{display:flex}.mg-lft-20[_ngcontent-%COMP%]{margin-left:20px}@media screen and (max-width: 580px){.dash-card[_ngcontent-%COMP%]{flex-wrap:wrap}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{padding:12px;justify-content:center}.dash-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}}"]})}return i})();function cn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=r.$implicit,a=e.oxw();e.xp6(2),e.Oqu(null==t?null:t.file_request_id),e.xp6(2),e.Oqu(a.notification.formatDate(null==t?null:t.created_at)),e.xp6(2),e.Oqu(t.credit),e.xp6(2),e.Oqu(1==t.credit_type?"File key credit":3==t.credit_type?"Fuction key Credit":"EVC Credit")}}let un=(()=>{class i{constructor(t,a,n,s,o){this.crud=t,this.toastr=a,this._titleservice=n,this.notification=s,this.ar=o,this.type=this.ar.queryParams,this._titleservice.setTitle("Transactions"),this.uuid=this.type._value.uuid}ngOnInit(){this.usersdetail=JSON.parse(localStorage.getItem("userdetails")||""),this.getSpentHistoryByDashboard()}getSpentHistoryByDashboard(){this.crud.getRequest(`dashboard/reseller/dealer/spent?uuid=${this.uuid}`).then(t=>{t&&(this.spendhistory=t.data)})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(S.I),e.Y36(Z._W),e.Y36(M.Dx),e.Y36(x.T),e.Y36(f.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-sub-dealer-credit"]],decls:26,vars:1,consts:[[1,"admin-profile"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/customer"],["routerLink","/customer/credit/buy-credit","routerLinkActive","active"],[1,"profile-inner"],[1,"tactive"],[1,"responsive-tbl"],[4,"ngFor","ngForOf"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",4),e._uU(7,"My credit "),e.qZA()()(),e.TgZ(8,"div",5)(9,"ul")(10,"li",6)(11,"a"),e._uU(12,"Credit Spent History"),e.qZA()()(),e.TgZ(13,"div")(14,"div",7)(15,"table")(16,"thead")(17,"th"),e._uU(18,"Request Id"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Date"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Credit"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Credit Type"),e.qZA()(),e.YNc(25,cn,9,4,"tr",8),e.qZA()()()()()),2&a&&(e.xp6(25),e.Q6J("ngForOf",n.spendhistory))},dependencies:[C.sg,f.rH,f.Od],styles:[".responsive-tbl[_ngcontent-%COMP%]{overflow-x:auto;margin-top:var(--font-size-16);height:auto!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;max-width:100%}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #5367DE;border-radius:2px;display:flex;align-items:center;justify-content:center;text-decoration:none;color:#5367de}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--font-size-12);font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-14);line-height:var(--font-size-17);color:#6f7784;text-align:center}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   td[_ngcontent-%COMP%]{background:rgba(0,32,96,.05);border-bottom:1px solid #B3B3B3;border-top:1px solid #B3B3B3;border-radius:4px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:rgba(0,32,96,.15);border-radius:4px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:var(--font-size-10);text-align:center;font-size:var(--font-size-14)}.profile-inner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:var(--font-size-16)}@media screen and (max-width: 991px){.responsive-tbl[_ngcontent-%COMP%]{overflow-x:auto;margin-top:16px;height:auto!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;max-width:100%}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:20px;height:20px;padding:5px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:12px!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;font-size:12px;line-height:normal;white-space:nowrap}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;text-align:center;font-size:12px;white-space:nowrap}}@media screen and (max-width: 520px){.profile-inner[_ngcontent-%COMP%]{padding:12px}}@media screen and (max-width: 420px){.profile-inner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px!important}.breadcrumb[_ngcontent-%COMP%]{padding:8px!important}}@media screen and (max-width: 360px){.profile-inner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px!important}}"]})}return i})();var k=c(5594),mn=c(6518);let U=(()=>{class i{constructor(t,a){this.router=t,this.authservice=a}canActivateChild(){if(this.authservice.loggedIn()){let t=this.authservice.getLoggedInDetail();return 3==t.user_type||4==t.user_type||6==t.user_type||7==t.user_type||(this.router.navigate(["/landing"]),!1)}return this.router.navigate(["/landing"]),!1}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(f.F0),e.LFG(mn.e))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const pn=[{path:"",component:T.y},{path:"dashboard",canActivate:[k.s],component:dn},{path:"reseller-dashboard",canActivate:[k.s],component:K},{path:"my-profile",canActivate:[k.s],component:ht},{path:"subDealer-credit-spent",canActivate:[k.s],component:un},{path:"credit",canActivateChild:[U],loadChildren:()=>Promise.all([c.e(335),c.e(379)]).then(c.bind(c,1452)).then(i=>i.MyCreditModule)},{path:"file-service",canActivateChild:[U],loadChildren:()=>Promise.all([c.e(54),c.e(592),c.e(602)]).then(c.bind(c,2602)).then(i=>i.MyFileServiceModule)},{path:"support",canActivateChild:[U],loadChildren:()=>Promise.all([c.e(633),c.e(54),c.e(592),c.e(39)]).then(c.bind(c,2039)).then(i=>i.SupportModule)},{path:"knowledgebase",canActivateChild:[U],loadChildren:()=>c.e(753).then(c.bind(c,5753)).then(i=>i.KnowledgeBaseModule)},{path:"evc",canActivateChild:[U],loadChildren:()=>c.e(310).then(c.bind(c,1310)).then(i=>i.EvcModule)},{path:"sub-dealer",canActivateChild:[U],loadChildren:()=>Promise.all([c.e(54),c.e(800),c.e(249)]).then(c.bind(c,6249)).then(i=>i.SubDealerModule)},{path:"report-log",canActivateChild:[U],loadChildren:()=>Promise.all([c.e(592),c.e(233)]).then(c.bind(c,5233)).then(i=>i.ReportLogModule)}];let hn=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[f.Bz.forChild(pn),f.Bz]})}return i})();var gn=c(8022),_n=c(2302),fn=c(3311),Cn=c(4466);let bn=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[C.ez,hn,d.u5,d.UX,L.g,gn.m,O.z8.forRoot(),_n.JX,fn.a,Cn.m]})}return i})()},2595:(N,A,c)=>{c.d(A,{w:()=>d});var C=c(2340),f=c(2560),T=c(8987);let d=(()=>{class v{constructor(g){this._http=g,this.baseUrl=C.N.baseUrl}getTicket(g,e=""){return this._http.get(this.baseUrl+`/api/v1/customer/ticket/${e}`,{params:g})}getTicketOnFilter(g){return this._http.get(this.baseUrl+"/api/v1/admin/ticket/filter_ticket",{params:g})}createTicket(g){return this._http.post(this.baseUrl+"/api/v1/customer/ticket/",g)}getTicketForFileRequest(g){return this._http.get(`${this.baseUrl}/api/v1/file/service/request/ticket/${g}`)}updateTicketFromCustomer(g,e){return this._http.put(`${this.baseUrl}/api/v1/customer/ticket/update/${e}/`,g)}updateTicket(g,e){return this._http.put(`${this.baseUrl}/api/v1/customer/ticket/${e}/`,g)}deleteTicket(g){return this._http.delete(`${this.baseUrl}/api/v1/customer/ticket/${g}/`)}getAllTicketCategory(){return this._http.get(this.baseUrl+"/api/v1/admin/ticket-category/")}getConversation(g){return this._http.get(`${this.baseUrl}/api/v1/customer/conversation/${g}?page=1&page_size=500`)}getAttachments(g){return this._http.get(`${this.baseUrl}/api/v1/customer/conversation/attachment/${g}`)}saveAttachments(g,e){return this._http.post(`${this.baseUrl}/api/v1/customer/conversation/attachment/${g}`,e)}static#e=this.\u0275fac=function(e){return new(e||v)(f.LFG(T.eN))};static#t=this.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},1670:(N,A,c)=>{function C(T,d,v,b,g,e,F){try{var Z=T[e](F),M=Z.value}catch(x){return void v(x)}Z.done?d(M):Promise.resolve(M).then(b,g)}function f(T){return function(){var d=this,v=arguments;return new Promise(function(b,g){var e=T.apply(d,v);function F(M){C(e,b,g,F,Z,"next",M)}function Z(M){C(e,b,g,F,Z,"throw",M)}F(void 0)})}}c.d(A,{Z:()=>f})}}]);
//# sourceMappingURL=213.b15199943783f1ff.js.map