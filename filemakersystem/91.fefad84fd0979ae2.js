"use strict";(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[91],{6091:(C,c,a)=>{a.r(c),a.d(c,{ResetPasswordModule:()=>Z});var u=a(4666),t=a(2508),d=a(2607),s=a(2560),w=a(6518),m=a(5465),f=a(4817),h=a(4497);function g(e,p){1&e&&(s.TgZ(0,"small",16),s._uU(1," Password must contain at least one lowercase letter, uppercase letter, number and special character. "),s.qZA())}function P(e,p){1&e&&(s.TgZ(0,"small",16),s._uU(1," Please enter your Password. "),s.qZA())}function v(e,p){1&e&&(s.TgZ(0,"small",16),s._uU(1," Confirm password does not match!. "),s.qZA())}function T(e,p){1&e&&(s.TgZ(0,"small",16),s._uU(1," Please confirm your password. "),s.qZA())}const y=[{path:"",component:(()=>{class e{constructor(n,o,r,l,i,F){this.fb=n,this.authservice=o,this.router=r,this.route=l,this.toastr=i,this._titleservice=F,this.textType="password",this.textType2="password",this._titleservice.setTitle("Reset Password"),this.resetPasswordForm=this.fb.group({password:["",[t.kI.required,t.kI.pattern(/(?=^.{8,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]],confirm_password:["",[t.kI.required]]},{validators:this.MustMatch("password","confirm_password")})}get f(){return this.resetPasswordForm.controls}ngOnInit(){this.email=(0,d.Z)(this.route.snapshot.paramMap.get("email"))}resetPasswordFormSubmit(){if(this.resetPasswordForm.valid){this.resetPasswordForm.patchValue({email:this.email});let n={email:this.email,password:(0,d.y)(this.resetPasswordForm.value.password),confirm_password:(0,d.y)(this.resetPasswordForm.value.confirm_password)};this.authservice.resetPassword(n).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),setTimeout(()=>{this.router.navigate(["/auth/login"])},1e3)},o=>{this.toastr.error(o.error.detail,"",{timeOut:2e3})})}else this.markAllControlsAsTouched(this.resetPasswordForm)}markAllControlsAsTouched(n){Object.values(n.controls).forEach(o=>{o.markAsTouched(),o instanceof t.cw&&this.markAllControlsAsTouched(o)})}MustMatch(n,o){return r=>{const i=r.controls[o];i.errors&&!i.errors.MustMatch||i.setErrors(r.controls[n].value!==i.value?{MustMatch:!0}:null)}}static#s=this.\u0275fac=function(o){return new(o||e)(s.Y36(t.qu),s.Y36(w.e),s.Y36(m.F0),s.Y36(m.gz),s.Y36(f._W),s.Y36(h.Dx))};static#r=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-reset-password"]],decls:29,vars:17,consts:[[1,"container-fluid"],[1,"row","inner-box"],[1,"col-sm-5","p-0","mob-left"],["src","assets/images/reset-password.png","alt","reset passwrd",1,"bnrimg"],[1,"col-sm-7","mob-right"],[1,"login-box"],[1,"login-box-inner"],[3,"formGroup","ngSubmit"],["for","password",1,"form-label"],["formControlName","password","placeholder","Password",1,"form-control",3,"type"],[1,"eyeIcon",3,"src","click"],["class","text-danger",4,"ngIf"],["for","cpassword",1,"form-label"],["formControlName","confirm_password","placeholder","Confirm Password",1,"form-control",3,"type"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-block","lbtn"],[1,"text-danger"]],template:function(o,r){1&o&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),s._uU(8,"Reset Password"),s.qZA(),s.TgZ(9,"p"),s._uU(10,"Change your password"),s.qZA(),s.TgZ(11,"form",7),s.NdJ("ngSubmit",function(){return r.resetPasswordFormSubmit()}),s.TgZ(12,"div")(13,"label",8),s._uU(14,"New Password"),s.qZA(),s._UZ(15,"input",9),s.TgZ(16,"img",10),s.NdJ("click",function(){return r.textType="password"==r.textType?"text":"password"}),s.qZA(),s.YNc(17,g,2,0,"small",11),s.YNc(18,P,2,0,"small",11),s.qZA(),s.TgZ(19,"div")(20,"label",12),s._uU(21,"Confirm Password"),s.qZA(),s._UZ(22,"input",13),s.TgZ(23,"img",10),s.NdJ("click",function(){return r.textType2="password"==r.textType2?"text":"password"}),s.qZA(),s.YNc(24,v,2,0,"small",11),s.YNc(25,T,2,0,"small",11),s.qZA(),s.TgZ(26,"div",14)(27,"button",15),s._uU(28,"Done"),s.qZA()()()()()()()()),2&o&&(s.xp6(11),s.Q6J("formGroup",r.resetPasswordForm),s.xp6(4),s.ekj("is-invalid",r.resetPasswordForm.controls.password.invalid&&r.resetPasswordForm.controls.password.touched)("is-valid",!r.resetPasswordForm.controls.password.hasError("required")&&r.resetPasswordForm.controls.password.valid&&r.resetPasswordForm.controls.password.touched),s.Q6J("type",r.textType),s.xp6(1),s.Q6J("src","password"==r.textType?"assets/images/eye.svg":"assets/images/eye-off.svg",s.LSH),s.xp6(1),s.Q6J("ngIf",r.resetPasswordForm.hasError("pattern","password")),s.xp6(1),s.Q6J("ngIf",r.resetPasswordForm.controls.password.touched&&r.resetPasswordForm.controls.password.hasError("required")),s.xp6(4),s.ekj("is-invalid",r.resetPasswordForm.controls.confirm_password.invalid&&r.resetPasswordForm.controls.confirm_password.touched)("is-valid",!r.resetPasswordForm.controls.confirm_password.hasError("required")&&r.resetPasswordForm.controls.confirm_password.valid&&r.resetPasswordForm.controls.confirm_password.touched),s.Q6J("type",r.textType2),s.xp6(1),s.Q6J("src","password"==r.textType2?"assets/images/eye.svg":"assets/images/eye-off.svg",s.LSH),s.xp6(1),s.Q6J("ngIf",null==r.f.confirm_password.errors?null:r.f.confirm_password.errors.MustMatch),s.xp6(1),s.Q6J("ngIf",r.resetPasswordForm.controls.confirm_password.touched&&r.resetPasswordForm.controls.confirm_password.hasError("required")))},dependencies:[u.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:[".align-right[_ngcontent-%COMP%]{text-align:right}.eyeIcon[_ngcontent-%COMP%]{position:absolute;top:var(--font-size-54);right:var(--font-size-20);cursor:pointer;color:#000!important;width:var(--font-size-20)}@media screen and (max-width: 991px){.eyeIcon[_ngcontent-%COMP%]{position:absolute;top:47px;right:20px}}"]})}return e})()}];let Z=(()=>{class e{static#s=this.\u0275fac=function(o){return new(o||e)};static#r=this.\u0275mod=s.oAB({type:e});static#o=this.\u0275inj=s.cJS({imports:[u.ez,t.UX,m.Bz.forChild(y)]})}return e})()}}]);
//# sourceMappingURL=91.fefad84fd0979ae2.js.map