"use strict";(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[407],{6407:(x,c,s)=>{s.r(c),s.d(c,{OtpModule:()=>O});var h=s(4666),n=s(2508),f=s(2607),t=s(2560),g=s(6518),a=s(5465),b=s(4817),y=s(4497);function T(i,Z){1&i&&(t.TgZ(0,"p",25),t._uU(1," Please enter enter 4 digit OTP. "),t.qZA())}const v=[{path:"",component:(()=>{class i{constructor(e,o,r,u,m,p){this.fb=e,this.authservice=o,this.router=r,this.route=u,this.toastr=m,this._titleservice=p,this._titleservice.setTitle("Enter OTP"),this.otpForm=this.fb.group({otp0:["",[n.kI.required]],otp1:["",[n.kI.required]],otp2:["",[n.kI.required]],otp3:["",[n.kI.required]]})}ngOnInit(){this.email=(0,f.Z)(this.route.snapshot.paramMap.get("email"))}otpFormSubmit(){this.authservice.otpVerify({email:this.email,otp:this.otpForm.value.otp0+this.otpForm.value.otp1+this.otpForm.value.otp2+this.otpForm.value.otp3}).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),this.router.navigate(["/auth/reset-password",(0,f.y)(this.email)])},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}resendOtp(){this.authservice.forgotPassword({email:this.email}).subscribe(e=>{this.toastr.success(e.message,"",{timeOut:4e3})},e=>{this.toastr.error(e.error.detail,"",{timeOut:4e3})})}moveToNext(e,o,r){"Backspace"!==e.code&&"CapsLock"!==e.code&&"ShiftLeft"!==e.code&&"ControlLeft"!==e.code&&"Delete"!==e.code&&null!==r&&r.focus(),"Backspace"===e.code&&null!==o&&o.focus()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(n.qu),t.Y36(g.e),t.Y36(a.F0),t.Y36(a.gz),t.Y36(b._W),t.Y36(y.Dx))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-otp"]],decls:31,vars:3,consts:[[1,"container-fluid"],[1,"row","inner-box"],[1,"col-sm-5","p-0","mob-left"],["src","assets/images/enter-otp.webp","alt","otp",1,"bnrimg"],[1,"col-sm-7","mob-right"],[1,"login-box"],[1,"login-box-inner"],[2,"color","#3F424B"],[3,"formGroup","ngSubmit"],[1,"mb-3","mt-3"],["for","inputlg",1,"form-label"],[1,"otp-box"],["formControlName","otp0","type","text","id","first","maxlength","1",1,"m-2","text-center","form-control","rounded",3,"keyup"],["digit1",""],["formControlName","otp1","type","text","id","second","maxlength","1",1,"m-2","text-center","form-control","rounded",3,"keyup"],["digit2",""],["type","text","formControlName","otp2","id","third","maxlength","1",1,"m-2","text-center","form-control","rounded",3,"keyup"],["digit3",""],["type","text","formControlName","otp3","id","four","maxlength","1",1,"m-2","text-center","form-control","rounded",3,"keyup"],["digit4",""],["class","text-danger",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-block","lbtn",3,"disabled"],[1,"mt-3","text-center","reg"],[3,"click"],[1,"text-danger"]],template:function(o,r){if(1&o){const u=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),t._uU(8,"Enter OTP"),t.qZA(),t.TgZ(9,"p",7),t._uU(10," Please enter the OTP that has been send to your email ID "),t.qZA(),t.TgZ(11,"form",8),t.NdJ("ngSubmit",function(){return r.otpFormSubmit()}),t.TgZ(12,"div",9)(13,"label",10),t._uU(14,"OTP:"),t.qZA(),t.TgZ(15,"div",11)(16,"input",12,13),t.NdJ("keyup",function(p){t.CHM(u);const l=t.MAs(19);return t.KtG(r.moveToNext(p,null,l))}),t.qZA(),t.TgZ(18,"input",14,15),t.NdJ("keyup",function(p){t.CHM(u);const l=t.MAs(17),d=t.MAs(21);return t.KtG(r.moveToNext(p,l,d))}),t.qZA(),t.TgZ(20,"input",16,17),t.NdJ("keyup",function(p){t.CHM(u);const l=t.MAs(19),d=t.MAs(23);return t.KtG(r.moveToNext(p,l,d))}),t.qZA(),t.TgZ(22,"input",18,19),t.NdJ("keyup",function(p){t.CHM(u);const l=t.MAs(21);return t.KtG(r.moveToNext(p,l,null))}),t.qZA()(),t.YNc(24,T,2,0,"p",20),t.qZA(),t.TgZ(25,"div",21)(26,"button",22),t._uU(27,"Verify OTP"),t.qZA()(),t.TgZ(28,"div",23)(29,"a",24),t.NdJ("click",function(){return r.resendOtp()}),t._uU(30,"Resend OTP"),t.qZA()()()()()()()()}2&o&&(t.xp6(11),t.Q6J("formGroup",r.otpForm),t.xp6(13),t.Q6J("ngIf",r.otpForm.controls.otp3.dirty&&r.otpForm.controls.otp3.hasError("required")),t.xp6(2),t.Q6J("disabled",r.otpForm.invalid))},dependencies:[h.O5,n._Y,n.Fj,n.JJ,n.JL,n.nD,n.sg,n.u],styles:[".otp-box[_ngcontent-%COMP%]{display:flex;gap:30px}.otp-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;border:1px solid #EBEBED;border-radius:5px;outline-color:#ebebed}"]})}return i})()}];let O=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[h.ez,n.UX,a.Bz.forChild(v)]})}return i})()}}]);
//# sourceMappingURL=407.a1f81f78f69826a0.js.map