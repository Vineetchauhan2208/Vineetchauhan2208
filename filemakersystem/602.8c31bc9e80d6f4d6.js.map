{"version":3,"file":"602.8c31bc9e80d6f4d6.js","mappings":"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","names":["CustomerService","constructor","_http","this","environment","getCustomers","params","get","baseUrl","getCustomerByUuid","id","createFileServiceRequest","data","post","getFileFormData","static","_angular_core__WEBPACK_IMPORTED_MODULE_1__","factory","i0","FileServicesComponent","toastr","crud","fb","_titleservice","notification","_ticketservice","_router","xorService","FormData","Subject","setTitle","ticketCreateForm","group","subject","Validators","category","file_request","description","ngOnInit","console","log","onMessageUser","subscribe","res","type","i","fileservices","length","request_id","ids","status","message","onSearch","pipe","switchMap","searchKeywords","searchedKeywords","dateParam","fromDate","toDate","trim","requestUrl","pageNo","pageSize","results","showError","totalRequest","count","getRequestList","getTicketCategory","getRequest","then","ticketCategories","filter","element","name","patchValue","getRequestFileOnFilter","field","order","param","sortField","sortOrder","searchFile","event","serchFileAgainstDate","handlePageChange","getFileList","hasAdditionalFunctionColumn","downloadFileList","forEach","index","newTitle","title","split","map","el","additional_function_list","functionList","key","Object","keys","value","tdControl","addi_info","ctrl_unit","country","engine_size","asso_custo","fuel_type","mileage","model","transmission","tuning_required","vehicle_VIN","vehicle_make","vehicle_registration","vehicle_year","downloadFIle","file","downloaded_times","cusRequestUrl","counter","url","window","open","error","ticketCreateFormSubmit","valid","formData","append","selectedFileReqId","createTicket","success","timeOut","document","getElementById","click","delete","fileList","reset","err","detail","markAllControlsAsTouched","formGroup","values","controls","control","markAsTouched","FormGroup","resetForm","markAsUntouched","onFileChange","newFileList","Array","from","target","files","push","size","removeFile","splice","previewPdfModal","reader","FileReader","onload","previewSrc","result","readAsDataURL","checkExistingTicket","toggle","getTicketForFileRequest","next","navigateByUrl","xorEncryptDecrypt","ticket_id","_","core","selectors","ctx","MyFileServiceComponent","RestrictEnumberDirective","onKeyDown","toLowerCase","preventDefault","ctx_r76","routes","path","component","children","RequestFileServiceComponent","customer","ar","formBuilder","route","require","alpha2","countryDetails","vehicleInformation","customer_first_name","customer_last_name","vehicle_type","other_vehicle_type","other_vehicle_make","other_model","file_type","tuning_tool_used","other_tuning_tool_used","engineInformation","engine_size_deci","other_transmission","other_fuel_type","mileage_type","ecuInformation","ecu_brand","other_ecu_brand","ecu_version","other_ecu_version","control_unit","other_control_unit","additionalInformation","additional_function","other_additional_function","additional_info","countryData","sort","a","b","obj","moveCountryOnTop","year","Date","getFullYear","yearCount","users","JSON","parse","localStorage","getItem","queryParams","submitRequest","vehicleDetails","sortEle","indexOfECU","indexOf","moveOtherInLast","tuningToolUsedList","role","individual","business","vehicleTypes","buyItemDetail","getTypeCount","setValue","vehicleInfo","engineInfo","ecuInfo","additionalInfo","showOtherVehicleType","vehicleBrandList","brand_name","showOtherVehicleMake","modelList","model_name","file_key_credit","showOtherModel","getTuningRequired","getVehicleBrands","arr","localeCompare","array","nameA","toUpperCase","nameB","findIndex","item","removedObject","unshift","autocall","getBrandModel","autoCall","masterCalculation","getVehicleControlList","otherVehicleDetailBoxController","ab","resetEcuBrandVersion","masterCalculationData","fileCreditRequired","filePurchaseRequired","customer_credit","onlyFuntionKeyCredit","onlyFileKeyCredit","includes","functionCreditRequired","functionPurchaseRequired","function_credit","setItem","stringify","ecuBrandList","unique","uniqueECUBrand","setFuelModel","newECU_versionList","brand","ecuListBaseOnCtrlUnit","ecu_type","showEcuVersion","step","vehicle_step","invalid","engine_step","ecu_step","all","showEcuBrand","uniqueBrands","resetCtrlUnit","checkForSelectedDTC","Number","isInteger","selectAdditionalFun","additionalFunctionList","warning","isDTCSelected","selectAddFun","showAddiInfoOtherBox","newTuningRequiredList","tuningRequiredList","gasoline","additional_functions","showAdditonalFunction","diesel","newUniqueEcuBrandList","reduce","acc","find","uniqueBrandListBaseOnCtrlUnit","editEcuBrandVesrsion","ctrlUnitChange","showOtherEcuBrand_version","list","control_name","selectedValue","other_fields","formData3","formData4","validateVehicleInfo","showSelectError","submitForm","acceptTermBusi","ecuBrandName","selectedECUBrand","selectedECUVersion","selectedTuningTool","selectedTransmission","selectedFuelType","selectedControlUnit","selectedAdditionalFunction","engineSizeValue","replace","hasAdditionalInfo","join","uploadedFile","checkOtherCondition","cb","isLoading","postRequest","removeItem","ticketFormData","updateProfileImg","catch","acceptTermCondCount","undefined","fileUpload","fileName","buyNow","additionalFuncArray","navigate","acceptTermCond","otherIndex","ViewFileRequestComponent","requestId","snapshot","paramMap","requestDetail","replaceAll","MyFileServiceRoutingModule","RouterModule","MyFileServiceModule","CommonModule","FormsModule","ReactiveFormsModule","NgxPaginationModule","NgSelectModule","SharedPipeModule","SharedComponentsModule","TitleCasePipe","imports"],"sourceRoot":"webpack:///","sources":["./src/app/admin/services/customer.service.ts","./src/app/customer/my-file-service/file-services/file-services.component.html","./src/app/customer/my-file-service/file-services/file-services.component.ts","./src/app/customer/my-file-service/my-file-service.component.ts","./src/app/customer/my-file-service/my-file-service.component.html","./src/app/services/restrict-enumber.directive.ts","./src/app/customer/my-file-service/request-file-service/request-file-service.component.html","./src/app/customer/my-file-service/view-file-request/view-file-request.component.html","./src/app/customer/my-file-service/my-file-service-routing.module.ts","./src/app/customer/my-file-service/request-file-service/request-file-service.component.ts","./src/app/customer/my-file-service/view-file-request/view-file-request.component.ts","./src/app/customer/my-file-service/my-file-service.module.ts","./src/app/shared-components/shared-components.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CustomerService {\n\n  baseUrl = environment.baseUrl;\n  constructor(private _http:HttpClient) \n  {\n\n\n  }\n  \n  getCustomers(params:any)\n  {\n    return this._http.get(this.baseUrl+\"/api/v1/admin/customer\", { params });\n  }\n\n  getCustomerByUuid(id:any)\n  {\n    return this._http.get(`${this.baseUrl}/api/v1/admin/customer/${id}`);\n  }\n  createFileServiceRequest(data:any) {\n    return this._http.post(`${this.baseUrl}/api/v1/file/service/request`,data);\n  }\n  getFileFormData() {\n    return this._http.get(`${this.baseUrl}/api/v1/file/service/get/file_form_data`);\n  }\n\n}\n","<section class=\"file-services\">\n\n  <div class=\"file-services-inner\">\n    <div class=\"service-header\">\n      <h2 class=\"mb-0 main-title nowrap\">File Services</h2>\n      <div class=\"d-flex flex-column justify-content-md-end flex-md-row ms-auto w-100\" style=\"min-width: 15ch;gap:1rem\" >\n\n        <div class=\"ms-auto ms-md-0\" style=\"position: relative;\">\n\n          <button class=\"btn ms-auto ms-md-0 border\" style=\"cursor: pointer;padding: .38em;\" (click)=\"showFilter = !showFilter\" title=\"Show/Hide Table Columns\">\n            <svg viewBox=\"0 -0.5 25 25\" width=\"1.6rem\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g>\n              <g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g>\n              <g id=\"SVGRepo_iconCarrier\">\n                <path d=\"M5.5 11.75C5.08579 11.75 4.75 12.0858 4.75 12.5C4.75 12.9142 5.08579 13.25 5.5 13.25V11.75ZM19.5 13.25C19.9142 13.25 20.25 12.9142 20.25 12.5C20.25 12.0858 19.9142 11.75 19.5 11.75V13.25ZM5.5 7.75C5.08579 7.75 4.75 8.08579 4.75 8.5C4.75 8.91421 5.08579 9.25 5.5 9.25V7.75ZM14.833 9.25C15.2472 9.25 15.583 8.91421 15.583 8.5C15.583 8.08579 15.2472 7.75 14.833 7.75V9.25ZM5.5 15.75C5.08579 15.75 4.75 16.0858 4.75 16.5C4.75 16.9142 5.08579 17.25 5.5 17.25V15.75ZM14.833 17.25C15.2472 17.25 15.583 16.9142 15.583 16.5C15.583 16.0858 15.2472 15.75 14.833 15.75V17.25ZM5.5 13.25H19.5V11.75H5.5V13.25ZM5.5 9.25H14.833V7.75H5.5V9.25ZM5.5 17.25H14.833V15.75H5.5V17.25Z\" fill=\"currentColor\"></path>\n              </g>\n            </svg>\n          </button>\n          <ul *ngIf=\"showFilter\" class=\"dropDownList\" style=\"z-index: 3;\">\n            <li>\n\n              <label>\n                <input type=\"checkbox\" [checked]=\"addi_info\" (click)=\"tdControl('addi_info')\">\n                <span>Additional Info</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"ctrl_unit\" (click)=\"tdControl('ctrl_unit')\">\n                <span>Ctrl Unit</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"country\" (click)=\"tdControl('country')\">\n                <span>Country</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"asso_custo\" (click)=\"tdControl('asso_custo')\">\n                <span>Assotiated Customer</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"engine_size\" (click)=\"tdControl('engine_size')\">\n                <span>Engine Size</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"fuel_type\" (click)=\"tdControl('fuel_type')\">\n                <span>Fuel Type</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"mileage\" (click)=\"tdControl('mileage')\">\n                <span>Mileage</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"model\" (click)=\"tdControl('model')\">\n                <span>Model</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"transmission\" (click)=\"tdControl('transmission')\">\n                <span>Transmission</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"tuning_required\" (click)=\"tdControl('tuning_required')\">\n                <span>Tuning Required</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"vehicle_VIN\" (click)=\"tdControl('vehicle_VIN')\">\n                <span>Vehicle VIN</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"vehicle_make\" (click)=\"tdControl('vehicle_make')\">\n                <span>Vehicle Make</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"vehicle_registration\" (click)=\"tdControl('vehicle_registration')\">\n                <span>Vehicle Registration</span>\n              </label>\n            </li>\n            <li>\n              <label>\n                <input type=\"checkbox\" [checked]=\"vehicle_year\" (click)=\"tdControl('vehicle_year')\">\n                <span>Vehicle Year</span>\n              </label>\n            </li>\n          </ul>\n        </div>\n\n        <smart-search placeholder=\"Search for User\" (onSearch)=\"onSearch.next($event);\"></smart-search>\n\n        <input class=\"bg-input w-100 w-md-auto\" title=\"Select From Date\" type=\"date\" [(ngModel)]=\"fromDate\" placeholder=\"From: DD/MM/YY\" />\n        <input class=\"bg-input w-100 w-md-auto\" title=\"Select to Date\" type=\"date\" [(ngModel)]=\"toDate\" placeholder=\"To: DD/MM/YY\" />\n        <button class=\"btn-primary ms-auto ms-md-0\" title=\"Search by date\" (click)=\"serchFileAgainstDate()\">\n          <i class=\"fa fa-search\" style=\"color:var(--clr-light,#fff);\" aria-hidden=\"true\"></i>\n        </button>\n      </div>\n    </div>\n    <div class=\"responsive-tbl mt-3\">\n      <table>\n        <thead>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Request ID </p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'request_id'}\"></ng-container>\n            </div>\n          </th>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Date</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'created_at'}\"></ng-container>\n            </div>\n          </th>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Status</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'status'}\"></ng-container>\n            </div>\n          </th>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Vehicle</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'vehicle_type'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"vehicle_registration\">\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Registration</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'vehicle_registration'}\"></ng-container>\n            </div>\n          </th>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Ecu Brand</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'ecu_brand'}\"></ng-container>\n            </div>\n          </th>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Ecu Version</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'ecu_version'}\"></ng-container>\n            </div>\n          </th>\n          <th>\n            <div class=\"d-flex align-items-center\">\n              <p class=\"mb-0\">Tool</p>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'tuning_tool_used'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"addi_info\">\n            <div class=\"d-flex align-items-center\">\n              <span>Additional Info</span>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'additional_info'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"ctrl_unit\">\n            <div class=\"d-flex align-items-center\">\n              <span>Ctrl Unit</span>\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'control_unit'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"country\">\n            <div class=\"d-flex align-items-center\">\n              Country\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'country'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"asso_custo\">\n            <div class=\"d-flex align-items-center\">\n              Assotiated Customer\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'customer_first_name'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"engine_size\">\n            <div class=\"d-flex align-items-center\">\n              Engine size\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'engine_size'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"fuel_type\">\n            <div class=\"d-flex align-items-center\">\n              Fuel Type\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'fuel_type'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"mileage\">\n            <div class=\"d-flex align-items-center\">\n              Mileage\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'mileage'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"model\">\n            <div class=\"d-flex align-items-center\">\n              Model\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'model'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"transmission\">\n            <div class=\"d-flex align-items-center\">\n              Transmission\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'transmission'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"tuning_required\">\n            <div class=\"d-flex align-items-center\">\n              Tuning Required\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'tuning_required'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"vehicle_VIN\">\n            <div class=\"d-flex align-items-center\">\n              Vehicle VIN\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'vehicle_VIN'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"vehicle_make\">\n            <div class=\"d-flex align-items-center\">\n              Vehicle Make\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'vehicle_make'}\"></ng-container>\n            </div>\n          </th>\n          <th *ngIf=\"vehicle_year\">\n            <div class=\"d-flex align-items-center\">\n              Vehicle Year\n              <ng-container *ngTemplateOutlet=\"sortFilter;context:{field:'vehicle_year'}\"></ng-container>\n            </div>\n          </th>\n          <th class=\"tableHeadAction\">Action </th>\n        </thead>\n        <tr\n          *ngFor=\"let fileservice of fileservices | paginate : {itemsPerPage: pageSize,currentPage: pageNo,totalItems: totalRequest};let i = index\">\n          <td> {{fileservice.request_id}} </td>\n          <td>{{notification.formatDate(fileservice.created_at)}}</td>\n          <td *ngIf=\"fileservice.status != 'Manual handle' && fileservice.status != 'Manual Handle' && fileservice.status != 'IN_PROGRESS'\">\n            <p [ngClass]=\"fileservice.status == 'CLOSED'?'status_closed':( (fileservice.status == 'Manual handle' || fileservice.status == 'Manual Handle') ? 'status_mh' : 'status_open')\">{{fileservice.status}}</p>\n          </td>\n          <td \n            *ngIf=\"fileservice.status == 'Manual handle' || \n            fileservice.status == 'Manual Handle' || \n            fileservice.status == 'IN_PROGRESS'\">\n            <p class=\"status in-progress status_open\" style=\"text-align: center;\">In Progress</p>\n          </td>\n          <td> {{fileservice?.vehicle_type || 'NA'}} </td>\n          <td *ngIf=\"vehicle_registration\"> {{fileservice?.vehicle_registration || 'NA'}} </td>\n          <td> {{fileservice?.ecu_brand || 'NA'}}</td>\n          <td> {{fileservice?.ecu_version || 'NA'}} </td>\n          <td> {{fileservice?.tuning_tool_used || 'NA'}} </td>\n          <td *ngIf=\"addi_info\"> {{fileservice?.additional_info || 'NA'}} </td>\n          <td *ngIf=\"ctrl_unit\"> {{fileservice?.control_unit || 'NA'}} </td>\n          <td *ngIf=\"country\"> {{fileservice?.country || 'NA'}} </td>\n          <td *ngIf=\"asso_custo\"> {{fileservice?.customer_first_name}}\n            {{fileservice?.customer_last_name}} </td>\n          <td *ngIf=\"engine_size\"> {{fileservice?.engine_size || 'NA'}} </td>\n          <td *ngIf=\"fuel_type\"> {{fileservice?.fuel_type || 'NA'}} </td>\n          <td *ngIf=\"mileage\"> {{fileservice?.mileage || 'NA'}} {{fileservice?.mileage_type}} </td>\n          <td *ngIf=\"model\"> {{fileservice?.model || 'NA'}} </td>\n          <td *ngIf=\"transmission\"> {{fileservice?.transmission || 'NA'}} </td>\n          <td *ngIf=\"tuning_required\"> {{fileservice?.tuning_required || 'NA'}} </td>\n          <td *ngIf=\"vehicle_VIN\"> {{fileservice?.vehicle_VIN || 'NA'}} </td>\n          <td *ngIf=\"vehicle_make\"> {{fileservice?.vehicle_make || 'NA'}} </td>\n          <td *ngIf=\"vehicle_year\"> {{fileservice?.vehicle_year || 'NA'}} </td>\n          <td class=\"tableBodyAction\">\n            <div>\n              <a class=\"eyeIcon\" [routerLink]=\"['/file-service/view-request',fileservice.id]\"><i class=\"fa fa-eye\"\n                  title=\"View\"></i></a>\n              <a class=\"eyeIcon\" (click)=\"getFileList(fileservice.request_id)\" data-bs-toggle=\"modal\"\n                data-bs-target=\"#chngeEmailModal\"><i class=\"fa fa-download\" title=\"Download\" aria-hidden=\"true\"></i></a>\n              <a *ngIf=\"fileservice.request_id\" class=\"eyeIcon\" (click)=\"ticketDetail = fileservice;\"\n                data-bs-toggle=\"offcanvas\" data-bs-target=\"#vehicleDetail\"><i class=\"fa fa-car\"\n                  aria-hidden=\"true\"></i></a>\n              <a class=\"eyeIcon\" (click)=\"checkExistingTicket(toggleCreateTicket, fileservice.request_id);\">\n                <i class=\"fa fa-ticket\" title=\"Ticket\" aria-hidden=\"true\"></i>\n              </a>\n              <a #toggleCreateTicket class=\"hidden\" (click)=\"selectedFileReqId = fileservice.request_id;\" data-bs-toggle=\"modal\"\n               data-bs-target=\"#chngeEmailModal2\">\n              </a>\n            </div>\n          </td>\n        </tr>\n      </table>\n      <p class=\"errcls\" *ngIf=\"showError\">\n        <span>Records not found</span>\n      </p>\n    </div>\n    <pagination-controls  *ngIf=\"fileservices?.length !=0\" class=\"pagination-crl\" previousLabel=\"Prev\" nextLabel=\"Next\"\n      (pageChange)=\"pageNo = $event;handlePageChange($event)\"></pagination-controls>\n  </div>\n  <!-- The file download modal -->\n  <div class=\"modal\" id=\"chngeEmailModal\">\n    <div class=\"v-align\">\n      <div class=\"modal-dialog download\" [class.super]=\"hasAdditionalFunctionColumn\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h4 class=\"modal-title\">Download files</h4>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <p>Maximum file download limit: 5</p>\n            <div class=\"responsive-tbl\">\n              <table>\n                <thead>\n                  <th>Title</th>\n                  <th>Created at</th>\n                  <th>Download</th>\n                  <!-- <th>Size</th> -->\n                  <th>Download Count</th>\n                  <th *ngIf=\"hasAdditionalFunctionColumn\">Additional Function Requirements</th>\n                </thead>\n                <tr *ngFor=\"let file of downloadFileList;let i = index\">\n                  <td> \n                    <p class=\"truncate-20 mb-0\">\n                      {{ file?.newTitle[file?.newTitle.length - 1] }}\n                    </p>\n                  </td>\n                  <td>{{file.created_at | date:\"dd MMM y\"}}</td>\n                  <td style=\"text-align: center !important;\">\n                    <a class=\"eyeIcon\" (click)=\"downloadFIle(file,i)\">\n                      <i class=\"fa fa-download\" title=\"Download\" aria-hidden=\"true\"></i>\n                    </a>\n                  </td>\n                  <!-- <td>{{file?.file_size | fileSize}}</td> -->\n                  <td style=\"text-align: center !important;\">\n                    {{file.downloaded_times?file.downloaded_times:0}}\n                  </td>\n                  <td *ngIf=\"hasAdditionalFunctionColumn\">\n                    <ul class=\"ps-0 additional-function-list\">\n                      <li *ngFor=\"let item of file?.functionList\">\n                        <p>\n                          <b>{{item.key}}: </b>\n                          <span>{{item.value}}</span>\n                        </p>\n                      </li>\n                    </ul>\n                  </td>\n                </tr>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- The create ticket modal -->\n  <div class=\"modal\" id=\"chngeEmailModal2\">\n    <div class=\"v-align\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h4 class=\"modal-title\">Create Ticket</h4>\n            <button type=\"button\" id=\"hidechangeemailmodal\" class=\"btn-close\" (click)=\"resetForm();\"\n              data-bs-dismiss=\"modal\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"formFields\">\n              <form id=\"ticketCreateFormid\" [formGroup]=\"ticketCreateForm\">\n                <div>\n                  <label for=\"first_name\" class=\"form-label\">Ticket Subject </label>\n                  <input type=\"text\" class=\"form-control\" formControlName=\"subject\"\n                    [class.is-invalid]=\"ticketCreateForm.controls['subject'].invalid && ticketCreateForm.controls['subject'].touched\"\n                    placeholder=\"Enter Ticket Subject \">\n                  <small class=\"text-danger mt-4\"\n                    *ngIf=\"ticketCreateForm.controls['subject'].touched && ticketCreateForm.controls['subject'].hasError('required')\">\n                    Please enter ticket subject.\n                  </small>\n                </div>\n                <div>\n                  <label for=\"role\" class=\"form-label\">Ticket Category</label>\n                  <select class=\"form-select\" formControlName=\"category\"\n                    [class.is-invalid]=\"ticketCreateForm.controls['category'].invalid && ticketCreateForm.controls['category'].touched\">\n                    <option [disabled]=\"true\">Select Category</option>\n                    <option *ngFor=\"let category of ticketCategories\" value=\"{{category.id}}\">\n                      {{category.name}}</option>\n                  </select>\n                </div>\n                <div class=\"des\">\n                  <label for=\"des\" class=\"form-label\"> Ticket Description </label>\n                  <textarea class=\"form-control\" formControlName=\"description\"\n                    [class.is-invalid]=\"ticketCreateForm.controls['description'].invalid && ticketCreateForm.controls['description'].touched\"\n                    placeholder=\"Enter Ticket Description\"></textarea>\n                  <small class=\"text-danger mt-4\"\n                    *ngIf=\"ticketCreateForm.controls['description'].touched && ticketCreateForm.controls['description'].hasError('required')\">\n                    Please enter ticket description.\n                  </small>\n                </div>\n                <div class=\"upload-file\">\n                  <label>Upload File</label>\n                  <div *ngIf=\"fileList.length == 0\" class=\"file-overlay\">\n                    <input type=\"file\" (change)=\"onFileChange($event)\" />\n                    <p>Drag and Drop the files here</p>\n                    <span>OR</span>\n                    <p>Browse file</p>\n                  </div>\n                  <div *ngIf=\"fileList.length != 0\" class=\"file-overlay\">\n                    <input type=\"file\" (change)=\"onFileChange($event)\" />\n                    <p>{{fileList[0].name}}</p>\n                  </div>\n                </div>\n                <!-- <div class=\"des\" *ngIf=\"fileList.length != 0\">\n                  <h5>Attachments</h5>\n                  <table width=\"100%\">\n                    <thead>\n                      <th>File Name</th>\n                      <th> Size </th>\n                      <th> Action </th>\n                    </thead>\n                    <tr *ngFor=\"let list of fileList; let index = index\">\n                      <td> {{list.name || 'NA'}} </td>\n                      <td> {{list.size || 'NA'}} </td>\n                      <td>\n                        <div class=\"actiontd\">\n                          <a class=\"eyeIcon\" *ngIf=\"list.type=='application/pdf' || list.type=='image/jpeg'\"\n                            data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\" (click)=\"previewPdfModal(index)\">\n                            <i class=\"fa fa-eye\" title=\"View\"></i>\n                          </a>\n                          <a class=\"eyeIcon delIcon\" title=\"Delete\" (click)=\"removeFile(index)\">\n                            <i class=\"fa fa-trash\"></i>\n                          </a>\n                        </div>\n                      </td>\n                    </tr>\n                  </table>\n                </div> -->\n                <div class=\"submitReset\">\n                  <div>\n                  </div>\n                  <div>\n                    <button type=\"button\" class=\"ressetBtn\" (click)=\"resetForm();\"\n                      data-bs-dismiss=\"modal\">Cancel</button>\n                    <button type=\"submit\" (click)=\"ticketCreateFormSubmit()\">Submit</button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<div class=\"offcanvas offcanvas-end\" id=\"vehicleDetail\">\n  <div class=\"offcanvas-header\">\n    <h1 class=\"offcanvas-title\">Vehicle Detail</h1>\n    <button type=\"button\" id=\"closefilterconvas\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\"></button>\n  </div>\n  <hr />\n  <div class=\"offcanvas-body viewTicket\">\n    <div>\n      <div>\n        <p>Customer Name</p>\n      </div>\n      <div style=\"display: block;\">\n        <span> {{ticketDetail?.customer_first_name || \"-\"}} {{ticketDetail?.customer_last_name || \"-\"}}\n        </span><br>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Company Name</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.user?.company_name || \"-\"}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Vehicle Type</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.vehicle_type}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Vehicle Make</p>\n      </div>\n      <div style=\"display: block;\">\n        <span> {{ticketDetail?.vehicle_make}}</span><br>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Vehicle Model</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.model}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Vehicle Registration</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.vehicle_registration}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Vehicle Year</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.vehicle_year}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Vehicle VIN</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.vehicle_VIN}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>File Type</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.file_type}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Engine Size</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.engine_size}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Transmission</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.transmission}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Fuel Type</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.fuel_type}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Mileage Type</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.mileage_type}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Mileage</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.mileage}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>ECU Brand</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.ecu_brand || \"NA\"}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>ECU Version</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.ecu_version}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Control Unit</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.control_unit}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Country</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.country}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Tuning Tool Used</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.tuning_tool_used}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Tuning Required</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.tuning_required}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Credit</p>\n      </div>\n      <div>\n        <span> {{ ticketDetail?.credit_spent?.credit }}\n          {{\n            ticketDetail?.credit_spent?.credit_type == 1\n              ? \"File Key\"\n              : ticketDetail?.credit_spent?.credit_type == 2\n              ? \"EVC\"\n              : ticketDetail?.credit_spent?.credit_type == 3\n              ? \"Function Key\"\n              : \"0\"\n          }}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Additional Function</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.additional_function || 'NA'}}</span>\n      </div>\n    </div>\n    <div>\n      <div>\n        <p>Additional Info.</p>\n      </div>\n      <div>\n        <span>{{ticketDetail?.additional_info || 'NA'}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #sortFilter let-field=\"field\">\n  <div class=\"d-flex flex-column\" style=\"margin-left: 10px;\">\n    <i class=\"fa fa-chevron-up pointer\" (click)=\"getRequestFileOnFilter(field,'dec')\"\n      aria-hidden=\"true\"></i>\n    <i class=\"fa fa-chevron-down pointer\" (click)=\"getRequestFileOnFilter(field,'asc')\"\n      aria-hidden=\"true\"></i>\n  </div>\n</ng-template>\n\n<ng-template #closeIcon>\n  <svg width=\"20px\" viewBox=\"0 -0.5 25 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g>\n    <g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g>\n    <g id=\"SVGRepo_iconCarrier\"> \n      <path d=\"M6.96967 16.4697C6.67678 16.7626 6.67678 17.2374 6.96967 17.5303C7.26256 17.8232 7.73744 17.8232 8.03033 17.5303L6.96967 16.4697ZM13.0303 12.5303C13.3232 12.2374 13.3232 11.7626 13.0303 11.4697C12.7374 11.1768 12.2626 11.1768 11.9697 11.4697L13.0303 12.5303ZM11.9697 11.4697C11.6768 11.7626 11.6768 12.2374 11.9697 12.5303C12.2626 12.8232 12.7374 12.8232 13.0303 12.5303L11.9697 11.4697ZM18.0303 7.53033C18.3232 7.23744 18.3232 6.76256 18.0303 6.46967C17.7374 6.17678 17.2626 6.17678 16.9697 6.46967L18.0303 7.53033ZM13.0303 11.4697C12.7374 11.1768 12.2626 11.1768 11.9697 11.4697C11.6768 11.7626 11.6768 12.2374 11.9697 12.5303L13.0303 11.4697ZM16.9697 17.5303C17.2626 17.8232 17.7374 17.8232 18.0303 17.5303C18.3232 17.2374 18.3232 16.7626 18.0303 16.4697L16.9697 17.5303ZM11.9697 12.5303C12.2626 12.8232 12.7374 12.8232 13.0303 12.5303C13.3232 12.2374 13.3232 11.7626 13.0303 11.4697L11.9697 12.5303ZM8.03033 6.46967C7.73744 6.17678 7.26256 6.17678 6.96967 6.46967C6.67678 6.76256 6.67678 7.23744 6.96967 7.53033L8.03033 6.46967ZM8.03033 17.5303L13.0303 12.5303L11.9697 11.4697L6.96967 16.4697L8.03033 17.5303ZM13.0303 12.5303L18.0303 7.53033L16.9697 6.46967L11.9697 11.4697L13.0303 12.5303ZM11.9697 12.5303L16.9697 17.5303L18.0303 16.4697L13.0303 11.4697L11.9697 12.5303ZM13.0303 11.4697L8.03033 6.46967L6.96967 7.53033L11.9697 12.5303L13.0303 11.4697Z\" fill=\"#000000\"></path> \n    </g>\n  </svg>\n</ng-template>","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Title } from '@angular/platform-browser';\nimport { ToastrService } from 'ngx-toastr';\nimport { requestUrl } from 'src/app/services/adminReqUrl.const';\nimport { CrudService } from 'src/app/services/crud.service';\nimport { cusRequestUrl } from 'src/app/services/customerReqUrl.const';\nimport { NotificationsService } from 'src/services/notifications.service';\nimport { TicketService } from '../../services/ticket.service';\nimport { debounceTime, distinctUntilChanged, Subject, switchMap } from 'rxjs';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { XorEncryptionService } from 'src/app/services/xor-encryption.service';\n\n@Component({\n  selector: 'app-file-services',\n  templateUrl: './file-services.component.html',\n  styleUrls: ['./file-services.component.scss']\n})\nexport class FileServicesComponent {\n  fileservices: any;\n  pageNo: number = 1;\n  pageSize: number = 10;\n  totalRequest: number = 0;\n  downloadFileList: any;\n  showFilter: boolean = false;\n  addi_info: boolean = false;\n  ctrl_unit: boolean = false;\n  country: boolean = false;\n  engine_size: boolean = false;\n  asso_custo: boolean = false;\n  fuel_type: boolean = false;\n  mileage: boolean = false;\n  model: boolean = false;\n  transmission: boolean = false;\n  tuning_required: boolean = false;\n  vehicle_VIN: boolean = false;\n  vehicle_make: boolean = false;\n  vehicle_registration: boolean = true;\n  vehicle_year: boolean = false;\n  fromDate: any;\n  toDate: any;\n  ticketDetail: any;\n  ticketCreateForm: FormGroup;\n  formData: FormData = new FormData();\n  ticketCategories: any;\n  selectedFileReqId: any;\n  newFileList: any;\n  fileList: any = [];\n  previewSrc: any;\n  showError: boolean = false;\n  onSearch = new Subject<string>();\n  sortOrder: any;\n  sortField: any;\n  searchedKeywords:string = '';\n  constructor(private toastr: ToastrService, private crud: CrudService, private fb: FormBuilder,\n    private _titleservice: Title, public notification: NotificationsService,\n    private _ticketservice: TicketService,private _router:Router, private xorService:XorEncryptionService) {\n    this._titleservice.setTitle('File History');\n    this.ticketCreateForm = this.fb.group({\n      subject: ['', [Validators.required]],\n      category: ['', [Validators.required]],\n      file_request: ['', []],\n      description: ['', [Validators.required]],\n    });\n  }\n  ngOnInit() {\n    console.log(\"Updated build\");\n    \n    this.notification.onMessageUser.subscribe((res: any) => {\n      if (res && res.type === 'slave_file_status' || res && res.type === 'master_file_status') {\n        for (let i = 0; i < this.fileservices.length; i++) {\n          if (this.fileservices[i].request_id == res.ids) {\n            this.fileservices[i].status = res.message;\n          }\n        }\n      }\n    });\n\n    this.onSearch\n    .pipe(\n      switchMap((searchKeywords) => {\n        this.searchedKeywords = searchKeywords;\n        let dateParam = '';\n        if (this.fromDate && this.toDate) {\n          dateParam = `&from_date=${this.fromDate}&to_date=${this.toDate}`\n        }\n        if(searchKeywords.trim().length > 0) {\n          return this.crud.get(`${requestUrl.getRequestListBySearch}${searchKeywords}${dateParam}`)\n        } else {\n          return this.crud.get(`${requestUrl.getRequestList}?page=${this.pageNo}&page_size=${this.pageSize}${dateParam}`)\n        }\n      })\n    )\n    .subscribe(res => {\n        this.pageNo = 1;\n        const data = (\"data\" in res) ? res.data : res;\n        this.fileservices = data.results;\n        this.showError = this.fileservices.length > 0 ? false : true;\n        this.totalRequest = data.count;\n        }\n      )\n\n    this.getRequestList();\n    this.getTicketCategory();\n  }\n  getTicketCategory() {\n    this.crud.getRequest(`${requestUrl.getTicketCategoryList}`).then((res: any) => {\n      if (res) {\n        const ticketCategoriesList = res.data.results;\n        this.ticketCategories = ticketCategoriesList.filter((element: any) => {\n          if (element.name != \"Manual Handle\" && element.name != \"Processing\") {\n            return element;\n          }\n        })\n        this.ticketCreateForm.patchValue({ 'category': this.ticketCategories[0].id });\n      }\n    });\n  }\n  getRequestList() {\n    this.crud.getRequest(`${requestUrl.getRequestList}?page=${this.pageNo}&page_size=${this.pageSize}`).then((res: any) => {\n      this.fileservices = res.results;\n      this.showError = this.fileservices.length > 0 ? false : true;\n      this.totalRequest = res.count;\n    })\n  }\n  getRequestFileOnFilter(field?: any, order?: any) {\n    let param = '';\n    if(field) {\n      this.sortField = field;\n      this.sortOrder = order;\n    }\n    if(this.sortField) {\n      param = `&field=${this.sortField}&order_in=${this.sortOrder}`\n    }\n    if (this.fromDate && this.toDate) {\n      param = `&from_date=${this.fromDate}&to_date=${this.toDate}`\n    }\n    if(this.searchedKeywords) {\n      // param = `&search=${this.searchedKeywords}`\n    }\n    const page = this.pageNo;\n    this.crud.getRequest(`${requestUrl.getRequestListBySearch}${this.searchedKeywords}&page=${page}&page_size=${this.pageSize}${param}`).then((res: any) => {\n      const data = (\"results\" in res) ? res : res.data; \n      this.fileservices = data.results\n      this.showError = this.fileservices.length > 0 ? false : true;\n      this.totalRequest = data.count;\n    })\n  }\n  searchFile(event: any) {\n    if (event.trim().length > 0) {\n      this.crud.getRequest(`${requestUrl.getRequestListBySearch}${event}`).then((res: any) => {\n        this.fileservices = res.data.results;\n        this.showError = this.fileservices.length > 0 ? false : true;\n        this.totalRequest = res.count;\n      })\n    }\n    else {\n      this.getRequestList();\n    }\n  }\n  serchFileAgainstDate() {\n    if (this.fromDate && this.toDate) {\n      this.crud.getRequest(`${requestUrl.getRequestListByDateSearch}?from_date=${this.fromDate}&to_date=${this.toDate}`).then((res: any) => {\n        this.fileservices = res.data;\n        this.totalRequest = res.count;\n      })\n    }\n  }\n  handlePageChange(event: any): void {\n    this.pageNo = event;\n    this.getRequestFileOnFilter();\n  }\n\n\n\n  hasAdditionalFunctionColumn = false;\n  getFileList(id: any) {\n    this.hasAdditionalFunctionColumn = false;\n    this.crud.getRequest(`${requestUrl.fileDownloadList}${id}`).then((res: any) => {\n      if (res) {\n        this.downloadFileList = res.data;\n        this.downloadFileList.forEach((element: any, index: any) => {\n          this.downloadFileList[index].newTitle = element.title.split('/')\n        });\n        this.downloadFileList = this.downloadFileList.map((el:any) => {\n          if('additional_function_list' in el && el.additional_function_list.length) {\n            this.hasAdditionalFunctionColumn = true\n\n            el.functionList = el.additional_function_list.map((el:any) => {\n              const key = Object.keys(el)[0]\n              return {\n                key,\n                value:el[key]\n              }\n            })\n          }\n          return el;\n        })\n      }\n    })\n  }\n\n\n\n  tdControl(type: string) {\n    if (type == 'addi_info')\n      this.addi_info = !this.addi_info;\n    else if (type == 'ctrl_unit')\n      this.ctrl_unit = !this.ctrl_unit;\n    else if (type == 'country')\n      this.country = !this.country;\n    else if (type == 'engine_size')\n      this.engine_size = !this.engine_size;\n    else if (type == 'asso_custo')\n      this.asso_custo = !this.asso_custo;\n    else if (type == 'fuel_type')\n      this.fuel_type = !this.fuel_type;\n    else if (type == 'mileage')\n      this.mileage = !this.mileage;\n    else if (type == 'model')\n      this.model = !this.model;\n    else if (type == 'transmission')\n      this.transmission = !this.transmission;\n    else if (type == 'tuning_required')\n      this.tuning_required = !this.tuning_required;\n    else if (type == 'vehicle_VIN')\n      this.vehicle_VIN = !this.vehicle_VIN;\n    else if (type == 'vehicle_make')\n      this.vehicle_make = !this.vehicle_make;\n    else if (type == 'vehicle_registration')\n      this.vehicle_registration = !this.vehicle_registration;\n    else if (type == 'vehicle_year')\n      this.vehicle_year = !this.vehicle_year;\n  }\n  downloadFIle(file: any, i: number) {\n    if (file.downloaded_times < 5) {\n      this.crud.getRequest(`${cusRequestUrl.updateDownloadCount}${file.id}`).then((res: any) => {\n        if (res) {\n          this.downloadFileList[i].downloaded_times = res.counter;\n          if(!file.url) {\n            this.toastr.error(\"File not found!\");\n          } else {\n            window.open(file.url, '_blank');\n          }\n        }\n      })\n    } else {\n      this.toastr.error('Maximum download limit reached. Please raise a support ticket.');\n    }\n  }\n\n  ticketCreateFormSubmit() {\n    if (this.ticketCreateForm.valid) {\n      this.formData.append('subject', this.ticketCreateForm.value.subject);\n      this.formData.append('category', this.ticketCreateForm.value.category);\n      this.formData.append('description', this.ticketCreateForm.value.description);\n      this.formData.append('file_request', this.selectedFileReqId);\n      this._ticketservice.createTicket(this.formData).subscribe((res: any) => {\n        this.toastr.success(res.message, '', { timeOut: 4000 });\n        document.getElementById('hidechangeemailmodal')?.click();\n        this.formData.delete('subject');\n        this.formData.delete('category');\n        this.formData.delete('description');\n        this.formData.delete('file_request');\n        this.fileList = [];\n        this.ticketCreateForm.reset();\n        this.ticketCreateForm.patchValue({ 'category': this.ticketCategories[0].id });\n      },\n        (err: any) => {\n          this.toastr.error(err.error.detail, '', { timeOut: 4000 });\n        })\n    } else {\n      this.markAllControlsAsTouched(this.ticketCreateForm)\n    }\n  }\n  markAllControlsAsTouched(formGroup: FormGroup) {\n    Object.values(formGroup.controls).forEach(control => {\n      control.markAsTouched();\n\n      if (control instanceof FormGroup) {\n        this.markAllControlsAsTouched(control);\n      }\n    });\n  }\n  resetForm() {\n    this.ticketCreateForm.markAsUntouched();\n    this.ticketCreateForm.reset();\n    this.ticketCreateForm.patchValue({ 'category': this.ticketCategories[0].id })\n  }\n  onFileChange(event: any) {\n    this.newFileList = Array.from(event.target.files);\n    if (this.newFileList.length > 0) {\n      for (let file of this.newFileList) {\n        let detail = {\n          \"name\": file.name,\n          \"type\": file.type,\n          \"size\": (file.size / 1000) + \"KB\",\n          \"file\": file,\n        }\n        this.fileList.push(detail);\n        this.formData.append('files', file, file.name);\n      }\n    }\n  }\n\n  removeFile(index: any) {\n    this.fileList = [];\n    this.newFileList.splice(index, 1);\n    this.formData.delete('files');\n    if (this.newFileList.length > 0) {\n      for (let file of this.newFileList) {\n        let detail = {\n          \"name\": file.name,\n          \"type\": file.type,\n          \"size\": (file.size / 1000) + \"KB\",\n          \"file\": file,\n        }\n        this.fileList.push(detail);\n        this.formData.append('files', file, file.name);\n      }\n    }\n  }\n  previewPdfModal(index: any) {\n    var reader = new FileReader();\n    reader.onload = (event: any) => {\n      this.previewSrc = event.target.result;\n    }\n    reader.readAsDataURL(this.fileList[index].file);\n  }\n\n  checkExistingTicket(toggle:HTMLAnchorElement,id:string) {\n    this._ticketservice.getTicketForFileRequest(id).subscribe({\n      next:(res:any) => {\n        if((\"message\" in res) && res.message === 'Ticket found.') {\n          this._router.navigateByUrl(`/support/view-ticket/${this.xorService.xorEncryptDecrypt(`TK${res.ticket_id}`)}/${this.xorService.xorEncryptDecrypt(res.ticket_id)}`);\n        } else {\n          toggle.click();\n        }\n      },\n      error: _ => toggle.click(),\n    })\n  }\n  \n}\n\n","import { Component, OnInit } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-my-file-service',\n  templateUrl: './my-file-service.component.html',\n  styleUrls: ['./my-file-service.component.scss']\n})\nexport class MyFileServiceComponent implements OnInit {\n\n  constructor( private _titleservice: Title ) {\n  }\n  ngOnInit(): void {}\n\n}\n","<router-outlet></router-outlet>","import { Directive, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[appRestrictEnumber]'\n})\nexport class RestrictEnumberDirective {\n\n  constructor() { }\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    if (event.key.toLowerCase() === 'e') {\n      event.preventDefault();\n    }\n  }\n}\n","<section class=\"file-service-inner\">\n    <div class=\"formFields p-0\">\n      <h1 class=\"main-title\" style=\"text-align: left\">Vehicle Information</h1>\n      <div>\n        <form [formGroup]=\"vehicleInformation\">\n          <div class=\"form-inner\">\n            <div>\n              <div>\n                <label>Associated Customer First Name</label>\n                <div>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"lname\"\n                    placeholder=\"Enter Associated Customer First Name\"\n                    formControlName=\"customer_first_name\"\n                  />\n                </div>\n              </div>\n              <div>\n                <label>Associated Customer Last Name</label>\n                <div>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"lname\"\n                    placeholder=\"Enter Associated Customer Last Name\"\n                    formControlName=\"customer_last_name\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div>\n              <div>\n                <label for=\"vehicle\" class=\"form-label\">Vehicle Type</label>\n                <div>\n                  <select\n                    class=\"form-select\"\n                    formControlName=\"vehicle_type\"\n                    (change)=\"\n                      getVehicleBrands();\n                      otherVehicleDetailBoxController('vehicleType')\n                    \"\n                  >\n                    <option disabled>Select Vehicle Type</option>\n                    <option\n                      *ngFor=\"let vehicleType of vehicleTypes\"\n                      [value]=\"vehicleType?.id\"\n                    >\n                      {{ vehicleType?.name }}\n                    </option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      vehicleInformation.controls['vehicle_type'].touched &&\n                      vehicleInformation.controls['vehicle_type'].hasError(\n                        'required'\n                      )\n                    \"\n                  >\n                    Please select vehicle type.\n                  </small>\n                  <div\n                    (click)=\"showMultiselect = false\"\n                    *ngIf=\"showOtherVehicleType\"\n                  >\n                    <label for=\"\"></label>\n                    <input\n                      type=\"text\"\n                      class=\"form-control mt-2\"\n                      formControlName=\"other_vehicle_type\"\n                      placeholder=\"Enter Vehicle Type\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div>\n                <label> Vehicle Make</label>\n                <div>\n                  <select\n                    class=\"form-select\"\n                    formControlName=\"vehicle_make\"\n                    (change)=\"\n                      getBrandModel();\n                      otherVehicleDetailBoxController('vehicleMake')\n                    \"\n                  >\n                    <option disabled>Select Vehicle Make</option>\n                    <option\n                      *ngFor=\"let brand of vehicleBrandList\"\n                      [value]=\"brand?.id\"\n                    >\n                      {{ brand?.brand_name }}\n                    </option>\n                  </select>\n                </div>\n                <div *ngIf=\"showOtherVehicleMake\">\n                  <label for=\"\"></label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control mt-2\"\n                    formControlName=\"other_vehicle_make\"\n                    placeholder=\"Enter Vehicle Make\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div>\n              <div>\n                <label> Vehicle Model</label>\n                <div>\n                  <select\n                    class=\"form-select\"\n                    formControlName=\"model\"\n                    (change)=\"\n                      getVehicleControlList();\n                      otherVehicleDetailBoxController('model')\n                    \"\n                  >\n                    <option disabled>Select Vehicle Model</option>\n                    <option *ngFor=\"let model of modelList\" [value]=\"model?.id\">\n                      {{ model?.model_name }}\n                    </option>\n                  </select>\n                </div>\n                <div *ngIf=\"showOtherModel\">\n                  <label for=\"\"></label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control mt-2\"\n                    formControlName=\"other_model\"\n                    placeholder=\"Enter Vehicle Model\"\n                  />\n                </div>\n              </div>\n              <div>\n                <label>Vehicle Registration</label>\n                <div>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"vehReg\"\n                    placeholder=\"Vehicle Registration\"\n                    formControlName=\"vehicle_registration\"\n                  />\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      vehicleInformation.controls['vehicle_registration']\n                        .touched &&\n                      vehicleInformation.controls[\n                        'vehicle_registration'\n                      ].hasError('required')\n                    \"\n                  >\n                    Please enter vehicle registration.\n                  </small>\n                </div>\n              </div>\n            </div>\n            <div>\n              <div>\n                <label>Vehicle Year</label>\n                <div>\n                  <select class=\"form-select\" formControlName=\"vehicle_year\">\n                    <option disabled>Select Vehicle Year</option>\n                    <option\n                      *ngFor=\"let in of counter(yearCount); let i = index\"\n                      [value]=\"year - i\"\n                    >\n                      {{ year - i }}\n                    </option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      vehicleInformation.value.vehicle_year ==\n                        'Select Vehicle Year' && showSelectError\n                    \"\n                  >\n                    Please select file type.\n                  </small>\n                </div>\n              </div>\n              <div>\n                <label>Vehicle VIN</label>\n                <div>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"vehVin\"\n                    placeholder=\"Vehicle VIN\"\n                    formControlName=\"vehicle_VIN\"\n                  />\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      vehicleInformation.controls['vehicle_VIN'].touched &&\n                      vehicleInformation.controls['vehicle_VIN'].hasError(\n                        'required'\n                      )\n                    \"\n                  >\n                    Please enter vehicle VIN.\n                  </small>\n                </div>\n              </div>\n            </div>\n            <div>\n              <div>\n                <label for=\"vehicle\" class=\"form-label\">File Type</label>\n                <div>\n                  <select class=\"form-select\" formControlName=\"file_type\">\n                    <option disabled>Select File Type</option>\n                    <option value=\"Master\">Master</option>\n                    <option value=\"Client/Slave\">Client/Slave</option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      vehicleInformation.value.file_type ==\n                        'Select File Type' && showSelectError\n                    \"\n                  >\n                    Please select file type.\n                  </small>\n                </div>\n              </div>\n              <div (click)=\"showMultiselect = false\">\n                <label for=\"vehicle\" class=\"form-label\">Tuning Tool Used</label>\n                <div>\n                  <select\n                    class=\"form-select\"\n                    formControlName=\"tuning_tool_used\"\n                    (change)=\"\n                      this.vehicleInformation.controls[\n                        'other_tuning_tool_used'\n                      ].setValue('')\n                    \"\n                  >\n                    <option disabled>Select Tuning Tool</option>\n                    <option\n                      *ngFor=\"let tuningTool of tuningToolUsedList\"\n                      [value]=\"tuningTool\"\n                    >\n                      {{ tuningTool }}\n                    </option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      vehicleInformation.value.tuning_tool_used ==\n                        'Select Tuning Tool' && showSelectError\n                    \"\n                  >\n                    Please select tuning tool.\n                  </small>\n                </div>\n                <div\n                  (click)=\"showMultiselect = false\"\n                  *ngIf=\"\n                    vehicleInformation.controls['tuning_tool_used'].value ==\n                    'Other'\n                  \"\n                >\n                  <label for=\"\"></label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control mt-2\"\n                    formControlName=\"other_tuning_tool_used\"\n                    placeholder=\"Enter Tuning Tool\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n        <h5 style=\"text-align: left\" class=\"mt-3 main-title\">Engine information</h5>\n        <form [formGroup]=\"engineInformation\">\n          <div class=\"form-inner\">\n            <div class=\"otherCase\">\n              <label class=\"form-label\">Engine Size</label>\n              <div\n                style=\"\n                  display: flex;\n                  flex-direction: row;\n                  gap: 30px;\n                  align-items: center;\n                  margin-top: 0;\n                \"\n              >\n                <div style=\"width: 50%\">\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    appRestrictEnumber\n                    formControlName=\"engine_size\"\n                    placeholder=\"In litres\"\n                  />\n                  <small\n                    class=\"text-danger\"\n                    style=\"width: 100%; display: block; text-align: left\"\n                    *ngIf=\"\n                      engineInformation.controls['engine_size'].touched &&\n                      engineInformation.controls['engine_size'].hasError(\n                        'required'\n                      )\n                    \"\n                  >\n                    Please enter engine size.\n                  </small>\n                  <small\n                    class=\"text-danger\"\n                    style=\"width: 100%; display: block; text-align: left\"\n                    *ngIf=\"\n                      engineInformation.controls['engine_size'].dirty &&\n                      engineInformation.controls['engine_size'].hasError(\n                        'pattern'\n                      )\n                    \"\n                  >\n                    Please enter valid number ex: (1,22).\n                  </small>\n                </div>\n                <span class=\"ldot\"></span>\n                <div style=\"width: 50%\">\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    appRestrictEnumber\n                    placeholder=\"Decimal\"\n                    formControlName=\"engine_size_deci\"\n                  />\n                  <small\n                    class=\"text-danger\"\n                    style=\"width: 100%; display: block; text-align: left\"\n                    *ngIf=\"\n                      engineInformation.controls['engine_size_deci'].dirty &&\n                      engineInformation.controls['engine_size_deci'].hasError(\n                        'pattern'\n                      )\n                    \"\n                  >\n                    Please enter valid number ex: (1,2).\n                  </small>\n                </div>\n              </div>\n            </div>\n            <div class=\"otherCase fullWidth\">\n              <label for=\"vehicle\" class=\"form-label\">Transmission</label>\n              <select class=\"form-select\" formControlName=\"transmission\">\n                <option disabled>Select Transmission</option>\n                <option\n                  *ngFor=\"let transmissionType of vehicleDetails?.transmission\"\n                  [value]=\"transmissionType\"\n                >\n                  {{ transmissionType }}\n                </option>\n              </select>\n              <small\n                class=\"text-danger\"\n                *ngIf=\"\n                  engineInformation.value.transmission ==\n                    'Select Transmission' && showSelectError\n                \"\n              >\n                Please select transmission.\n              </small>\n            </div>\n            <div\n              class=\"otherCase\"\n              *ngIf=\"\n                engineInformation.controls['transmission'].value == 'Other'\n              \"\n            >\n              <label for=\"\"></label>\n              <input\n                type=\"text\"\n                class=\"form-control mt-2\"\n                formControlName=\"other_transmission\"\n                placeholder=\"Enter Transmission \"\n              />\n            </div>\n            <div class=\"otherCase\">\n              <label for=\"vehicle\" class=\"form-label\">Fuel Type</label>\n              <select\n                class=\"form-select\"\n                formControlName=\"fuel_type\"\n                (change)=\"resetCtrlUnit()\"\n              >\n                <option disabled>Select Fuel Type</option>\n                <option\n                  *ngFor=\"let fuelType of vehicleDetails?.fuel_type\"\n                  [value]=\"fuelType\"\n                >\n                  {{ fuelType }}\n                </option>\n              </select>\n            </div>\n            <div\n              class=\"otherCase\"\n              *ngIf=\"engineInformation.controls['fuel_type'].value == 'Other'\"\n            >\n              <label for=\"\"></label>\n              <input\n                type=\"text\"\n                class=\"form-control mt-2\"\n                formControlName=\"other_fuel_type\"\n                placeholder=\"Enter Fuel Type\"\n              />\n            </div>\n\n            <h5\n              style=\"\n                text-align: left;\n                width: 100%;\n              \"\n              class=\"mt-3 main-title\"\n            >\n              Mileage information\n            </h5>\n            <div>\n              <div>\n                <label for=\"vehicle\" class=\"form-label\">Mileage type</label>\n                <div>\n                  <select class=\"form-select\" formControlName=\"mileage_type\">\n                    <option disabled>Select Mileage Type</option>\n                    <option\n                      *ngFor=\"let MileageType of vehicleDetails?.milage\"\n                      [value]=\"MileageType\"\n                    >\n                      {{ MileageType }}\n                    </option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      engineInformation.value.mileage_type ==\n                        'Select Mileage Type' && showSelectError\n                    \"\n                  >\n                    Please select mileage type.\n                  </small>\n                </div>\n              </div>\n              <div>\n                <label>Mileage</label>\n                <div>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    appRestrictEnumber\n                    placeholder=\"Enter Mileage\"\n                    formControlName=\"mileage\"\n                  />\n                  <small\n                    class=\"text-danger\"\n                    *ngIf=\"\n                      engineInformation.controls['mileage'].touched &&\n                      engineInformation.controls['mileage'].hasError('required')\n                    \"\n                  >\n                    Please enter mileage.\n                  </small>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n        <h5 style=\"text-align: left\" class=\"mt-3 main-title\">ECU information</h5>\n        <form [formGroup]=\"ecuInformation\">\n          <div class=\"form-inner mt-4\">\n            <div class=\"otherCase fullWidth\">\n              <label>Control Unit</label>\n              <select\n                class=\"form-select\"\n                formControlName=\"control_unit\"\n                (change)=\"getTuningRequired()\"\n              >\n                <option disabled>Select Control Unit</option>\n                <option\n                  *ngFor=\"let ctrlUnit of vehicleDetails?.control_unit\"\n                  [value]=\"ctrlUnit\"\n                >\n                  {{ ctrlUnit }}\n                </option>\n              </select>\n              <small\n                class=\"text-danger\"\n                *ngIf=\"\n                  ecuInformation.value.control_unit == 'Select Control Unit' &&\n                  showSelectError\n                \"\n              >\n                Please select control unit.\n              </small>\n            </div>\n            <div\n              class=\"otherCase\"\n              *ngIf=\"ecuInformation.controls['control_unit'].value == 'Other'\"\n            >\n              <label for=\"\"></label>\n              <input\n                type=\"text\"\n                class=\"form-control mt-2\"\n                formControlName=\"other_control_unit\"\n                placeholder=\"Enter Control Unit\"\n              />\n            </div>\n            <div>\n              <div *ngIf=\"!showVehicleTypeInput\">\n                <label>ECU Brand</label>\n                <div>\n                  <select\n                    class=\"form-select\"\n                    formControlName=\"ecu_brand\"\n                    (change)=\"\n                      setFuelModel(true); showOtherEcuBrand_version('brand')\n                    \"\n                  >\n                    <option selected disabled>Select ECU Brand</option>\n                    <option *ngFor=\"let ecu of uniqueBrands\" [value]=\"ecu?.id\">\n                      {{ ecu?.ecu_brand }}\n                    </option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    style=\"top: 48px !important\"\n                    *ngIf=\"\n                      ecuInformation.value.ecu_version == 'Select ECU Brand' &&\n                      showSelectError\n                    \"\n                  >\n                    Please select Ecu Brand.\n                  </small>\n                </div>\n                <!-- <div *ngIf=\"showVehicleTypeInput\">\n                  <input type=\"text\" class=\"form-control mt-2\" formControlName=\"other_ecu_brand\"\n                    placeholder=\"Enter ECU Brand\">\n                </div> -->\n                <div class=\"mt-4\" *ngIf=\"showEcuBrand\">\n                  <input\n                    type=\"text\"\n                    class=\"form-control mt-2\"\n                    formControlName=\"other_ecu_brand\"\n                    placeholder=\"Enter ECU Brand\"\n                  />\n                </div>\n              </div>\n              <div>\n                <label>ECU Version</label>\n                <div>\n                  <!-- setFuelModel(); -->\n                  <select\n                    class=\"form-select\"\n                    formControlName=\"ecu_version\"\n                    (change)=\"showOtherEcuBrand_version('version')\"\n                  >\n                    <option selected disabled>Select ECU Version</option>\n                    <option\n                      *ngFor=\"let ecu of newECU_versionList\"\n                      [value]=\"ecu?.ecu_version\"\n                    >\n                      {{ ecu?.ecu_version }}\n                    </option>\n                  </select>\n                  <small\n                    class=\"text-danger\"\n                    style=\"top: 48px !important\"\n                    *ngIf=\"\n                      ecuInformation.value.ecu_version ==\n                        'Select ECU Version' && showSelectError\n                    \"\n                  >\n                    Please select Ecu Version.\n                  </small>\n                </div>\n                <div\n                  class=\"mt-4\"\n                  *ngIf=\"\n                    showEcuVersion ||\n                    ecuInformation.value.ecu_version == 'Other'\n                  \"\n                >\n                  <input\n                    type=\"text\"\n                    class=\"form-control mt-2\"\n                    formControlName=\"other_ecu_version\"\n                    placeholder=\"Enter ECU Version\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n        <h5 style=\"text-align: left\" class=\"mt-3 main-title\">Additional information</h5>\n        <div [formGroup]=\"additionalInformation\" class=\"pt-4\">\n          <div class=\"form-inner\">\n            <div class=\"otherCase fullWidth\" (click)=\"showMultiselect = false\">\n              <label for=\"vehicle\" class=\"form-label\">Country/Location</label>\n\n              <ng-select class=\"form-control custom\" formControlName=\"country\">\n                <ng-option selected disabled>Select Your Country</ng-option>\n                <ng-option\n                  *ngFor=\"let country of countryData\"\n                  [value]=\"country?.country\"\n                >\n                  {{ country?.country }}\n                  <img width=\"20px\" [src]=\"country?.flag\" alt=\"\" />\n                </ng-option>\n              </ng-select>\n              <small\n                class=\"text-danger\"\n                style=\"top: 48px !important\"\n                *ngIf=\"\n                  additionalInformation.value.country ==\n                    'Select Your Country' && showSelectError\n                \"\n              >\n                Please select country.\n              </small>\n            </div>\n            <div\n              class=\"otherCase fullWidth\"\n              style=\"margin-top: 10px !important\"\n              (click)=\"showMultiselect = false\"\n            >\n              <label for=\"vehicle\" class=\"form-label\">Tuning Required</label>\n              <select\n                class=\"form-select\"\n                formControlName=\"tuning_required\"\n                (change)=\"\n                  masterCalculation(masterCalculationData, 'tuning_required')\n                \"\n              >\n                <option disabled>Select Tuning Required</option>\n                <option\n                  *ngFor=\"let tuning of tuningRequiredList\"\n                  [value]=\"tuning.value\"\n                >\n                  {{ tuning.name }}\n                </option>\n              </select>\n              <small\n                class=\"text-danger\"\n                *ngIf=\"\n                  additionalInformation.value.tuning_required ==\n                    'Select Tuning Required' && showSelectError\n                \"\n              >\n                Please select tuning required.\n              </small>\n            </div>\n            <div\n              class=\"otherCase\"\n              style=\"margin-top: 10px !important\"\n              *ngIf=\"showAdditonalFunction\"\n            >\n              <label click=\"showMultiselect = false\" for=\"password\"\n                >Additional Function</label\n              >\n              <div\n                class=\"additionalFucntion\"\n                style=\"padding-top: 18px !important\"\n              >\n                <div\n                  *ngFor=\"let addFun of additionalFunctionList; let i = index\"\n                >\n                  <input\n                    (click)=\"selectAddFun(i)\"\n                    [checked]=\"selectAdditionalFun[i]\"\n                    type=\"checkbox\"\n                    name=\"\"\n                    id=\"\"\n                  />\n                  <label for=\"\">{{ addFun }}</label>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"otherCase\"\n              click=\"showMultiselect = false\"\n              *ngIf=\"showAddiInfoOtherBox\"\n            >\n              <label for=\"\"></label>\n              <input\n                type=\"text\"\n                class=\"form-control mt-2\"\n                formControlName=\"other_additional_function\"\n                placeholder=\"Enter Additional Function\"\n              />\n            </div>\n            <div\n              class=\"otherCase\"\n              style=\"margin-top: 10px !important\"\n              (click)=\"showMultiselect = false\"\n              class=\"w100\"\n            >\n              <label for=\"\">Additional Info</label>\n              <textarea\n                class=\"form-control\"\n                formControlName=\"additional_info\"\n                placeholder=\"Please list any additional information related to your file. For any DTC removal you must list the DTC and its full description here.\"\n              ></textarea>\n            </div>\n            <div class=\"otherCase\" class=\"w100 mt-4\">\n              <label (click)=\"showMultiselect = false\" for=\"\"\n                >Upload File</label\n              >\n              <div class=\"reldiv\">\n                <p (click)=\"showMultiselect = false\" *ngIf=\"!fileName\">\n                  Drag and Drop the files here\n                </p>\n                <span (click)=\"showMultiselect = false\" *ngIf=\"!fileName\"\n                  >OR</span\n                >\n                <p (click)=\"showMultiselect = false\" *ngIf=\"!fileName\">\n                  Browse file\n                </p>\n                <p *ngIf=\"fileName\">{{ fileName }}</p>\n                <input\n                  type=\"file\"\n                  class=\"form-control my-0\"\n                  (change)=\"fileUpload($event)\"\n                />\n              </div>\n            </div>\n            <div class=\"w100 otherCase\" (click)=\"showMultiselect = false\">\n              <label for=\"\">Credit Required</label>\n              <div class=\"responsiveCredit tablet\">\n                <table class=\"creditbl bg-input\">\n                  <thead>\n                    <th>Credit</th>\n                    <th>Credit required</th>\n                    <th>Balance</th>\n                    <th>Purchase required</th>\n                  </thead>\n                  <tbody>\n                    <tr *ngIf=\"onlyFileKeyCredit\">\n                      <td>File key credit</td>\n                      <td>{{ fileCreditRequired || 0 }}</td>\n                      <td>{{ users?.customer_credit?.file_key_credit }}</td>\n                      <td\n                        [ngStyle]=\"{\n                          color: filePurchaseRequired > 0 ? 'red' : 'black'\n                        }\"\n                      >\n                        {{\n                          filePurchaseRequired > 0 ? filePurchaseRequired : \"0\"\n                        }}\n                      </td>\n                    </tr>\n                    <tr\n                      *ngIf=\"\n                        users?.role != 'INDIVIDUAL_CUSTOMER' &&\n                        onlyFuntionKeyCredit\n                      \"\n                    >\n                      <td>Function key credit</td>\n                      <td>{{ functionCreditRequired || 0 }}</td>\n                      <td>{{ users?.customer_credit?.function_credit }}</td>\n                      <td\n                        [ngStyle]=\"{\n                          color: functionPurchaseRequired > 0 ? 'red' : 'black'\n                        }\"\n                      >\n                        {{\n                          functionPurchaseRequired > 0\n                            ? functionPurchaseRequired\n                            : \"0\"\n                        }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"responsiveCredit mobile\">\n                <table class=\"creditbl bg-input\">\n                  <thead>\n                    <th>Credit</th>\n                    <th *ngIf=\"onlyFileKeyCredit\">File key credit</th>\n                    <th *ngIf=\"\n                      users?.role != 'INDIVIDUAL_CUSTOMER' &&\n                      onlyFuntionKeyCredit\n                      \">\n                      Function key credit\n                    </th>\n                  </thead>\n                  <tbody>\n\n                    <tr>\n                      <th>Credit required</th>\n                      <td *ngIf=\"onlyFileKeyCredit\">{{ fileCreditRequired || 0 }}</td>\n                      <td *ngIf=\"users?.role != 'INDIVIDUAL_CUSTOMER' && onlyFuntionKeyCredit\">\n                        {{ functionCreditRequired || 0 }}\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>Balance</th>\n                      <td *ngIf=\"onlyFileKeyCredit\">{{ users?.customer_credit?.file_key_credit }}</td>\n                      <td *ngIf=\"users?.role != 'INDIVIDUAL_CUSTOMER' && onlyFuntionKeyCredit\">\n                        {{ users?.customer_credit?.function_credit }}\n                      </td>\n                    </tr>\n                    \n                    <tr >\n                      <th>Purchase required</th>\n                      <td\n                        *ngIf=\"onlyFileKeyCredit\"\n                        [ngStyle]=\"{color: filePurchaseRequired > 0 ? 'red' : 'black'}\">\n                        {{ filePurchaseRequired > 0 ? filePurchaseRequired : \"0\" }}\n                      </td>\n                      <td\n                        *ngIf=\"users?.role != 'INDIVIDUAL_CUSTOMER' &&onlyFuntionKeyCredit\"\n                        [ngStyle]=\"{color: functionPurchaseRequired > 0 ? 'red' : 'black' }\">\n                          {{\n                            functionPurchaseRequired > 0\n                              ? functionPurchaseRequired\n                              : \"0\"\n                          }}\n                        </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            <div>\n              <div\n                class=\"text-center termcondition\"\n                style=\"margin: 0px; align-items: center !important\"\n              >\n                <div style=\"justify-content: center\">\n                  <input type=\"checkbox\" (click)=\"acceptTermCond()\" />\n                  <p>\n                    By clicking Register, you agree to our\n                    <a routerLink=\"/terms-and-conditions\" target=\"_blank\"\n                      >Terms & conditions\n                    </a>\n                    and\n                    <a target=\"_blank\" routerLink=\"/privacy\">Privacy Policy.</a>\n                  </p>\n                </div>\n                <small\n                  class=\"text-danger\"\n                  *ngIf=\"!acceptTermBusi && acceptTermCondCount > 0\"\n                >\n                  Please select terms & conditions.\n                </small>\n              </div>\n            </div>\n\n            <div\n              click=\"showMultiselect = false\"\n              class=\"btnDiv\"\n              style=\"justify-content: center !important\"\n              *ngIf=\"onlyFileKeyCredit\"\n            >\n              <button class=\"btn-secondary\" (click)=\"resetForm()\">Reset</button>\n              <button\n              *ngIf=\"filePurchaseRequired > 0 && users?.role != 'DEALER'\"\n                class=\"btn-primary\"\n                (click)=\"buyNow()\"\n              >\n                Buy Now\n              </button>\n              <button\n                *ngIf=\"filePurchaseRequired <= 0\"\n                class=\"btn-primary\"\n                [disabled]=\"isLoading\"\n                (click)=\"submitForm('finalSubmit')\"\n              >\n                Submit\n              </button>\n            </div>\n            <div\n              click=\"showMultiselect = false\"\n              class=\"btnDiv\"\n              style=\"justify-content: center !important\"\n              *ngIf=\"onlyFuntionKeyCredit\"\n            >\n              <button class=\"btn-secondary\" (click)=\"resetForm()\">Reset</button>\n              <button\n                *ngIf=\"functionPurchaseRequired > 0 && users?.role != 'DEALER'\"\n                class=\"fbtn\"\n                (click)=\"buyNow()\"\n              >\n                Buy Now\n              </button>\n              <button\n                *ngIf=\"functionPurchaseRequired <= 0\"\n                class=\"btn-primary\"\n                [disabled]=\"isLoading\"\n                (click)=\"submitForm('finalSubmit')\"\n              >\n                Submit\n              </button>\n            </div>\n            <div\n              class=\"d-flex justify-content-center mt-3\"\n              *ngIf=\"\n                onlyFileKeyCredit &&\n                filePurchaseRequired &&\n                filePurchaseRequired > 0 &&\n                users?.role == 'DEALER'\n              \"\n            >\n              <p class=\"text-danger text-center\">\n                You don't have sufficient credits , please contact your reseller\n                for the credits.\n              </p>\n            </div>\n            <div\n              class=\"d-flex justify-content-center mt-3\"\n              *ngIf=\"\n                onlyFuntionKeyCredit &&\n                functionCreditRequired &&\n                functionPurchaseRequired > 0 &&\n                users?.role == 'DEALER'\n              \"\n            >\n              <p class=\"text-danger text-center\">\n                You don't have sufficient credits , please contact your reseller\n                for the credits.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</section>\n","<section class=\"file-services\">\n  <ul class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\"><a routerLink=\"/customer\">Home</a></li>\n    <li class=\"breadcrumb-item\">\n      <a routerLink=\"/file-service/file-services\">File Services </a>\n    </li>\n    <li class=\"breadcrumb-item\">\n      <a routerLink=\"/admin/fileservice/view\" routerLinkActive=\"active\"\n        >File Services Form Details</a\n      >\n    </li>\n  </ul>\n  <div class=\"ulist-div\">\n    <div\n      class=\"service-header d-flex justify-content-between align-items-center\"\n    >\n      <h2>File Service Form Details</h2>\n      <div>\n        <button\n          class=\"backBtn\"\n          (click)=\"getFileList()\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#chngeEmailModal\"\n        >\n          <i class=\"fa fa-download\" title=\"Download\"></i>\n        </button>\n        <!-- <a class=\"eyeIcon\" (click)=\"getFileList()\" data-bs-toggle=\"modal\"\n                data-bs-target=\"#chngeEmailModal\"><i class=\"fa fa-download\" title=\"Download\" aria-hidden=\"true\"></i></a> -->\n        <button class=\"backBtn\" routerLink=\"/file-service/file-services\">\n          <i class=\"fa fa-long-arrow-left\" aria-hidden=\"true\"></i>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"formData\">\n      <div>\n        <label>Customer Name</label>\n        <p>\n          {{ requestDetail?.customer_first_name }}\n          {{ requestDetail?.customer_last_name }}\n        </p>\n      </div>\n      <div>\n        <label>Company Name</label>\n        <p>{{ requestDetail?.user?.company_name }}</p>\n      </div>\n      <div>\n        <label>Vehicle Type</label>\n        <p>{{ requestDetail?.vehicle_type }}</p>\n      </div>\n      <div>\n        <label>Vehicle Make</label>\n        <p>{{ requestDetail?.vehicle_make }}</p>\n      </div>\n      <div>\n        <label>Vehicle Model</label>\n        <p>{{ requestDetail?.model }}</p>\n      </div>\n      <div>\n        <label>Vehicle Registration</label>\n        <p>{{ requestDetail?.vehicle_registration }}</p>\n      </div>\n      <div>\n        <label>Vehicle Year</label>\n        <p>{{ requestDetail?.vehicle_year }}</p>\n      </div>\n      <div>\n        <label>Vehicle VIN</label>\n        <p>{{ requestDetail?.vehicle_VIN }}</p>\n      </div>\n      <div>\n        <label>Engine Size</label>\n        <p>{{ requestDetail?.engine_size }}</p>\n      </div>\n      <div>\n        <label>Transmission</label>\n        <p>{{ requestDetail?.transmission }}</p>\n      </div>\n      <div>\n        <label>Fuel Type</label>\n        <p>{{ requestDetail?.fuel_type }}</p>\n      </div>\n      <div>\n        <label>Mileage Type</label>\n        <p>{{ requestDetail?.mileage_type }}</p>\n      </div>\n      <div>\n        <label>Mileage</label>\n        <p>{{ requestDetail?.mileage }}</p>\n      </div>\n      <div>\n        <label>ECU Brand</label>\n        <p>{{ requestDetail?.ecu_brand }}</p>\n      </div>\n      <div>\n        <label>ECU Version</label>\n        <p>{{ requestDetail?.ecu_version }}</p>\n      </div>\n      <div>\n        <label>Control Unit</label>\n        <p>{{ requestDetail?.control_unit }}</p>\n      </div>\n      <div>\n        <label>File Type</label>\n        <p>{{ requestDetail?.file_type }}</p>\n      </div>\n      <div>\n        <label>Country/Location</label>\n        <p>{{ requestDetail?.country }}</p>\n      </div>\n      <div>\n        <label>Tuning Tool Used</label>\n        <p>{{ requestDetail?.tuning_tool_used }}</p>\n      </div>\n      <div>\n        <label>Tuning Required</label>\n        <p>{{ requestDetail?.tuning_required }}</p>\n      </div>\n      <div>\n        <label>Additional Info</label>\n        <p>{{ requestDetail?.additional_info }}</p>\n      </div>\n      <div>\n        <label>Additional Function</label>\n        <p>{{ requestDetail?.additional_function }}</p>\n      </div>\n      <div>\n        <label>Other Fields</label>\n        <p>{{ requestDetail?.other_fields | titlecase }}</p>\n      </div>\n    </div>\n  </div>\n</section>\n<!-- The file download modal -->\n<div class=\"modal\" id=\"chngeEmailModal\">\n  <div class=\"v-align\">\n    <div class=\"modal-dialog download\" [class.super]=\"hasAdditionalFunctionColumn\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\">Download files</h4>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Maximum file download limit: 5</p>\n          <div class=\"responsive-tbl\">\n            <table>\n              <thead>\n                <th>Title</th>\n                <th>Created at</th>\n                <th>Download</th>\n                <!-- <th>Size</th> -->\n                <th>Download Count</th>\n                <th *ngIf=\"hasAdditionalFunctionColumn\">Additional Function Requirements</th>\n              </thead>\n              <tr *ngFor=\"let file of downloadFileList; let i = index\">\n                <td>{{ file?.newTitle[file?.newTitle.length - 1] }}</td>\n                <td>{{ file.created_at | date : \"dd MMM y\" }}</td>\n                <td style=\"text-align: center !important\">\n                  <a class=\"eyeIcon\" (click)=\"downloadFIle(file, i)\"\n                    ><i\n                      class=\"fa fa-download\"\n                      title=\"Download\"\n                      aria-hidden=\"true\"\n                    ></i\n                  ></a>\n                </td>\n                <!-- <td>{{file?.file_size | fileSize}}</td> -->\n                <td style=\"text-align: center !important\">\n                  {{ file.downloaded_times ? file.downloaded_times : 0 }}\n                </td>\n                <td *ngIf=\"hasAdditionalFunctionColumn\">\n                  <ul class=\"ps-0\">\n                    <li *ngFor=\"let item of file?.functionList\">\n                      <b>{{item.key}}: </b>\n                        <span>{{item.value}}</span>\n                    </li>\n                  </ul>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FileServicesComponent } from './file-services/file-services.component';\nimport { MyFileServiceComponent } from './my-file-service.component';\nimport { RequestFileServiceComponent } from './request-file-service/request-file-service.component';\nimport { ViewFileRequestComponent } from './view-file-request/view-file-request.component';\n\nconst routes: Routes = [\n  { path: '', component:MyFileServiceComponent, children:[\n   {path:'',component:RequestFileServiceComponent},\n   {path:'file-services',component:FileServicesComponent},\n   { path: 'view-request/:id', component: ViewFileRequestComponent }\n   \n  ]} \n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MyFileServiceRoutingModule { }\n","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Title } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { CustomerService } from 'src/app/admin/services/customer.service';\nimport { countryDetails } from 'src/app/global-files/global.const';\nimport { CrudService } from 'src/app/services/crud.service';\nimport { cusRequestUrl } from 'src/app/services/customerReqUrl.const';\nimport { NotificationsService } from 'src/services/notifications.service';\n@Component({\n  selector: 'app-request-file-service',\n  templateUrl: './request-file-service.component.html',\n  styleUrls: ['./request-file-service.component.scss'],\n})\nexport class RequestFileServiceComponent {\n  vehicleInformation!: FormGroup;\n  engineInformation!: FormGroup;\n  ecuInformation!: FormGroup;\n  additionalInformation!: FormGroup;\n  vehicle_step = false;\n  engine_step = false;\n  ecu_step = false;\n  additional_step = false;\n  step = 1;\n  countries = require('country-data-list').countries;\n  vehicleTypes: any;\n  vehicleDetails: any;\n  vehicleBrandList: any = [];\n  modelList: any = [];\n  ecuBrandList: any = [];\n  showVehicleTypeInput: boolean = false;\n  formData = new FormData();\n  formData3 = new FormData();\n  ticketFormData = new FormData();\n  yearCount: number = 0;\n  year: number = 0;\n  additionalFunctionList: any[] = [];\n  tuningRequiredList: any[] = [];\n  showAdditonalFunction: boolean = false;\n  ticketCreateForm: FormGroup;\n  ticketCategories: any = [];\n  // previewSrc: any;\n  showMultiselect: boolean = false;\n  selectAdditionalFun: any[] = [];\n  tuningToolUsedList: any;\n  users: any;\n  buyItemDetail: any;\n  masterCalculationData: any;\n  fileCreditRequired: any = 0;\n  functionCreditRequired: any = 0;\n  filePurchaseRequired: any = 0;\n  functionPurchaseRequired: any;\n  onlyFileKeyCredit: boolean = true;\n  onlyFuntionKeyCredit: boolean = false;\n  submitRequest: any;\n  fileName: string = '';\n  acceptTermBusi: boolean = false;\n  showSelectError: boolean = false;\n  showOtherVehicleType: boolean = false;\n  showOtherVehicleMake: boolean = false;\n  showOtherModel: boolean = false;\n\n  isLoading = false;\n\n  // A list of fields names where selected dropdown value is Other\n  other_fields: any = [];\n\n  uploadedFile:any;\n\n  constructor(\n    private customer: CustomerService,\n    private crud: CrudService,\n    private ar: ActivatedRoute,\n    private formBuilder: FormBuilder,\n    private toastr: ToastrService,\n    private route: Router,\n    private _titleservice: Title,\n    private notification: NotificationsService\n  ) {\n    this._titleservice.setTitle('File Submission');\n    this.vehicleInformation = this.formBuilder.group({\n      customer_first_name: [''],\n      customer_last_name: [''],\n      vehicle_type: ['Select Vehicle Type', Validators.required],\n      other_vehicle_type: [''],\n      vehicle_make: ['Select Vehicle Make', Validators.required],\n      other_vehicle_make: [''],\n      model: ['Select Vehicle Model', Validators.required],\n      other_model: [''],\n      vehicle_registration: ['', Validators.required],\n      vehicle_year: ['Select Vehicle Year', Validators.required],\n      vehicle_VIN: ['', Validators.required],\n      file_type: ['Select File Type', Validators.required],\n      tuning_tool_used: ['Select Tuning Tool', Validators.required],\n      other_tuning_tool_used: [''],\n    });\n    this.engineInformation = this.formBuilder.group({\n      engine_size: ['', [Validators.required, Validators.pattern(/^\\d+$/)]],\n      engine_size_deci: ['', [Validators.pattern(/^[0-9]$/)]],\n      transmission: ['Select Transmission', Validators.required],\n      other_transmission: [''],\n      fuel_type: ['Select Fuel Type', Validators.required],\n      other_fuel_type: [''],\n      mileage_type: ['Select Mileage Type', Validators.required],\n      mileage: ['', Validators.required],\n    });\n    this.ecuInformation = this.formBuilder.group({\n      ecu_brand: ['Select ECU Brand', Validators.required],\n      other_ecu_brand: [''],\n      ecu_version: ['Select ECU Version', Validators.required],\n      other_ecu_version: [''],\n      control_unit: ['Select Control Unit', Validators.required],\n      other_control_unit: ['', Validators.required],\n    });\n    this.additionalInformation = this.formBuilder.group({\n      country: ['Select Your Country', Validators.required],\n      additional_function: ['', Validators.required],\n      other_additional_function: ['', Validators.required],\n      tuning_required: ['Select Tuning Required', Validators.required],\n      additional_info: ['', Validators.required],\n    });\n    this.ticketCreateForm = this.formBuilder.group({\n      subject: ['', [Validators.required]],\n      category: ['', [Validators.required]],\n      file_request: ['', []],\n      description: ['', [Validators.required]],\n    });\n  }\n  obj: any = [\n    { alpha2: 'US', name: 'United States' },\n    { alpha2: 'GB', name: 'United Kingdom' },\n  ];\n  uniqueECUBrand: any = [];\n  unique: any = [];\n  countryData = countryDetails;\n\n\n\n\n  ngOnInit() {\n    console.log(\"Remove master function2\");\n    \n    this.countryData.sort((a: any, b: any) => (a.country > b.country ? 1 : -1));\n    this.obj.forEach((element: any) => {\n      this.moveCountryOnTop(element.name);\n    });\n    const d = new Date();\n    this.year = d.getFullYear();\n    this.yearCount = this.year - 1980;\n    this.users = JSON.parse(localStorage.getItem('userdetails') || '');\n    this.ar.queryParams.subscribe((params) => {\n      this.submitRequest = params['submitRequest'];\n    });\n\n    this.customer.getFileFormData().subscribe((res: any) => {\n      if (res) {\n        this.vehicleDetails = res.data;\n        this.vehicleDetails.control_unit = this.sortEle(\n          this.vehicleDetails.control_unit\n        );\n        let indexOfECU = this.vehicleDetails.control_unit.indexOf('ECU');\n        // Move \"ECU\" to the 0th index\n        if (indexOfECU !== -1) {\n          this.vehicleDetails.control_unit.splice(\n            0,\n            0,\n            this.vehicleDetails.control_unit.splice(indexOfECU, 1)[0]\n          );\n        }\n        this.vehicleDetails.transmission = this.sortEle(\n          this.vehicleDetails.transmission\n        );\n        this.vehicleDetails.fuel_type = this.sortEle(\n          this.vehicleDetails.fuel_type\n        );\n        this.moveOtherInLast(this.vehicleDetails.transmission, 'Other');\n        this.moveOtherInLast(this.vehicleDetails.control_unit, 'Other');\n        this.tuningToolUsedList =\n          this.users.role == 'INDIVIDUAL_CUSTOMER'\n            ? this.vehicleDetails.tuning_tool_used.individual\n            : this.vehicleDetails.tuning_tool_used.business;\n        this.tuningToolUsedList = this.sortEle(this.tuningToolUsedList);\n        this.moveOtherInLast(this.tuningToolUsedList, 'OTHER');\n        // if (this.submitRequest) {\n        //   this.getTuningRequired();\n        // }\n      }\n    });\n\n\n\n    this.crud.getRequest(cusRequestUrl.getVehicleTypeList)\n    .then((res: any) => {\n      this.vehicleTypes = res;\n      this.vehicleTypes = this.sort(this.vehicleTypes, 'name');\n      var a = {\n        id: 0,\n        name: 'Other',\n      };\n      // this.vehicleTypes.push(a);\n\n\n      if (this.submitRequest) {\n        this.buyItemDetail = JSON.parse(\n          localStorage.getItem('buyItemDetail') || ''\n        );\n        if (this.buyItemDetail) {\n          try {\n            this.getTypeCount();\n            this.vehicleInformation.controls['customer_first_name'].setValue(\n              this.buyItemDetail?.vehicleInfo?.customer_first_name\n            );\n            this.vehicleInformation.controls['customer_last_name'].setValue(\n              this.buyItemDetail?.vehicleInfo?.customer_last_name\n            );\n            this.vehicleInformation.controls['vehicle_type'].setValue(\n              this.buyItemDetail?.vehicleInfo?.vehicle_type\n            );\n            this.vehicleInformation.controls['other_vehicle_type'].setValue(\n              this.buyItemDetail?.vehicleInfo?.other_vehicle_type\n            );\n            this.vehicleInformation.controls['vehicle_make'].setValue(\n              this.buyItemDetail?.vehicleInfo?.vehicle_make\n            );\n            this.vehicleInformation.controls['other_vehicle_make'].setValue(\n              this.buyItemDetail?.vehicleInfo?.other_vehicle_make\n            );\n            this.vehicleInformation.controls['model'].setValue(\n              this.buyItemDetail?.vehicleInfo?.model\n            );\n            this.vehicleInformation.controls['other_model'].setValue(\n              this.buyItemDetail?.vehicleInfo?.other_model\n            );\n            this.vehicleInformation.controls['vehicle_registration'].setValue(\n              this.buyItemDetail?.vehicleInfo?.vehicle_registration\n            );\n            this.vehicleInformation.controls['vehicle_year'].setValue(\n              this.buyItemDetail?.vehicleInfo?.vehicle_year\n            );\n            this.vehicleInformation.controls['vehicle_VIN'].setValue(\n              this.buyItemDetail?.vehicleInfo?.vehicle_VIN\n            );\n            this.vehicleInformation.controls['file_type'].setValue(\n              this.buyItemDetail?.vehicleInfo?.file_type\n            );\n            this.vehicleInformation.controls['tuning_tool_used'].setValue(\n              this.buyItemDetail?.vehicleInfo?.tuning_tool_used\n            );\n            this.vehicleInformation.controls['other_tuning_tool_used'].setValue(\n              this.buyItemDetail?.vehicleInfo?.other_tuning_tool_used\n            );\n            this.engineInformation.controls['engine_size'].setValue(\n              this.buyItemDetail?.engineInfo?.engine_size\n            );\n            this.engineInformation.controls['engine_size_deci'].setValue(\n              this.buyItemDetail?.engineInfo?.engine_size_deci\n            );\n            this.engineInformation.controls['transmission'].setValue(\n              this.buyItemDetail?.engineInfo?.transmission\n            );\n            this.engineInformation.controls['fuel_type'].setValue(\n              this.buyItemDetail?.engineInfo?.fuel_type\n            );\n            this.engineInformation.controls['other_fuel_type'].setValue(\n              this.buyItemDetail?.engineInfo?.other_fuel_type\n            );\n            this.engineInformation.controls['mileage_type'].setValue(\n              this.buyItemDetail?.engineInfo?.mileage_type\n            );\n            this.engineInformation.controls['mileage'].setValue(\n              this.buyItemDetail?.engineInfo?.mileage\n            );\n            this.ecuInformation.controls['control_unit'].setValue(\n              this.buyItemDetail?.ecuInfo?.control_unit\n            );\n            this.additionalInformation.controls['country'].setValue(\n              this.buyItemDetail?.additionalInfo?.country\n            );\n\n            // this.buyItemDetail?.additionalFuncArray.forEach((funtion:any) => {\n            //   console.log('fun',funtion);\n\n            //   const i = this.additionalFunctionList.findIndex((el:any) => {\n            //     console.log(el,'ello');\n            //   })\n            // })\n            \n            // this.additionalInformation.controls['additional_function'].setValue(\n            //   this.buyItemDetail?.additionalInfo?.additional_function\n            // );\n            this.additionalInformation.controls[\n              'other_additional_function'\n            ].setValue(\n              this.buyItemDetail?.additionalInfo?.other_additional_function\n            );\n            this.additionalInformation.controls['tuning_required'].setValue(\n              this.buyItemDetail?.additionalInfo?.tuning_required\n            );\n            this.additionalInformation.controls['additional_info'].setValue(\n              this.buyItemDetail?.additionalInfo?.additional_info\n            );\n            // this.a = this.buyItemDetail?.additionalFuncArray;\n\n\n            if (this.buyItemDetail?.vehicleInfo?.other_vehicle_type) {\n              this.showOtherVehicleType = true;\n              var ab = {\n                id: 0,\n                brand_name: 'Other',\n              };\n              this.vehicleBrandList.push(ab);\n              this.vehicleInformation.controls['other_vehicle_type'].setValue(\n                this.buyItemDetail?.vehicleInfo?.other_vehicle_type\n              );\n              this.vehicleInformation.controls['vehicle_type'].setValue(0);\n            }\n            if (this.buyItemDetail?.vehicleInfo?.other_vehicle_make) {\n              this.showOtherVehicleMake = true;\n              var b = {\n                id: 0,\n                model_name: 'Other',\n                file_key_credit: 1,\n              };\n              this.modelList.push(b);\n              this.vehicleInformation.controls['other_vehicle_make'].setValue(\n                this.buyItemDetail?.vehicleInfo?.other_vehicle_make\n              );\n              this.vehicleInformation.controls['vehicle_make'].setValue(0);\n            }\n            if (this.buyItemDetail?.vehicleInfo?.other_model) {\n              this.showOtherModel = true;\n              this.vehicleInformation.controls['other_model'].setValue(\n                this.buyItemDetail?.vehicleInfo?.other_model\n              );\n              this.vehicleInformation.controls['model'].setValue(0);\n              this.getTuningRequired(true);\n            }\n            if (this.buyItemDetail?.vehicleInfo?.other_tuning_tool_used) {\n              this.vehicleInformation.controls[\n                'other_tuning_tool_used'\n              ].setValue(\n                this.buyItemDetail?.vehicleInfo?.other_tuning_tool_used\n              );\n              this.vehicleInformation.controls['tuning_tool_used'].setValue(\n                'Other'\n              );\n            }\n            if (this.buyItemDetail?.engineInfo?.other_transmission) {\n              this.engineInformation.controls['other_transmission'].setValue(\n                this.buyItemDetail?.engineInfo?.other_transmission\n              );\n              this.engineInformation.controls['transmission'].setValue('Other');\n            }\n            if (this.buyItemDetail?.ecuInfo?.other_control_unit) {\n              this.ecuInformation.controls['other_control_unit'].setValue(\n                this.buyItemDetail?.ecuInfo?.other_control_unit\n              );\n              this.ecuInformation.controls['control_unit'].setValue('Other');\n            }\n\n            // this.tab = 'form4';\n          } catch (error) {\n            console.log(error, 'error in file request');\n          }\n        }\n        this.getVehicleBrands(true);\n      }\n    });\n    this.getTicketCategory();\n\n    this.getTypeCount();\n  }\n\n  sortEle(arr: any) {\n    return arr.sort((a: any, b: any) => {\n      return a.toLowerCase().localeCompare(b.toLowerCase());\n    });\n  }\n\n\n  sort(array: any, key: any) {\n    return array.sort((a: any, b: any) => {\n      var nameA = a[key].toUpperCase();\n      var nameB = b[key].toUpperCase();\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n\n\n  moveCountryOnTop(name: string) {\n    const index = this.countryData.findIndex(\n      (item: any) => item.country === name\n    );\n    if (index !== -1) {\n      const removedObject = this.countryData.splice(index, 1)[0];\n      this.countryData.unshift(removedObject);\n    }\n  }\n\n\n  getTicketCategory() {\n    this.crud.getRequest(cusRequestUrl.getTicketCategory).then((res: any) => {\n      if (res) {\n        this.ticketCategories = res.data.results;\n        this.ticketCreateForm.patchValue({\n          category: this.ticketCategories[0].id,\n        });\n      }\n    });\n  }\n\n\n  getVehicleBrands(autocall?: boolean) {\n    // this.vehicleTypes.forEach((element: any) => {\n    //   if (element.id == this.vehicleInformation.controls['vehicle_type'].value && element.name == 'Other')\n    //     this.showVehicleTypeInput = true;\n    //   else\n    //     this.showVehicleTypeInput = false;\n    // });\n    this.vehicleBrandList = [];\n\n    if (this.vehicleInformation.controls['vehicle_type'].value != 0) {\n      this.crud\n        .getRequest(\n          `${cusRequestUrl.getVehicleBrandList}${this.vehicleInformation.controls['vehicle_type'].value}`\n        )\n        .then((res: any) => {\n          if (res) {\n            this.vehicleBrandList = res;\n            this.vehicleBrandList = this.sort(\n              this.vehicleBrandList,\n              'brand_name'\n            );\n            var a = {\n              id: 0,\n              brand_name: 'Other',\n            };\n            this.vehicleBrandList.push(a);\n            // if (!this.submitRequest)\n            //   this.vehicleInformation.controls['vehicle_make'].setValue(this.vehicleBrandList[0]?.id)\n            // this.getBrandModel();\n            if (autocall) {\n              this.getBrandModel(true);\n            }\n          }\n        });\n    }\n  }\n\n  getBrandModel(autoCall?: boolean) {\n    if (this.vehicleInformation.controls['vehicle_make'].value != 0) {\n      this.crud\n        .getRequest(\n          `${cusRequestUrl.getBrandModal}${this.vehicleInformation.controls['vehicle_make'].value}`\n        )\n        .then((res: any) => {\n          if (res) {\n            this.modelList = res;\n            this.modelList = this.sort(this.modelList, 'model_name');\n            var a = {\n              id: 0,\n              model_name: 'Other',\n              file_key_credit: 1,\n            };\n            this.modelList.push(a);\n            // if (!this.submitRequest) {\n            //   this.vehicleInformation.controls['model'].setValue(this.modelList[0].id)\n            //   this.masterCalculation(res[0], 'file_upload')\n            // }\n            if (autoCall) {\n              this.modelList.forEach((element: any) => {\n                if (\n                  element.id == this.vehicleInformation.controls['model'].value\n                )\n                  this.masterCalculation(element, 'file_upload');\n              });\n              this.getVehicleControlList();\n            }\n            // this.getVehicleControlList();\n          }\n        });\n    }\n  }\n\n\n  otherVehicleDetailBoxController(type: string) {\n    var a = {\n      id: 0,\n      brand_name: 'Other',\n    };\n    var ab = {\n      id: 0,\n      model_name: 'Other',\n      file_key_credit: 1,\n    };\n    if (type != 'model') this.modelList.push(ab);\n    if (type == 'vehicleType') {\n      this.vehicleBrandList = [];\n      this.modelList = [];\n      this.showOtherVehicleType =\n        this.vehicleInformation.value.vehicle_type == 0 ? true : false;\n      // this.showOtherVehicleMake = this.vehicleInformation.value.vehicle_type == 0 ? true : false;\n      // this.showOtherModel = this.vehicleInformation.value.vehicle_type == 0 ? true : false;\n      this.showOtherVehicleMake = false;\n      this.showOtherModel = false;\n      this.vehicleBrandList.push(a);\n      this.modelList.push(ab);\n      this.vehicleInformation.controls['other_vehicle_type'].setValue('');\n      this.vehicleInformation.controls['other_vehicle_make'].setValue('');\n      this.vehicleInformation.controls['other_model'].setValue('');\n      this.vehicleInformation.controls['vehicle_make'].setValue(\n        'Select Vehicle Make'\n      );\n      this.vehicleInformation.controls['model'].setValue(\n        'Select Vehicle Model'\n      );\n    } else if (type == 'vehicleMake') {\n      this.modelList = [];\n      this.showOtherVehicleMake =\n        this.vehicleInformation.value.vehicle_make == 0 ? true : false;\n      // this.showOtherModel = this.vehicleInformation.value.vehicle_make == 0 ? true : false;\n      this.showOtherModel = false;\n      this.modelList.push(ab);\n      this.vehicleInformation.controls['model'].setValue(\n        'Select Vehicle Model'\n      );\n      this.vehicleInformation.controls['other_vehicle_make'].setValue('');\n      this.vehicleInformation.controls['other_model'].setValue('');\n    } else if (type == 'model') {\n      this.showOtherModel =\n        this.vehicleInformation.value.model == 0 ? true : false;\n      this.vehicleInformation.controls['other_model'].setValue('');\n      // this.modelList.push(ab);\n    }\n    this.resetEcuBrandVersion(true);\n  }\n\n  masterCalculation(detail: any, type?: string) {\n    this.masterCalculationData = detail;\n    if (detail?.file_key_credit > 1) {\n      this.fileCreditRequired = detail?.file_key_credit;\n      this.filePurchaseRequired =\n        this.fileCreditRequired - this.users?.customer_credit.file_key_credit;\n      this.onlyFuntionKeyCredit = false;\n      this.onlyFileKeyCredit = true;\n    } else {\n      if (\n        this.additionalInformation.controls['tuning_required'].value !=\n        'NO TUNE'\n      ) {\n        if (\n          this.additionalInformation.controls[\n            'additional_function'\n          ].value.includes('Other')\n        ) {\n          this.onlyFuntionKeyCredit = false;\n          this.onlyFileKeyCredit = true;\n          this.fileCreditRequired = detail?.file_key_credit;\n          this.filePurchaseRequired =\n            this.fileCreditRequired -\n            this.users.customer_credit.file_key_credit;\n        } else {\n          this.onlyFuntionKeyCredit = false;\n          this.onlyFileKeyCredit = true;\n          this.fileCreditRequired = detail?.file_key_credit;\n          this.filePurchaseRequired =\n            this.fileCreditRequired -\n            this.users.customer_credit.file_key_credit;\n        }\n      } else {\n        if (\n          this.additionalInformation.controls[\n            'additional_function'\n          ].value.includes('Other')\n        ) {\n          this.onlyFuntionKeyCredit = false;\n          this.onlyFileKeyCredit = true;\n          this.fileCreditRequired = detail?.file_key_credit;\n          this.filePurchaseRequired =\n            this.fileCreditRequired -\n            this.users?.customer_credit.file_key_credit;\n        } else {\n          if (this.a.length == 1) {\n            if (this.a[0] == 'Adblue') {\n              this.onlyFuntionKeyCredit = false;\n              this.onlyFileKeyCredit = true;\n              this.fileCreditRequired = 1;\n              this.filePurchaseRequired =\n                this.fileCreditRequired -\n                this.users?.customer_credit.file_key_credit;\n            } else {\n              this.onlyFuntionKeyCredit =\n                this.users.role == 'INDIVIDUAL_CUSTOMER' ? false : true;\n              this.onlyFileKeyCredit =\n                this.users.role == 'INDIVIDUAL_CUSTOMER' ? true : false;\n              if (this.users.role == 'INDIVIDUAL_CUSTOMER') {\n                this.fileCreditRequired = 1;\n                this.filePurchaseRequired =\n                  this.fileCreditRequired -\n                  this.users?.customer_credit.file_key_credit;\n              } else {\n                this.functionCreditRequired = detail?.file_key_credit;\n                this.functionPurchaseRequired =\n                  this.functionCreditRequired -\n                  this.users?.customer_credit.function_credit;\n              }\n            }\n          } else if (this.a.length > 1 || this.a.length == 0) {\n            this.onlyFuntionKeyCredit = false;\n            this.onlyFileKeyCredit = true;\n            this.fileCreditRequired = detail?.file_key_credit;\n            this.filePurchaseRequired =\n              this.fileCreditRequired -\n              this.users?.customer_credit.file_key_credit;\n          }\n        }\n      }\n    }\n  }\n  \n  getTypeCount() {\n    this.crud.getRequest(cusRequestUrl.getCustomerProfile).then((res: any) => {\n      localStorage.setItem('userdetails', JSON.stringify(res.data));\n      this.users = JSON.parse(localStorage.getItem('userdetails') || '');\n      if (!this.submitRequest)\n        this.masterCalculation(this.masterCalculationData, 'file_upload');\n    });\n  }\n\n  getVehicleControlList() {\n    this.modelList.forEach((element: any) => {\n      if (element.id == this.vehicleInformation.controls['model'].value)\n        this.masterCalculation(element, 'file_upload');\n    });\n    this.crud\n      .getRequest(\n        `${cusRequestUrl.getVehicleControlList}${this.vehicleInformation.controls['model'].value}`\n      )\n      .then((res: any) => {\n        if (res) {\n          this.ecuBrandList = res;\n          // if (this.ecuBrandList?.length == 1)\n          //   this.ecuInformation.controls['control_unit'].setValue(this.ecuBrandList[0].ecu_type)\n          this.unique = [];\n          this.uniqueECUBrand = [];\n          this.unique = this.ecuBrandList.filter((element: any) => {\n            const isDublicate = this.uniqueECUBrand.includes(element.ecu_brand);\n            if (!isDublicate) {\n              this.uniqueECUBrand.push(element.ecu_brand);\n              return true;\n            } else return false;\n          });\n          this.unique = this.sort(this.unique, 'ecu_brand');\n          // if (!this.submitRequest) {\n          //   this.ecuInformation.controls['ecu_brand'].setValue(this.unique[0].id)\n          //   this.ecuInformation.controls['ecu_version'].setValue(this.unique[0].ecu_version)\n          // }\n          if (this.submitRequest) {\n            this.getTuningRequired(true);\n          }\n        }\n      });\n    if (!this.submitRequest) this.resetEcuBrandVersion(true);\n  }\n  newECU_versionList: any = [];\n  setFuelModel(autocall?: boolean) {\n    this.newECU_versionList = [];\n    var brand = '';\n    this.ecuBrandList.forEach((element: any) => {\n      if (element.id == this.ecuInformation.value.ecu_brand)\n        brand = element.ecu_brand;\n    });\n    this.ecuBrandList.forEach((element: any) => {\n      if (\n        element.ecu_brand == brand &&\n        element.fuel_type == this.engineInformation.controls['fuel_type'].value\n      )\n        this.newECU_versionList.push(element);\n      else if (\n        element.ecu_brand == brand &&\n        element.fuel_type == 'Petrol' &&\n        (this.engineInformation.value.fuel_type == 'Gasoline Hybrid' ||\n          this.engineInformation.value.fuel_type == 'Gasoline')\n      )\n        this.newECU_versionList.push(element);\n      else if (\n        element.ecu_brand == brand &&\n        (element.fuel_type == 'Diesel' || element.fuel_type == 'Diesel Hybrid')\n      ) {\n        if (\n          this.engineInformation.controls['fuel_type'].value == 'Diesel' ||\n          this.engineInformation.controls['fuel_type'].value == 'Diesel Hybrid'\n        ) {\n          this.newECU_versionList.push(element);\n        }\n      }\n    });\n    var ecuListBaseOnCtrlUnit = this.newECU_versionList;\n    this.newECU_versionList = [];\n\n    ecuListBaseOnCtrlUnit.forEach((element: any) => {\n      if (element.ecu_type == this.ecuInformation.value.control_unit)\n        this.newECU_versionList.push(element);\n    });\n\n    this.newECU_versionList = this.sort(this.newECU_versionList, 'ecu_version');\n    var b = {\n      ecu_version: 'Other',\n    };\n    this.newECU_versionList.push(b);\n    if (!autocall) {\n      this.ecuInformation.controls['ecu_version'].setValue(\n        'Select ECU Version'\n      );\n      this.ecuInformation.controls['other_ecu_version'].setValue('');\n      this.ecuInformation.controls['other_ecu_brand'].setValue('');\n      this.showEcuVersion = false;\n    }\n    if (autocall && this.buyItemDetail)\n      this.ecuInformation.controls['ecu_version'].setValue(\n        this.buyItemDetail?.ecuInfo?.ecu_version\n      );\n\n    if (this.buyItemDetail?.ecuInfo?.other_ecu_version) {\n      this.showEcuVersion = true;\n      if(this.buyItemDetail) {\n        this.ecuInformation.controls['other_ecu_version'].setValue(\n          this.buyItemDetail?.ecuInfo?.other_ecu_version\n        );\n      }\n      this.ecuInformation.controls['ecu_version'].setValue('Other');\n    }\n  }\n  next() {\n    if (this.step == 1) {\n      this.vehicle_step = true;\n      if (this.vehicleInformation.invalid) {\n        return;\n      }\n      this.step++;\n    }\n    if (this.step == 2) {\n      this.engine_step = true;\n      if (this.engineInformation.invalid) {\n        return;\n      }\n      this.step++;\n    }\n\n    if (this.step == 3) {\n      this.ecu_step = true;\n      if (this.ecuInformation.invalid) {\n        return;\n      }\n      this.step++;\n    }\n  }\n  resetEcuBrandVersion(all: boolean) {\n    this.ecuInformation.controls['ecu_brand'].setValue('Select ECU Brand');\n    this.ecuInformation.controls['other_ecu_brand'].setValue('');\n    this.ecuInformation.controls['other_control_unit'].setValue('');\n    this.ecuInformation.controls['ecu_version'].setValue('Select ECU Version');\n    this.ecuInformation.controls['other_ecu_version'].setValue('');\n    this.showEcuBrand = false;\n    this.showEcuVersion = false;\n    this.newECU_versionList = [];\n    if (all) {\n      this.engineInformation.controls['fuel_type'].setValue('Select Fuel Type');\n      this.ecuInformation.controls['control_unit'].setValue(\n        'Select Control Unit'\n      );\n      this.engineInformation.controls['other_fuel_type'].setValue('');\n      this.uniqueBrands = [];\n    }\n  }\n  resetCtrlUnit() {\n    this.ecuInformation.controls['control_unit'].setValue(\n      'Select Control Unit'\n    );\n    this.ecuInformation.controls['other_control_unit'].setValue('');\n    this.uniqueBrands = [];\n    this.resetEcuBrandVersion(false);\n  }\n\n  a: any = [];\n  showAddiInfoOtherBox: boolean = false;\n\n  isDTCSelected = false;\n\n  checkForSelectedDTC(i:number):void {\n    if(!Number.isInteger(i)) return;\n\n    if(this.selectAdditionalFun[i] && this.additionalFunctionList[i] == 'DTC') \n    {\n      this.toastr.warning(\"Please put the full Fault Code and description in the additional information box below\");\n      this.isDTCSelected = true;\n    }\n\n    if(!this.selectAdditionalFun[i] && this.additionalFunctionList[i] == 'DTC') \n    {\n      this.isDTCSelected = false;\n    }\n  }\n\n  \n  selectAddFun(i: any) {\n    this.selectAdditionalFun[i] = !this.selectAdditionalFun[i];\n    this.checkForSelectedDTC(i);\n    if (\n      this.selectAdditionalFun[i] &&\n      this.additionalFunctionList[i] == 'Other'\n    ) {\n      this.showAddiInfoOtherBox = true;\n    } else if (\n      !this.selectAdditionalFun[i] &&\n      this.additionalFunctionList[i] == 'Other'\n    ) {\n      this.showAddiInfoOtherBox = false;\n    }\n    if (this.selectAdditionalFun[i]) {\n      this.a.push(this.additionalFunctionList[i]);\n      var b = this.additionalInformation.value.additional_function;\n\n      this.a.forEach((res: any) => {\n        this.additionalInformation.patchValue({\n          additional_function:\n            b +\n            (this.additionalInformation.value.additional_function.length > 0\n              ? ', '\n              : '') +\n            res,\n        });\n      });\n      this.masterCalculation(this.masterCalculationData);\n    } else {\n      this.additionalInformation.controls['additional_function'].setValue('');\n      const index = this.a.indexOf(this.additionalFunctionList[i]);\n      if (index > -1) {\n        this.a.splice(index, 1);\n      }\n      this.a.forEach((res: any) => {\n        var b = this.additionalInformation.value.additional_function;\n        this.additionalInformation.patchValue({\n          additional_function:\n            b +\n            (this.additionalInformation.value.additional_function.length > 0\n              ? ', '\n              : '') +\n            res,\n        });\n      });\n      this.masterCalculation(this.masterCalculationData);\n    }\n  }\n\n\n\n  newUniqueEcuBrandList: any = [];\n  editEcuBrandVesrsion: boolean = false;\n  newTuningRequiredList: any = [];\n  uniqueBrands: any;\n\n  getTuningRequired(autocall?: boolean) {\n    // if (!autocall) {\n    this.newTuningRequiredList = [];\n    if (\n      this.engineInformation.controls['fuel_type'].value == 'Gasoline Hybrid' ||\n      this.engineInformation.controls['fuel_type'].value == 'Gasoline'\n    ) {\n      this.tuningRequiredList =\n        this.users.role == 'INDIVIDUAL_CUSTOMER'\n          ? this.vehicleDetails.tuning_required.individual.gasoline\n          : this.vehicleDetails.tuning_required.business.gasoline;\n      for (var key in this.tuningRequiredList) {\n        var ab = {\n          value: key,\n          name: this.tuningRequiredList[key],\n        };\n        this.newTuningRequiredList.push(ab);\n      }\n      this.tuningRequiredList = this.newTuningRequiredList;\n      this.additionalFunctionList =\n        this.vehicleDetails.additional_functions.gasoline;\n      this.showAdditonalFunction = true;\n\n\n      for (let i = 0; i < this.additionalFunctionList.length; i++) {\n        this.selectAdditionalFun[i] = false;\n      }\n      this.a = [];\n\n    } else if (\n      this.engineInformation.controls['fuel_type'].value == 'Diesel Hybrid' ||\n      this.engineInformation.controls['fuel_type'].value == 'Diesel'\n    ) {\n      this.tuningRequiredList =\n        this.users.role == 'INDIVIDUAL_CUSTOMER'\n          ? this.vehicleDetails.tuning_required.individual.diesel\n          : this.vehicleDetails.tuning_required.business.diesel;\n      for (var key in this.tuningRequiredList) {\n        var ab = {\n          value: key,\n          name: this.tuningRequiredList[key],\n        };\n        this.newTuningRequiredList.push(ab);\n      }\n      this.tuningRequiredList = this.newTuningRequiredList;\n      this.additionalFunctionList =\n        this.vehicleDetails.additional_functions.diesel;\n      this.showAdditonalFunction = true;\n\n      for (let i = 0; i < this.additionalFunctionList.length; i++) {\n        this.selectAdditionalFun[i] = false;\n      }\n      this.a = [];\n      \n    } else {\n      this.tuningRequiredList = [];\n      var abc = {\n        value: 'NO TUNE',\n        name: 'NO TUNE',\n      };\n      this.tuningRequiredList.push(abc);\n      this.showAdditonalFunction = false;\n    }\n    // }\n    // Ecu Brand and version code starts from here\n    this.newUniqueEcuBrandList = [];\n    this.ecuBrandList.forEach((element: any) => {\n      if (\n        element.fuel_type == 'Petrol' &&\n        (this.engineInformation.value.fuel_type == 'Gasoline Hybrid' ||\n          this.engineInformation.value.fuel_type == 'Gasoline')\n      ) {\n        this.newUniqueEcuBrandList.push(element);\n      } else if (\n        this.engineInformation.controls['fuel_type'].value == 'Diesel Hybrid' ||\n        this.engineInformation.controls['fuel_type'].value == 'Diesel'\n      ) {\n        if (\n          element.fuel_type == 'Diesel' ||\n          element.fuel_type == 'Diesel Hybrid'\n        ) {\n          this.newUniqueEcuBrandList.push(element);\n        }\n      } else if (\n        element.fuel_type == this.engineInformation.controls['fuel_type'].value\n      )\n        this.newUniqueEcuBrandList.push(element);\n    });\n    //   const unique = this.newUniqueEcuBrandList.filter((obj:any, index:any) => {\n    //     return index === this.newUniqueEcuBrandList.findIndex((o:any) => obj.title === o.title);\n    // });\n    //   let filteredData = this.newUniqueEcuBrandList.filter((obj:any) => {\n    //     if (!this.uniqueBrands[obj.ecu_brand]) {\n    //        this.uniqueBrands[obj.ecu_brand] = true;\n    //         return obj;\n    //     }\n    //     return false;\n    // });\n\n\n    // this.uniqueBrands = Object.values(\n    //   this.newUniqueEcuBrandList.reduce((acc: any, obj: any) => {\n    //     acc[obj.ecu_brand] = obj;\n    //     return acc;\n    //   }, {})\n    // );\n\n    // The previous filter method does not consider different ecu_type when filtering, \n    // eg. ECU and TCU are two different type so we need to add the obj for both ecu_brand and  ecu_type\n\n    this.uniqueBrands = this.newUniqueEcuBrandList.reduce((acc: any, obj: any) => {\n      if (acc.find((el: any) => (el.ecu_brand == obj.ecu_brand) && el.ecu_type == obj.ecu_type)) return acc;\n      return [...acc, obj];\n    }, [])\n\n    var uniqueBrandListBaseOnCtrlUnit = this.uniqueBrands;\n    this.uniqueBrands = [];\n\n    uniqueBrandListBaseOnCtrlUnit.forEach((element: any) => {\n      if (element.ecu_type == this.ecuInformation.value.control_unit)\n        this.uniqueBrands.push(element);\n    });\n\n    if (this.uniqueBrands.length > 0) {\n      this.editEcuBrandVesrsion = false;\n      // this.ecuInformation.controls['ecu_brand'].setValue(this.uniqueBrands[0].id)\n      // this.ecuInformation.controls['ecu_version'].setValue(this.uniqueBrands[0].ecu_version)\n      this.showEcuBrand = false;\n      this.showEcuVersion = false;\n      this.ecuInformation.controls['other_ecu_brand'].setValue('');\n      this.ecuInformation.controls['other_ecu_version'].setValue('');\n      var a = {\n        id: 0,\n        ecu_brand: 'Other',\n      };\n      this.uniqueBrands.push(a);\n    } else {\n      this.showEcuBrand = false;\n      this.showEcuVersion = false;\n      this.editEcuBrandVesrsion = true;\n      var a = {\n        id: 0,\n        ecu_brand: 'Other',\n      };\n      this.uniqueBrands.push(a);\n      this.ecuInformation.controls['ecu_brand'].setValue('Select ECU Brand');\n      this.newECU_versionList = [];\n      var b = {\n        ecu_version: 'Other',\n      };\n      this.newECU_versionList.push(b);\n      this.ecuInformation.controls['ecu_version'].setValue(\n        'Select ECU Version'\n      );\n    }\n    if (!this.editEcuBrandVesrsion) {\n      this.newECU_versionList = [];\n      var brand = '';\n      this.ecuBrandList.forEach((element: any) => {\n        if (element.id == this.ecuInformation.value.ecu_brand)\n          brand = element.ecu_brand;\n      });\n      this.ecuBrandList.forEach((element: any) => {\n        if (\n          element.ecu_brand == brand &&\n          element.fuel_type ==\n          this.engineInformation.controls['fuel_type'].value\n        )\n          this.newECU_versionList.push(element);\n        else if (\n          element.ecu_brand == brand &&\n          element.fuel_type == 'Petrol' &&\n          (this.engineInformation.value.fuel_type == 'Gasoline Hybrid' ||\n            this.engineInformation.value.fuel_type == 'Gasoline')\n        )\n          this.newECU_versionList.push(element);\n        else if (\n          element.ecu_brand == brand &&\n          (element.fuel_type == 'Diesel' ||\n            element.fuel_type == 'Diesel Hybrid')\n        ) {\n          if (\n            this.engineInformation.controls['fuel_type'].value == 'Diesel' ||\n            this.engineInformation.controls['fuel_type'].value ==\n            'Diesel Hybrid'\n          ) {\n            this.newECU_versionList.push(element);\n          }\n        }\n        // if (element.ecu_brand == brand)\n        //   this.newECU_versionList.push(element);\n      });\n      this.newECU_versionList = this.sort(\n        this.newECU_versionList,\n        'ecu_version'\n      );\n      var b = {\n        ecu_version: 'Other',\n      };\n      this.newECU_versionList.push(b);\n    }\n\n    // if (isEdit)\n    //   this.ecuInformation.controls['ecu_version'].setValue(this.newECU_versionList[0].ecu_version)\n    if (autocall) {\n      this.ecuInformation.controls['ecu_brand'].setValue(\n        this.buyItemDetail?.ecuInfo?.ecu_brand\n      );\n      if (this.buyItemDetail?.ecuInfo?.other_ecu_brand) {\n        this.showEcuBrand = true;\n        this.ecuInformation.controls['other_ecu_brand'].setValue(\n          this.buyItemDetail?.ecuInfo?.other_ecu_brand\n        );\n        this.ecuInformation.controls['ecu_brand'].setValue(0);\n      }\n      this.setFuelModel(true);\n    } else {\n      // this.engineInformation.controls['other_fuel_type'].setValue('');\n      this.resetEcuBrandVersion(false);\n    }\n    this.masterCalculation(this.masterCalculationData);\n  }\n\n\n  ctrlUnitChange() { }\n  showEcuBrand: boolean = false;\n  showEcuVersion: boolean = false;\n\n\n  showOtherEcuBrand_version(type: string) {\n    if (type == 'brand' && this.ecuInformation.value.ecu_brand == '0')\n      this.showEcuBrand = true;\n    else if (type == 'brand' && this.ecuInformation.value.ecu_brand != '0') {\n      this.showEcuBrand = false;\n      this.showEcuVersion = false;\n    } else if (\n      type == 'version' &&\n      this.ecuInformation.value.ecu_version == 'Other'\n    )\n      this.showEcuVersion = true;\n    else if (\n      type == 'version' &&\n      this.ecuInformation.value.ecu_version != 'Other'\n    )\n      this.showEcuVersion = false;\n  }\n\n\n  markAllControlsAsTouched(formGroup: FormGroup) {\n    Object.values(formGroup.controls).forEach((control) => {\n      control.markAsTouched();\n      if (control instanceof FormGroup) {\n        this.markAllControlsAsTouched(control);\n      }\n    });\n  }\n\n\n  append(list:Array<any>,control_name:string,key:string) {\n    if(!list) return;\n    for(let element of list) {\n      // Continue to next iteration if not match current id\n      if (this.vehicleInformation.controls[control_name].value != element.id) continue;\n\n      let selectedValue = null;\n      \n      if(element[key] == 'Other') {\n        selectedValue = this.vehicleInformation.controls[`other_${control_name}`].value;\n        this.other_fields.push(control_name);\n      } else {\n        selectedValue = element[key];\n      }\n\n      this.formData.append(control_name, selectedValue);\n      this.formData3.append(control_name, selectedValue);\n      this.formData4.append(control_name, element[key]);\n\n      break;\n    }\n  }\n\n  formData4 = new FormData();\n\n  validateVehicleInfo() {\n    if (\n      this.vehicleInformation.value.tuning_tool_used ==\n      'Select Tuning Tool' ||\n      this.vehicleInformation.value.file_type == 'Select File Type' ||\n      this.vehicleInformation.value.vehicle_year == 'Select Vehicle Year' ||\n      this.engineInformation.value.transmission == 'Select Transmission' ||\n      this.engineInformation.value.mileage_type == 'Select Mileage Type' ||\n      this.ecuInformation.value.control_unit == 'Select Control Unit' ||\n      this.additionalInformation.value.tuning_required ==\n      'Select Tuning Required' ||\n      this.additionalInformation.value.country == 'Select Your Country'\n    ) {\n      this.showSelectError = true;\n    } else {\n      this.showSelectError = false;\n    }\n  }\n\n\n\n  submitForm(type: any) {\n    console.log('submit function calll');\n\n    if (type == 'form2') {\n      if (this.vehicleInformation.valid) {\n        // this.tab = 'form2';\n      } else {\n        this.markAllControlsAsTouched(this.vehicleInformation);\n      }\n    } else if (type == 'form3') {\n      if (this.engineInformation.valid) {\n        // this.tab = 'form3';\n      } else {\n        this.markAllControlsAsTouched(this.engineInformation);\n      }\n    } else if (type == 'finalSubmit') {\n      this.validateVehicleInfo();\n      if (\n        this.acceptTermBusi &&\n        this.vehicleInformation.valid &&\n        this.engineInformation.valid &&\n        this.showSelectError == false\n      ) {\n          this.append(this.vehicleTypes,'vehicle_type','name');\n          this.append(this.vehicleBrandList, 'vehicle_make', 'brand_name');\n          this.append(this.modelList, 'model','model_name')\n        // else {\n        //   this.formData3.append('model', this.vehicleInformation.controls['other_model'].value);\n        // }\n        var ecuBrandName = '';\n        if (this.editEcuBrandVesrsion == false) {\n          this.ecuBrandList.forEach((element: any) => {\n            if (element.id == this.ecuInformation.value.ecu_brand)\n              ecuBrandName = element.ecu_brand;\n          });\n        } else {\n          ecuBrandName = this.ecuInformation.value.ecu_brand;\n        }\n        let engineSizeValue = '';\n        if (this.engineInformation.controls['engine_size_deci'].value != '') {\n          engineSizeValue = `${this.engineInformation.controls['engine_size'].value}.${this.engineInformation.controls['engine_size_deci'].value}`;\n        } else {\n          engineSizeValue = `${this.engineInformation.controls['engine_size'].value}.0`;\n        }\n\n        if (\n          ((!ecuBrandName || ecuBrandName == 'Select ECU Brand') &&\n            !this.showEcuBrand) ||\n          (this.showEcuBrand && this.ecuInformation.value.other_ecu_brand == '')\n        ) {\n          this.showSelectError = true;\n          this.toastr.error('Please fill all the required field.');\n          return;\n        }\n\n        if (\n          ((!this.ecuInformation.value.ecu_version ||\n            this.ecuInformation.value.ecu_version == 'Select ECU Version') &&\n            !this.showEcuVersion) ||\n          (this.showEcuVersion &&\n            this.ecuInformation.value.other_ecu_version == '')\n        ) {\n          this.showSelectError = true;\n          this.toastr.error('Please fill all the required field.');\n          return;\n        }\n\n        // ECU brand ============================\n\n        let selectedECUBrand;\n        if (this.showEcuBrand) {\n          selectedECUBrand = this.ecuInformation.value.other_ecu_brand;\n          this.other_fields.push('ecu_brand')\n        } else {\n          selectedECUBrand = ecuBrandName; \n        }\n        this.formData.append('ecu_brand', selectedECUBrand);\n        this.formData3.append( 'ecu_brand', selectedECUBrand);\n        this.formData4.append('ecu_brand', ecuBrandName);\n\n\n        // ECU version ====================================\n\n        let selectedECUVersion;\n        if (this.showEcuVersion) {\n          selectedECUVersion = this.ecuInformation.value.other_ecu_version;\n          this.other_fields.push('ecu_version')\n        } else {\n          selectedECUVersion = this.ecuInformation.value.ecu_version; \n        }\n        this.formData.append('ecu_version', selectedECUVersion);\n        this.formData3.append( 'ecu_version', selectedECUVersion);\n        this.formData4.append('ecu_version', this.ecuInformation.value.ecu_version);\n\n\n        this.formData.append(\n          'file_key_credit',\n          this.onlyFileKeyCredit ? this.fileCreditRequired : 0\n        );\n        this.formData.append(\n          'function_credit',\n          this.onlyFuntionKeyCredit ? this.functionCreditRequired : 0\n        );\n        this.formData.append(\n          'customer_first_name',\n          this.vehicleInformation.controls['customer_first_name'].value\n        );\n        this.formData.append(\n          'customer_last_name',\n          this.vehicleInformation.controls['customer_last_name'].value\n        );\n        this.formData.append(\n          'vehicle_registration',\n          this.vehicleInformation.controls['vehicle_registration'].value\n        );\n        this.formData.append(\n          'vehicle_year',\n          this.vehicleInformation.controls['vehicle_year'].value\n        );\n        this.formData.append(\n          'vehicle_VIN',\n          this.vehicleInformation.controls['vehicle_VIN'].value\n        );\n        this.formData.append('engine_size', engineSizeValue);\n\n\n        \n        // Tuning Tool used ===========================\n\n        let selectedTuningTool;\n        if(this.vehicleInformation.controls['tuning_tool_used'].value == 'Other') {\n          selectedTuningTool = this.vehicleInformation.controls['other_tuning_tool_used'].value;\n          this.other_fields.push('tuning_tool_used');\n        } else {\n          selectedTuningTool = this.vehicleInformation.controls['tuning_tool_used'].value;\n        }\n        this.formData.append( 'tuning_tool_used', selectedTuningTool );\n        this.formData3.append( 'tuning_tool_used', selectedTuningTool );\n        this.formData4.append('tuning_tool_used', this.vehicleInformation.controls['tuning_tool_used'].value);\n\n        \n        \n        // Transmission ===========================\n\n        let selectedTransmission;\n        if (this.engineInformation.controls['transmission'].value == 'Other') {\n          selectedTransmission = this.engineInformation.controls['other_transmission'].value;\n          this.other_fields.push('transmission');\n        } else {\n          selectedTransmission = this.engineInformation.controls['transmission'].value;\n        }\n        this.formData.append( 'transmission', selectedTransmission );\n        this.formData3.append( 'transmission', selectedTransmission );\n        this.formData4.append( 'transmission', this.engineInformation.controls['transmission'].value);\n\n        \n        \n        // Fuel Type ==================================\n\n        let selectedFuelType;\n        if(this.engineInformation.controls['fuel_type'].value == 'Other') {\n          selectedFuelType = this.engineInformation.controls['other_fuel_type'].value\n          this.other_fields.push('fuel_type');\n        } else {\n          selectedFuelType = this.engineInformation.controls['fuel_type'].value;\n        }\n        this.formData.append( 'fuel_type', selectedFuelType);\n        this.formData3.append( 'fuel_type', selectedFuelType);\n        this.formData4.append( 'fuel_type', this.engineInformation.controls['fuel_type'].value);\n\n\n        \n        this.formData.append(\n          'mileage_type',\n          this.engineInformation.controls['mileage_type'].value\n        );\n        this.formData.append(\n          'mileage',\n          this.engineInformation.controls['mileage'].value\n        );\n\n\n        \n        // Control Unit ==========================================\n\n        let selectedControlUnit;\n\n        if (this.ecuInformation.controls['control_unit'].value == 'Other') {\n          selectedControlUnit = this.ecuInformation.controls['other_control_unit'].value;\n          this.other_fields.push('control_unit');\n        } else {\n          selectedControlUnit = this.ecuInformation.controls['control_unit'].value;\n        }\n        this.formData.append( 'control_unit', selectedControlUnit);\n        this.formData3.append( 'control_unit', selectedControlUnit);\n        this.formData4.append( 'control_unit', this.ecuInformation.controls['control_unit'].value);\n\n\n\n        \n        this.formData.append(\n          'tuning_required',\n          this.additionalInformation.controls['tuning_required'].value\n        );\n        this.formData.append(\n          'country',\n          this.additionalInformation.controls['country'].value\n        );\n        this.formData.append(\n          'file_type',\n          this.vehicleInformation.controls['file_type'].value\n        );\n        this.formData.append(\n          'additional_info',\n          this.additionalInformation.controls['additional_info'].value\n        );\n        this.formData3.append(\n          'additional_info',\n          this.additionalInformation.controls['additional_info'].value\n        );\n        this.formData4.append(\n          'additional_info',\n          this.additionalInformation.controls['additional_info'].value\n        );\n\n\n        \n        // Additional Function ===============================\n        let selectedAdditionalFunction;\n        \n        if (this.additionalInformation.controls['additional_function'].value?.includes('Other')) {\n          selectedAdditionalFunction = this.additionalInformation.controls['additional_function'].value\n          .replace('Other',`Other (${this.additionalInformation.controls['other_additional_function'].value})`);\n          \n          this.other_fields.push('additional_function');\n        } else {\n          selectedAdditionalFunction = this.additionalInformation.controls['additional_function'].value?.replace(/^, /, \"\");\n        }\n        \n        this.formData.append( 'additional_function', selectedAdditionalFunction);\n        // Error\n        this.formData3.append( 'additional_function', selectedAdditionalFunction);\n        this.formData4.append( 'additional_function', selectedAdditionalFunction);\n        \n        const hasAdditionalInfo = this.additionalInformation.controls['additional_info'].value\n        if(hasAdditionalInfo) {\n          this.other_fields.push('additional_info');\n        } \n        if(!hasAdditionalInfo && this.isDTCSelected) {\n          this.toastr.error(\"Please put the full Fault Code and description in the additional information.\");\n          return;\n        }\n\n        // join the other_fields array into a string\n        this.formData.append('other_fields', this.other_fields.join(', '));\n        this.other_fields = [];\n\n        this.formData.append('tuning_file', this.uploadedFile, this.uploadedFile.name);\n        this.checkOtherCondition((cb: any) => {\n          if (cb) {\n            var url;\n            url =\n              (cb == 2 || this.additionalInformation?.value?.additional_info)\n                ? `file/service/request/create/slave/other_field`\n                : `file/service/request/create`;\n            console.log('cb=> ', cb);\n            console.log('url=> ', url);\n\n            // Added flag to disable submit button\n            this.isLoading = true;\n//             const data:any = this.formData\n// // Display the key/value pairs\n// for (const pair of data) {\n//   console.log(pair[0], pair[1]);\n// }\n            this.crud.postRequest(url, this.formData).then((res: any) => {\n              this.isLoading = false;\n              // Reset Form Data;\n              this.formData = new FormData();\n              if (res) {\n                localStorage.removeItem('buyItemDetail');\n                if (cb == 1) {\n                  this.ticketFormData.append(\n                    'file_request',\n                    res.data.request_id\n                  );\n\n                  // Stop Ticket Create Request\n\n                  // this.ticketCreateFormSubmit();\n\n                } else {\n                  // this.route.navigateByUrl('/file-service/file-services');\n                }\n                // Redirect to My Services in all cases\n                this.route.navigateByUrl('/file-service/file-services');\n\n                this.toastr.success(res.message);\n                this.notification.updateProfileImg(true);\n              }\n            }).catch(err => {\n              this.isLoading = false;\n              this.formData = new FormData();\n            });\n          }\n        });\n      } else {\n        this.markAllControlsAsTouched(this.engineInformation);\n        this.markAllControlsAsTouched(this.vehicleInformation);\n        this.acceptTermCondCount = this.acceptTermCondCount + 1;\n        this.toastr.error('Please fill all the required field.');\n      }\n    }\n  }\n  checkOtherCondition(cb: any) {\n    var url;\n    let count = 0;\n\n    // 1 - if client/slave, other field, tools == kessv2, kess 3, ktag --> new api call\n    // 2 - if client/slave, other field, tools not = kessv2, kess 3, ktag --> create ticket and FR\n    // 3 - if client/slave, other field, tools == kessv2, kess 3, ktag and additional info --> create ticket and FR\n    // 4 - if client/slave, not other field, tools == kessv2, kess 3, ktag and additional info --> create ticket and FR --> which is already happening , re-verify\n    // this.formData4.forEach((value, key) => {\n    //   if (value == 'other' || value == 'Other' || value == 'OTHER' || (key == 'additional_info' && (value != '' && value != undefined && value != null))) {\n    //     count = 1;\n    //     this.ticketCreateForm.controls['description'].setValue('')\n    //     this.formData.forEach((value, key) => {\n    //       this.ticketCreateForm.patchValue({ 'description': `${this.ticketCreateForm.controls['description'].value.replace('_', ' ')}${key}: ${value}, ` })\n    //     });\n    //     // if (this.vehicleInformation.controls['file_type'].value == 'Client/Slave') {\n    //     //   count = 2;\n    //     //   url= `file/service/request/create/slave/other_field`;\n    //     // }\n    //   }\n    // });\n    this.formData4.forEach((value, key) => {\n      if (value == 'other' || value == 'Other' || value == 'OTHER') {\n        if (\n          this.vehicleInformation.controls['file_type'].value ==\n          'Client/Slave' &&\n          (this.vehicleInformation.controls['tuning_tool_used'].value ==\n            'KESS v2' ||\n            this.vehicleInformation.controls['tuning_tool_used'].value ==\n            'KTAG' ||\n            this.vehicleInformation.controls['tuning_tool_used'].value ==\n            'KESS3')\n        ) {\n          count = 2;\n        } else {\n          count = 1;\n          this.ticketCreateForm.controls['description'].setValue('');\n          this.formData.forEach((value, key) => {\n            this.ticketCreateForm.patchValue({\n              description: `${this.ticketCreateForm.controls[\n                'description'\n              ].value.replace('_', ' ')}${key}: ${value}, `,\n            });\n          });\n        }\n      }\n    });\n    this.formData4.forEach((value, key) => {\n      if (\n        key == 'additional_info' &&\n        value != '' &&\n        value != undefined &&\n        value != null\n      ) {\n        count = 1;\n        this.ticketCreateForm.controls['description'].setValue('');\n        this.formData.forEach((value, key) => {\n          this.ticketCreateForm.patchValue({\n            description: `${this.ticketCreateForm.controls[\n              'description'\n            ].value.replace('_', ' ')}${key}: ${value}, `,\n          });\n        });\n      }\n    });\n    if (count == 0) count = 3;\n    else if (count == 1) {\n      this.ticketCreateForm.controls['subject'].setValue(\n        'Manual File Handling'\n      );\n      this.ticketCreateForm.controls['category'].setValue(13);\n    }\n    cb(count);\n    // if (this.vehicleInformation.controls['file_type'].value == 'Client/Slave') {\n    //   if (this.vehicleInformation.controls['tuning_tool_used'].value != 'KESS v2' && this.vehicleInformation.controls['tuning_tool_used'].value != 'KTAG' &&\n    //     this.vehicleInformation.controls['tuning_tool_used'].value != 'KESS3') {\n    //     this.ticketCreateForm.patchValue({ 'description': `File are send for manual handle as user selected ${this.vehicleInformation.controls['tuning_tool_used'].value} tool.` })\n    //     count = 1;\n    //   }\n    // }\n    // if (count == 1) {\n    //   this.ticketCreateForm.controls['subject'].setValue('Manual File Handling')\n    //   this.ticketCreateForm.controls['category'].setValue(13)\n    //   // cb('Create Ticket')\n    //   cb(count)\n    // }\n    // else if (count == 0) {\n    //   this.formData4.forEach((value, key) => {\n    //     if (value == 'other' || value == 'Other' || value == 'OTHER') {\n    //       if (this.vehicleInformation.controls['file_type'].value == 'Client/Slave') {\n    //         count = 2;\n    //       }\n    //     }\n    //   });\n    // }\n    // if (count == 0) {\n    //   count = 3;\n    //   cb(count);\n    // }\n    // else {\n    //   cb(count)\n    // }\n  }\n\n  fileUpload(event: any) {\n    let file = event.target.files[0];\n    this.fileName = file.name;\n\n    // Do not attach file in form during file upload as we are \n    // restting the formdata on error and filling all the details again\n    // this.formData.append('tuning_file', file, file.name);\n\n    // Store it for now then attach it on formData during form submit\n    this.uploadedFile = file;\n    if (event.target.files && event.target.files[0]) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n    }\n  \n  }\n\n\n  counter(i: number) {\n    return new Array(i);\n  }\n\n\n  newFileList: any;\n  fileList: any = [];\n  ticketCreateFormSubmit() {\n    this.ticketFormData.append('subject', this.ticketCreateForm.value.subject);\n    this.ticketFormData.append(\n      'category',\n      this.ticketCreateForm.value.category\n    );\n    this.ticketFormData.append(\n      'description',\n      this.ticketCreateForm.value.description\n    );\n    this.crud\n      .postRequest(`${cusRequestUrl.createTicket}`, this.ticketFormData)\n      .then((res: any) => {\n        if (res) {\n          // this.toastr.success(res.message)\n          this.route.navigateByUrl('/file-service/file-services');\n        }\n      });\n  }\n\n\n  buyNow() {\n    let body = {\n      vehicleInfo: {\n        customer_first_name:\n          this.vehicleInformation.controls['customer_first_name'].value,\n        customer_last_name:\n          this.vehicleInformation.controls['customer_last_name'].value,\n        vehicle_type: this.vehicleInformation.controls['vehicle_type'].value,\n        other_vehicle_type:\n          this.vehicleInformation.controls['other_vehicle_type'].value,\n        vehicle_make: this.vehicleInformation.controls['vehicle_make'].value,\n        other_vehicle_make:\n          this.vehicleInformation.controls['other_vehicle_make'].value,\n        model: this.vehicleInformation.controls['model'].value,\n        other_model: this.vehicleInformation.controls['other_model'].value,\n        vehicle_registration:\n          this.vehicleInformation.controls['vehicle_registration'].value,\n        vehicle_year: this.vehicleInformation.controls['vehicle_year'].value,\n        vehicle_VIN: this.vehicleInformation.controls['vehicle_VIN'].value,\n        file_type: this.vehicleInformation.controls['file_type'].value,\n        tuning_tool_used:\n          this.vehicleInformation.controls['tuning_tool_used'].value,\n        other_tuning_tool_used:\n          this.vehicleInformation.controls['other_tuning_tool_used'].value,\n      },\n      engineInfo: {\n        engine_size: this.engineInformation.controls['engine_size'].value,\n        engine_size_deci:\n          this.engineInformation.controls['engine_size_deci'].value,\n        transmission: this.engineInformation.controls['transmission'].value,\n        other_transmission:\n          this.engineInformation.controls['other_transmission'].value,\n        fuel_type: this.engineInformation.controls['fuel_type'].value,\n        other_fuel_type:\n          this.engineInformation.controls['other_fuel_type'].value,\n        mileage_type: this.engineInformation.controls['mileage_type'].value,\n        mileage: this.engineInformation.controls['mileage'].value,\n      },\n      ecuInfo: {\n        ecu_brand: this.ecuInformation.controls['ecu_brand'].value,\n        other_ecu_brand: this.ecuInformation.controls['other_ecu_brand'].value,\n        ecu_version: this.ecuInformation.controls['ecu_version'].value,\n        other_ecu_version:\n          this.ecuInformation.controls['other_ecu_version'].value,\n        control_unit: this.ecuInformation.controls['control_unit'].value,\n        other_control_unit:\n          this.ecuInformation.controls['other_control_unit'].value,\n      },\n      additionalInfo: {\n        country: this.additionalInformation.controls['country'].value,\n        additional_function: \"\",\n        other_additional_function:\n          this.additionalInformation.controls['other_additional_function']\n            .value,\n        tuning_required:\n          this.additionalInformation.controls['tuning_required'].value,\n        additional_info:\n          this.additionalInformation.controls['additional_info'].value,\n      },\n      additionalFuncArray: [],\n    };\n    localStorage.setItem('buyItemDetail', JSON.stringify(body));\n    this.route.navigate([`/credit/buy-credit`], {\n      queryParams: {\n        type: this.onlyFileKeyCredit ? 'file credit' : 'function credit',\n      },\n    });\n  }\n  acceptTermCondCount: number = 0;\n  acceptTermCond() {\n    this.acceptTermCondCount = this.acceptTermCondCount + 1;\n    this.acceptTermBusi = !this.acceptTermBusi;\n  }\n  resetForm() {\n    this.vehicleInformation.controls['customer_first_name'].setValue('');\n    this.vehicleInformation.controls['customer_last_name'].setValue('');\n    this.vehicleInformation.controls['vehicle_type'].setValue(\n      'Select Vehicle Type'\n    );\n    this.vehicleInformation.controls['other_vehicle_type'].setValue('');\n    this.vehicleInformation.controls['vehicle_make'].setValue(\n      'Select Vehicle Make'\n    );\n    this.vehicleInformation.controls['other_vehicle_make'].setValue('');\n    this.vehicleInformation.controls['model'].setValue('Select Vehicle Model');\n    this.vehicleInformation.controls['other_model'].setValue('');\n    this.vehicleInformation.controls['vehicle_registration'].setValue('');\n    this.vehicleInformation.controls['vehicle_year'].setValue(\n      'Select Vehicle Year'\n    );\n    this.vehicleInformation.controls['vehicle_VIN'].setValue('');\n    this.vehicleInformation.controls['file_type'].setValue('Select File Type');\n    this.vehicleInformation.controls['tuning_tool_used'].setValue(\n      'Select Tuning Tool'\n    );\n    this.vehicleInformation.controls['other_tuning_tool_used'].setValue('');\n    this.engineInformation.controls['engine_size'].setValue('');\n    this.engineInformation.controls['transmission'].setValue(\n      'Select Transmission'\n    );\n    this.engineInformation.controls['other_transmission'].setValue('');\n    this.engineInformation.controls['fuel_type'].setValue('Select Fuel Type');\n    this.engineInformation.controls['other_fuel_type'].setValue('');\n    this.engineInformation.controls['mileage_type'].setValue(\n      'Select Mileage Type'\n    );\n    this.engineInformation.controls['mileage'].setValue('');\n    this.ecuInformation.controls['ecu_brand'].setValue('Select ECU Brand');\n    this.ecuInformation.controls['ecu_version'].setValue('Select ECU Version');\n    this.ecuInformation.controls['control_unit'].setValue(\n      'Select Control Unit'\n    );\n    this.ecuInformation.controls['other_control_unit'].setValue('');\n    this.additionalInformation.controls['additional_function'].setValue('');\n    this.additionalInformation.controls['other_additional_function'].setValue(\n      ''\n    );\n    this.additionalInformation.controls['tuning_required'].setValue(\n      'Select Tuning Required'\n    );\n    this.additionalInformation.controls['additional_info'].setValue('');\n    this.showAdditonalFunction = false;\n    this.additionalFunctionList = [];\n    this.fileName = '';\n    this.formData.delete('tuning_file');\n  }\n  moveOtherInLast(arr: any, key: any) {\n    let otherIndex = arr.indexOf(key);\n    // Move \"Other\" to the last index\n    if (otherIndex !== -1) {\n      arr.splice(otherIndex, 1); // Remove \"Other\" from its current position\n      arr.push('Other'); // Add \"Other\" to the end of the array\n    }\n  }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { requestUrl } from 'src/app/services/adminReqUrl.const';\nimport { CrudService } from 'src/app/services/crud.service';\nimport { cusRequestUrl } from 'src/app/services/customerReqUrl.const';\n\n@Component({\n  selector: 'app-view-file-request',\n  templateUrl: './view-file-request.component.html',\n  styleUrls: ['./view-file-request.component.scss']\n})\nexport class ViewFileRequestComponent {\n  requestId: any;\n  requestDetail: any;\n  downloadFileList: any;\n\n  constructor(private crud: CrudService , private route: ActivatedRoute, private toastr: ToastrService){\n    this.requestId = this.route.snapshot.paramMap.get('id');\n\n  }\n  ngOnInit(){\n    this.crud.getRequest(`${requestUrl.getRequestDetail}${this.requestId}`).then((res:any)=>{\n      this.requestDetail = res;\n      if(\"other_fields\" in this.requestDetail && this.requestDetail.other_fields) {\n        this.requestDetail.other_fields = this.requestDetail.other_fields.replaceAll('_',' ').replaceAll(',',', ');\n      }\n    })\n  }\n\n  hasAdditionalFunctionColumn = false;\n  getFileList() {\n    this.hasAdditionalFunctionColumn = false;\n    this.crud.getRequest(`${requestUrl.fileDownloadList}FR${this.requestId}`).then((res: any) => {\n      if (res) {\n        this.downloadFileList = res.data;\n        this.downloadFileList.forEach((element:any,index:any) => {\n          this.downloadFileList[index].newTitle = element.title.split('/')\n        });\n        this.downloadFileList = this.downloadFileList.map((el:any) => {\n          if('additional_function_list' in el && el.additional_function_list.length) {\n            this.hasAdditionalFunctionColumn = true\n\n            el.functionList = el.additional_function_list.map((el:any) => {\n              const key = Object.keys(el)[0]\n              return {\n                key,\n                value:el[key]\n              }\n            })\n          }\n          return el;\n        })\n      }\n    })\n  }\n  downloadFIle(file: any, i: number) {\n    if (file.downloaded_times < 5) {\n      this.crud.getRequest(`${cusRequestUrl.updateDownloadCount}${file.id}`).then((res: any) => {\n        if (res) {\n          this.downloadFileList[i].downloaded_times = res.counter;\n          window.open(file.url, '_blank');\n        }\n      })\n    } else {\n      this.toastr.error('You have reached file download limit.');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MyFileServiceRoutingModule } from './my-file-service-routing.module';\nimport { MyFileServiceComponent } from './my-file-service.component';\nimport { RequestFileServiceComponent } from './request-file-service/request-file-service.component';\nimport { FileServicesComponent } from './file-services/file-services.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { ViewFileRequestComponent } from './view-file-request/view-file-request.component';\nimport { RestrictEnumberDirective } from 'src/app/services/restrict-enumber.directive';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { SharedPipeModule } from 'src/app/pipe/shared-pipe.module';\nimport { SharedComponentsModule } from \"../../shared-components/shared-components.module\";\n\n\n@NgModule({\n  declarations: [\n    MyFileServiceComponent,\n    RequestFileServiceComponent,\n    FileServicesComponent,\n    ViewFileRequestComponent,\n    RestrictEnumberDirective\n  ],\n  imports: [\n    CommonModule,\n    MyFileServiceRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgxPaginationModule,\n    NgSelectModule,\n    SharedPipeModule,\n    SharedComponentsModule\n]\n})\nexport class MyFileServiceModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule, TitleCasePipe } from '@angular/common';\nimport { SortButtonComponent } from './sort-button/sort-button.component';\nimport { SmartSearchComponent } from './smart-search/smart-search.component';\nimport { LoaderComponent } from './loader/loader.component';\nimport { TimelineComponent } from './timeline/timeline.component';\nimport { SharedPipeModule } from '../pipe/shared-pipe.module';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonComponent } from './button/button.component';\nimport { VehicleDetailsComponent } from './vehicle-details/vehicle-details.component';\n\n\n@NgModule({\n  declarations: [SortButtonComponent, SmartSearchComponent, LoaderComponent, TimelineComponent, VehicleDetailsComponent, ButtonComponent],\n  imports: [\n    CommonModule,\n    SharedPipeModule,\n    CommonModule,\n    FormsModule,\n  ],\n  exports:[SortButtonComponent, SmartSearchComponent, LoaderComponent, TimelineComponent, VehicleDetailsComponent, ButtonComponent],\n  providers:[TitleCasePipe]\n})\nexport class SharedComponentsModule { }\n"],"x_google_ignoreList":[]}