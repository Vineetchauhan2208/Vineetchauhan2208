"use strict";(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[315],{315:(j,f,s)=>{s.r(f),s.d(f,{NewKnowledgeBaseModule:()=>E});var _=s(4666),d=s(5465),h=s(253),x=s(1989),m=s(8951),u=s(8347),g=s(3691),t=s(2560),C=s(3927),w=s(4497),v=s(4817),p=s(2302);function M(e,a){1&e&&t._UZ(0,"i",17)}function O(e,a){1&e&&t._UZ(0,"i",18)}function b(e,a){1&e&&t._UZ(0,"i",17)}function P(e,a){1&e&&t._UZ(0,"i",18)}function B(e,a){1&e&&t._UZ(0,"i",17)}function Z(e,a){1&e&&t._UZ(0,"i",18)}function A(e,a){if(1&e&&(t.TgZ(0,"ul")(1,"li")(2,"p",19),t._uU(3),t.qZA()()()),2&e){const n=a.$implicit,i=t.oxw(10);t.xp6(2),t.Q6J("ngClass",i.selectedList==n.name?"blue":"black"),t.xp6(1),t.hij(" ",n.name,"")}}function N(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,A,4,2,"ul",12),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",null==n?null:n.children)}}function k(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ul")(1,"li")(2,"p",14),t.NdJ("click",function(){const o=t.CHM(n).$implicit,c=t.oxw(2).$implicit,r=t.oxw(6);return r.getArticleList(o.id,(null==o||null==o.children?null:o.children.length)>0),r.thirdChildren[c.id]=!r.thirdChildren[c.id],t.KtG(r.breadCumbList("thirdChildren",c.id,o.name))}),t.YNc(3,B,1,0,"i",15),t.YNc(4,Z,1,0,"i",16),t._uU(5),t.qZA(),t.YNc(6,N,2,1,"div",7),t.qZA()()}if(2&e){const n=a.$implicit,i=t.oxw(8);t.xp6(2),t.Q6J("ngClass",i.selectedList==n.name?"blue":"black"),t.xp6(1),t.Q6J("ngIf",(null==n||null==n.children?null:n.children.length)>0),t.xp6(1),t.Q6J("ngIf",0==(null==n||null==n.children?null:n.children.length)),t.xp6(1),t.Oqu(n.name),t.xp6(1),t.Q6J("ngIf",i.thirdChildren[n.id])}}function z(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,k,7,5,"ul",12),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",null==n?null:n.children)}}function T(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ul")(1,"li")(2,"p",14),t.NdJ("click",function(){const o=t.CHM(n).$implicit,c=t.oxw(6);return c.getArticleList(o.id,(null==o||null==o.children?null:o.children.length)>0),c.secChildren[o.id]=!c.secChildren[o.id],t.KtG(c.breadCumbList("secChildren",o.id,o.name))}),t.YNc(3,b,1,0,"i",15),t.YNc(4,P,1,0,"i",16),t._uU(5),t.qZA(),t.YNc(6,z,2,1,"div",7),t.qZA()()}if(2&e){const n=a.$implicit,i=t.oxw(6);t.xp6(2),t.Q6J("ngClass",i.selectedList==n.name?"blue":"black"),t.xp6(1),t.Q6J("ngIf",(null==n||null==n.children?null:n.children.length)>0),t.xp6(1),t.Q6J("ngIf",0==(null==n||null==n.children?null:n.children.length)),t.xp6(1),t.Oqu(n.name),t.xp6(1),t.Q6J("ngIf",i.secChildren[n.id])}}function K(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,T,7,5,"ul",12),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",null==n?null:n.children)}}function y(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"p",14),t.NdJ("click",function(){t.CHM(n);const l=t.oxw(),o=l.$implicit,c=l.index,r=t.oxw(3);return r.getArticleList(o.id,(null==o||null==o.children?null:o.children.length)>0),r.children[c]=!r.children[c],t.KtG(r.breadCumbList("children",c,o.name))}),t.YNc(2,M,1,0,"i",15),t.YNc(3,O,1,0,"i",16),t._uU(4),t.qZA(),t.YNc(5,K,2,1,"div",7),t.qZA()}if(2&e){const n=t.oxw(),i=n.$implicit,l=n.index,o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",o.selectedList==i.name?"blue":"black"),t.xp6(1),t.Q6J("ngIf",(null==i||null==i.children?null:i.children.length)>0),t.xp6(1),t.Q6J("ngIf",0==(null==i||null==i.children?null:i.children.length)),t.xp6(1),t.Oqu(i.name),t.xp6(1),t.Q6J("ngIf",o.children[l])}}function L(e,a){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,y,6,5,"li",7),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf","KESS3"!=n.name)}}function J(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ul")(1,"li")(2,"h3",13),t.NdJ("click",function(){const o=t.CHM(n).$implicit,c=t.oxw(2);return c.getArticleList(o.id),t.KtG(c.breadCumbList("children","",o.name))}),t._uU(3),t.qZA(),t.YNc(4,L,2,1,"ul",12),t.qZA()()}if(2&e){const n=a.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngClass",i.selectedList==n.name?"blue":""),t.xp6(1),t.hij("",null==n?null:n.name," "),t.xp6(1),t.Q6J("ngForOf",null==n?null:n.children)}}function S(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"button",11),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.syncCategories())}),t._uU(3,"Sync"),t.qZA()(),t.YNc(4,J,5,3,"ul",12),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngForOf",n.menuList)}}function q(e,a){1&e&&(t.TgZ(0,"div",30),t._uU(1,"No articles available"),t.qZA())}function U(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",31)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span",32),t.NdJ("click",function(){const o=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.getArticleDetail(o.slug))}),t._uU(6,"Read More..."),t.qZA(),t._UZ(7,"hr"),t.qZA()}if(2&e){const n=a.$implicit,i=a.index;t.xp6(2),t.AsE("",i+1,". ",null==n?null:n.title," "),t.xp6(2),t.hij(" ",null==n?null:n.summary," ")}}function Q(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"pagination-controls",33),t.NdJ("pageChange",function(l){t.CHM(n);const o=t.oxw(2);return t.KtG(o.handlePageChange(l,"SideBar"))}),t.qZA()}}const $=function(e,a,n){return{itemsPerPage:e,currentPage:a,totalItems:n}};function I(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"p"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.syncArticle())}),t._uU(7,"Sync"),t.qZA()(),t.TgZ(8,"div",22)(9,"h2"),t._uU(10),t.qZA(),t.TgZ(11,"div")(12,"input",23,24),t.NdJ("keypress",function(){t.CHM(n);const l=t.MAs(13),o=t.oxw();return t.KtG(o.onSearch.next(l.value))}),t.qZA(),t.TgZ(14,"button",25),t.NdJ("click",function(){t.CHM(n);const l=t.MAs(13),o=t.oxw();return t.KtG(o.getKnowledgeBaseDetailSidebar(l.value))}),t._UZ(15,"i",26),t.qZA()()(),t._UZ(16,"hr"),t.YNc(17,q,2,0,"div",27),t.YNc(18,U,8,3,"div",28),t.ALo(19,"paginate"),t.YNc(20,Q,1,0,"pagination-controls",29),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(4),t.hij(" Last synchronized at: ",t.xi3(5,5,n.updated_at,"dd MMM yyy, hh:mm")," "),t.xp6(6),t.Oqu(n.selectedList),t.xp6(7),t.Q6J("ngIf",0==(null==n.articleListSideBar?null:n.articleListSideBar.length)),t.xp6(1),t.Q6J("ngForOf",t.xi3(19,8,n.articleListSideBar,t.kEZ(11,$,n.pageSize,n.pageSideBar,n.totalArticleSideBar))),t.xp6(2),t.Q6J("ngIf",n.totalArticleSideBar>10)}}function Y(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",20)(1,"div",34),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.articleAnswerView=!1)}),t._UZ(2,"i",35),t._uU(3,"\xa0Back"),t.qZA(),t.TgZ(4,"div",36)(5,"span",37),t._uU(6),t.qZA(),t._UZ(7,"p",38,39),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(6),t.Oqu(n.answerDetail.title),t.xp6(1),t.Q6J("innerHTML",n.answerDetail.answer,t.oJD)}}const F=function(e){return{width:e}},H=[{path:"",component:(()=>{class e{constructor(n,i,l,o){this.crud=n,this.sanitizer=i,this.ar=l,this.toastr=o,this.articleAnswerView=!1,this.pageSideBar=1,this.totalArticleSideBar=0,this.pageSize=10,this.children=[],this.secChildren=[],this.thirdChildren=[],this.Ques=this.ar.queryParams,this.showMenuList=!0,this.updated_at="",this.onSearch=new h.x,this.destroy$=new h.x,this.selectedList="Knowledgebase",this.getKnowledgeBaseDetailSidebar(),this.onSearch.pipe((0,x.b)(800),(0,m.R)(this.destroy$)).subscribe(c=>this.getKnowledgeBaseDetailSidebar(c))}ngOnInit(){this.Ques._value.ques&&(this.getArticleDetail(this.Ques._value.ques),this.showMenuList=!1),this.crud.getRequest(`${g.d.getZohoRootCategories}`).then(n=>{n&&(this.menuList=n.data)})}getArticleList(n,i){i||(this.articleAnswerView=!1,this.crud.getRequest(`${g.d.getArticleList}/${n}`).then(l=>{l&&(this.articleListSideBar=l.data.results,this.totalArticleSideBar=l.data.count)}))}breadCumbList(n,i,l){this.selectedList=l}handlePageChange(n,i){this.pageSideBar=n,this.getKnowledgeBaseDetailSidebar()}getKnowledgeBaseDetailSidebar(n){n?this.crud.getRequest(`${g.d.getArticleList}?search=${n}`).then(i=>{i&&(this.articleListSideBar=i.data.results,this.totalArticleSideBar=i.data.count)}):this.crud.getRequest(`${g.d.getArticleList}?page=${this.pageSideBar}&page_size=${this.pageSize}`).then(i=>{i&&(this.articleListSideBar=i.data.results,this.totalArticleSideBar=i.data.count,this.updated_at=i.updated_at)})}getArticleDetail(n,i){this.crud.getRequest(`${u.t.getArticleDetail}${n}`).then(l=>{this.answerDetail=l,this.answerDetail.answer=this.sanitizer.bypassSecurityTrustHtml(this.answerDetail?.answer),this.articleAnswerView=!0,window.scrollBy(0,-1e4)})}syncCategories(){this.crud.getRequest(`${u.t.updateZohoCategories}`).then(n=>{n&&this.toastr.success(n.data)})}syncArticle(){this.crud.getRequest(`${u.t.updateZohoArticles}`).then(n=>{n&&this.toastr.success(n.data)})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(C.I),t.Y36(w.H7),t.Y36(d.gz),t.Y36(v._W))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-new-knowledge-base"]],decls:16,vars:6,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/knowledgebase","routerLinkActive","active"],[1,"MainBox"],["class","leftBox",4,"ngIf"],[1,"rightBox",3,"ngStyle"],[4,"ngIf"],["class","kbase",4,"ngIf"],[1,"leftBox"],[1,"d-flex","justify-content-start",2,"padding-left","var(--font-size-14)"],[1,"btn","sync","mb-3",3,"click"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"ngClass","click"],[3,"ngClass","click"],["class","fa fa-folder-o","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-right","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-folder-o"],["aria-hidden","true",1,"fa","fa-arrow-right"],["(","","click)","getArticleList(thirdChildren.id);breadCumbList('noChildren',i,thirdChildren.name)",3,"ngClass"],[1,"kbase"],[1,"d-flex","justify-content-between"],[1,"input-text","u-add"],["type","text","placeholder","Search Article",1,"form-control",3,"keypress"],["searchInput",""],[3,"click"],["aria-hidden","true",1,"fa","fa-search"],["class","no-data",4,"ngIf"],["class","kbase-inner",4,"ngFor","ngForOf"],["class","pagination-crl","previousLabel","Prev","nextLabel","Next",3,"pageChange",4,"ngIf"],[1,"no-data"],[1,"kbase-inner"],[1,"readmore",3,"click"],["previousLabel","Prev","nextLabel","Next",1,"pagination-crl",3,"pageChange"],[1,"backlink",3,"click"],[1,"fa","fa-long-arrow-left"],[2,"text-align","left"],[2,"font-weight","600"],[3,"innerHTML"],["answer",""]],template:function(i,l){1&i&&(t.TgZ(0,"div")(1,"ul",0)(2,"li",1)(3,"a",2),t._uU(4,"Home"),t.qZA()(),t.TgZ(5,"li",1)(6,"a"),t._uU(7,"Customer"),t.qZA()(),t.TgZ(8,"li",1)(9,"a",3),t._uU(10,"Knowledgebase"),t.qZA()()(),t.TgZ(11,"div",4),t.YNc(12,S,5,1,"div",5),t.TgZ(13,"div",6),t.YNc(14,I,21,15,"div",7),t.YNc(15,Y,9,2,"div",8),t.qZA()()()),2&i&&(t.xp6(12),t.Q6J("ngIf",l.showMenuList),t.xp6(1),t.Q6J("ngStyle",t.VKq(4,F,l.showMenuList?"67%":"100%")),t.xp6(1),t.Q6J("ngIf",!l.articleAnswerView),t.xp6(1),t.Q6J("ngIf",l.articleAnswerView))},dependencies:[_.mk,_.sg,_.O5,_.PC,d.rH,d.Od,p.LS,_.uU,p._s],styles:["body[_ngcontent-%COMP%]{background-color:#f1f1f1!important}.MainBox[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-5)}.MainBox[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-18)}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]{width:33%;height:auto;border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:var(--font-size-24) var(--font-size-12);background:#fff}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;text-align:left;padding-left:var(--font-size-14)}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:var(--font-size-12)}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;cursor:pointer;font-size:var(--font-size-16)}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#00f}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%]{color:#000}.MainBox[_ngcontent-%COMP%]   .rightBox[_ngcontent-%COMP%]{width:67%}.kbase[_ngcontent-%COMP%]{height:auto;border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);width:100%;padding:var(--font-size-24) var(--font-size-40);background:#fff;font-size:var(--font-size-16)}.kbase[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16)!important}.kbase[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16)!important}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]{text-align:left}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-24);text-transform:capitalize;color:#474554;margin-bottom:var(--font-size-24);margin-bottom:5px}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16);line-height:var(--font-size-24);color:#6f7784}.input-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:var(--font-size-12);align-items:center}.input-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);color:#0e1321;margin-bottom:0}.input-text[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--font-size-16);padding:.7em 1.3em;border-radius:var(--font-size-5)}.input-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30%;position:relative}.input-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:var(--font-size-8);top:50%;transform:translateY(-50%);background-color:transparent;border:none;padding:.5em}.input-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16)}.readmore[_ngcontent-%COMP%]{color:#110062!important;cursor:pointer;font-size:var(--font-size-15)}.backlink[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#002060;margin-bottom:var(--font-size-10);background:#f2f2f2;width:10%;padding:var(--font-size-5) var(--font-size-10);font-size:var(--font-size-14);border-radius:var(--font-size-18);cursor:pointer}@media screen and (max-width: 991px){.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important;line-height:24px}.kbase[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{max-width:100%!important}.kbase[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px!important}.MainBox[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%], .MainBox[_ngcontent-%COMP%]   .rightBox[_ngcontent-%COMP%]{width:100%!important}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]{padding:15px}.input-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:13px}.input-text.u-add[_ngcontent-%COMP%]{flex-direction:column}.input-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.input-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:left;margin:16px 0}.MainBox[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.kbase[_ngcontent-%COMP%]{padding:20px 15px}.input-text[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;padding:10px;border-radius:var(--font-size-5)}}@media screen and (max-width: 991px){.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal!important}.MainBox[_ngcontent-%COMP%]   .leftBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.input-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:8px;top:12px}.backlink[_ngcontent-%COMP%]{width:15%;padding:5px 10px;font-size:12px;border-radius:var(--font-size-18);cursor:pointer}.kbase[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}}@media screen and (max-width: 580px){.backlink[_ngcontent-%COMP%]{width:35%}}.btn.sync[_ngcontent-%COMP%]{background:#394A9C;border-radius:5px;color:#fff;font-size:var(--font-size-14);padding:.5em 1em}"]})}return e})()}];let D=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(H),d.Bz]})}return e})();var R=s(2508);let E=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[_.ez,D,R.u5,p.JX]})}return e})()}}]);
//# sourceMappingURL=315.d5f186659f5f1843.js.map