"use strict";(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[868],{5143:(G,w,c)=>{c.d(w,{v:()=>t});var p=c(2340),r=c(2560),g=c(8987);let t=(()=>{class C{constructor(f){this._http=f,this.baseUrl=p.N.baseUrl}getCustomers(f){return this._http.get(this.baseUrl+"/api/v1/admin/customer",{params:f})}getCustomerByUuid(f){return this._http.get(`${this.baseUrl}/api/v1/admin/customer/${f}`)}createFileServiceRequest(f){return this._http.post(`${this.baseUrl}/api/v1/file/service/request`,f)}getFileFormData(){return this._http.get(`${this.baseUrl}/api/v1/file/service/get/file_form_data`)}static#t=this.\u0275fac=function(U){return new(U||C)(r.LFG(g.eN))};static#e=this.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},6868:(G,w,c)=>{c.r(w),c.d(w,{TicketModule:()=>Jn});var p=c(4666),r=c(2508),g=c(5465),t=c(2560);let C=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-ticket"]],decls:2,vars:0,template:function(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1,"edit-ticket works!"),t.qZA())}})}return n})();var m=c(8347),f=c(3691),U=c(253),D=c(1989),K=c(8977),W=c(6901),Z=c.n(W),L=c(1225),q=c(4497),V=c(9123),A=c(4817),N=c(6223),M=c(3927),S=c(5150),J=c(2563),z=c(196),x=c(2302),X=c(9215),tt=c(489),et=c(4864);function it(n,s){if(1&n&&(t.TgZ(0,"option",100),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",t.lcZ(2,2,null==e?null:e.title)," ")}}function nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",85)(1,"smart-search",86),t.NdJ("onSearch",function(i){t.CHM(e);const a=t.oxw();return a.page=1,t.KtG(a.searchTickets(i))}),t.qZA(),t.TgZ(2,"select",87),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.enableFilter())})("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.enabledFilter=i)}),t.TgZ(3,"option",88),t._uU(4,"Select Filter"),t.qZA(),t.YNc(5,it,3,4,"option",34),t._uU(6," > "),t.qZA(),t.TgZ(7,"div")(8,"button",89),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getTicketCategory())}),t.O4$(),t.TgZ(9,"svg",90),t._UZ(10,"g",91)(11,"g",92),t.TgZ(12,"g",93),t._UZ(13,"path",94),t.qZA()(),t.kcU(),t.TgZ(14,"span",95),t._uU(15,"Filter"),t.qZA()()(),t.TgZ(16,"div")(17,"button",96),t._UZ(18,"i",97),t.qZA()(),t.TgZ(19,"div")(20,"button",98),t._UZ(21,"i",99),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.enabledFilter),t.xp6(3),t.Q6J("ngForOf",e.userFilterList)}}function ot(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",101),t.NdJ("appDebounce_click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.downloadCsv(i.tickets,"tickerData.csv"))}),t._uU(1,"Download CSV"),t.qZA()}2&n&&t.Q6J("appDebounce_click_time",1e3)}function at(n,s){if(1&n&&(t.TgZ(0,"td",108),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("title",null==e?null:e.subject),t.xp6(1),t.hij(" ",o.truncateText(null==e?null:e.subject,20)," ")}}function st(n,s){1&n&&(t.TgZ(0,"td"),t._uU(1,"NA"),t.qZA())}function lt(n,s){1&n&&t._UZ(0,"i",127)}function rt(n,s){1&n&&t._UZ(0,"i",128)}function ct(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"i",129),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.getErrorList(null==i||null==i.file_request?null:i.file_request.request_id))}),t.qZA()}}function dt(n,s){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.file_request||null==e.file_request.credit_spent?null:e.file_request.credit_spent.credit," ",1==(null==e||null==e.file_request||null==e.file_request.credit_spent?null:e.file_request.credit_spent.credit_type)?"File Key":2==(null==e||null==e.file_request||null==e.file_request.credit_spent?null:e.file_request.credit_spent.credit_type)?"EVC":"Function Key"," ")}}function ut(n,s){1&n&&(t.TgZ(0,"td"),t._uU(1,"NA"),t.qZA())}function ft(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1,"NA"),t.qZA())}const ht=function(n){return["/admin/role/view/",n]};function _t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",130)(1,"div",104)(2,"span",131),t._uU(3),t.TgZ(4,"i",132),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return a.getTicketDetail(i),t.KtG(a.getUserByRole())}),t.qZA(),t._UZ(5,"i",133),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",(null==e||null==e.assigned_to?null:e.assigned_to.first_name)||"NA"," ",(null==e||null==e.assigned_to?null:e.assigned_to.last_name)||"NA"," "),t.xp6(2),t.Q6J("routerLink",t.VKq(3,ht,null==e||null==e.assigned_to?null:e.assigned_to.id))}}function pt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",134),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.getFileList(null==i?null:i.request_id))}),t._UZ(1,"i",135),t.qZA()}}const gt=function(n){return["/admin/tickets/request-file",n]},mt=function(n){return{reqId:n}};function vt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",136),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return a.saveTicketDetail(i),t.KtG(a.savePageDetail())}),t._UZ(1,"i",137),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(2,gt,null==e?null:e.ids))("queryParams",t.VKq(4,mt,null==e?null:e.request_id))}}function bt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",138),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.adminTicket=i)}),t._UZ(1,"i",139),t.qZA()}}function Ct(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",140),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.frId=null==i?null:i.ids)}),t._UZ(1,"i",141),t.qZA()}}const E=function(n,s){return["/admin/tickets/view-ticket",n,s]},Tt=function(n){return["/admin/customer/view/",n]},Zt=function(n){return{state:n}},kt=function(n){return["/admin/fileservice/timeline",n]},xt=function(){return{fromTicket:!0}};function yt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",102),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",103)(5,"div",104)(6,"span"),t._uU(7),t.qZA()()()(),t.TgZ(8,"td")(9,"span",105),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.getTicketDetail(a))}),t._uU(10),t._UZ(11,"i",106),t.qZA()(),t.YNc(12,at,2,2,"td",107),t.YNc(13,st,2,0,"td",74),t.TgZ(14,"td",108),t._uU(15),t.qZA(),t.TgZ(16,"td",108),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"span",109),t.YNc(20,lt,1,0,"i",110),t.YNc(21,rt,1,0,"i",111),t.YNc(22,ct,1,0,"i",112),t.qZA()(),t.YNc(23,dt,2,2,"td",74),t.YNc(24,ut,2,0,"td",74),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td"),t.YNc(32,ft,2,0,"span",113),t.YNc(33,_t,6,5,"ng-template",null,114,t.W1O),t.qZA(),t.TgZ(35,"td",115)(36,"div",116)(37,"a",117),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return l.getTicketDetail(a),t.KtG(l.savePageDetail())}),t._UZ(38,"i",118),t.qZA(),t.TgZ(39,"a",119),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return l.getTicketDetail(a),t.KtG(l.savePageDetail())}),t._UZ(40,"i",120),t.qZA(),t.TgZ(41,"a",121),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.getVehicleDetail(a))}),t._UZ(42,"i",122),t.qZA(),t.YNc(43,pt,2,0,"a",123),t.YNc(44,vt,2,6,"a",124),t.YNc(45,bt,2,0,"a",125),t.YNc(46,Ct,2,0,"a",126),t.qZA()()()}if(2&n){const e=s.$implicit,o=t.MAs(34),i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.WLB(30,E,null==e?null:e.ids,null==e?null:e.id)),t.xp6(1),t.hij(" ",(null==e?null:e.ids)||"NA"," "),t.xp6(2),t.Q6J("routerLink",t.VKq(33,Tt,null==e||null==e.created_by?null:e.created_by.uuid)),t.xp6(3),t.AsE("",(null==e||null==e.created_by?null:e.created_by.first_name)||"NA"," ",null==e||null==e.created_by?null:e.created_by.last_name," "),t.xp6(3),t.hij(" ",(null==e||null==e.ticket_status?null:e.ticket_status.team_status)||"New"," "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.subject),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.subject)),t.xp6(1),t.Q6J("title",null==e?null:e.request_id),t.xp6(1),t.hij(" ",(null==e?null:e.request_id)||"NA"," "),t.xp6(1),t.Q6J("title",null==e?null:e.category),t.xp6(1),t.Oqu(null==e?null:e.category),t.xp6(3),t.Q6J("ngIf",!(null!=e&&null!=e.file_request&&e.file_request.is_error)),t.xp6(1),t.Q6J("ngIf",null==e||null==e.file_request?null:e.file_request.is_error),t.xp6(1),t.Q6J("ngIf",null==e||null==e.file_request?null:e.file_request.is_error),t.xp6(1),t.Q6J("ngIf",null==e||null==e.file_request||null==e.file_request.credit_spent?null:e.file_request.credit_spent.credit),t.xp6(1),t.Q6J("ngIf",!(null!=e&&null!=e.file_request&&null!=e.file_request.credit_spent&&e.file_request.credit_spent.credit)),t.xp6(2),t.Oqu(i.noti.formatDate(null==e?null:e.created_at)),t.xp6(2),t.Oqu(i.noti.formatDate(null==e?null:e.updated_at)),t.xp6(2),t.Oqu((null==e?null:e.conversation_count)||0),t.xp6(2),t.Q6J("ngIf",null===(null==e?null:e.assigned_to))("ngIfElse",o),t.xp6(5),t.Q6J("routerLink",t.WLB(35,E,null==e?null:e.ids,null==e?null:e.id))("state",t.VKq(38,Zt,e)),t.xp6(2),t.Q6J("routerLink",t.VKq(40,kt,null==e?null:e.request_id))("queryParams",t.DdM(42,xt)),t.xp6(4),t.Q6J("ngIf",(null==e?null:e.request_id)&&"Full access"==(null==i.permissions?null:i.permissions.ticket)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.request_id)&&"Full access"==(null==i.permissions?null:i.permissions.ticket)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.request_id)&&(null==e||null==e.admin_ticket?null:e.admin_ticket.length)>0&&"Full access"==(null==i.permissions?null:i.permissions.ticket)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.request_id)&&"Full access"==(null==i.permissions?null:i.permissions.ticket))}}function wt(n,s){1&n&&(t.TgZ(0,"p",142)(1,"span"),t._uU(2,"Records not found"),t.qZA()())}function qt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"pagination-controls",143),t.NdJ("pageChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handlePageChange(i))}),t.qZA()}}function At(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",144)(6,"a",145),t.NdJ("click",function(){const i=t.CHM(e),a=i.$implicit,l=i.index,d=t.oxw();return t.KtG(d.downloadFIle(a,l))}),t._UZ(7,"i",135),t.qZA()(),t.TgZ(8,"td",144),t._uU(9),t.qZA()()}if(2&n){const e=s.$implicit,o=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.Oqu(o.noti.formatDate(null==e?null:e.created_at)),t.xp6(5),t.hij(" ",null!=e&&e.downloaded_times?null==e?null:e.downloaded_times:0," ")}}const Mt=function(){return["/admin/fileservice"]},R=function(n){return{id:n}};function Ot(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",115)(4,"div",116)(5,"a",146),t._UZ(6,"i",118),t.qZA()()()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.request_id),t.xp6(3),t.Q6J("routerLink",t.DdM(3,Mt))("queryParams",t.VKq(4,R,null==e?null:e.request_id))}}function Ut(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&n){const e=s.$implicit,o=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.Oqu(o.noti.formatDate(null==e?null:e.created_at)),t.xp6(2),t.Oqu(null==e?null:e.description)}}function zt(n,s){if(1&n&&(t.TgZ(0,"option",100),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",(null==e?null:e.ticket_status)||"New"," ")}}function Pt(n,s){if(1&n&&(t.TgZ(0,"option",100),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",(null==e?null:e.ticket_status)||"New"," ")}}function It(n,s){if(1&n&&(t.TgZ(0,"option",100),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Ft(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",147)(1,"input",148),t.NdJ("change",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onChangeTicketStatus(null==a?null:a.id))}),t.qZA(),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()}if(2&n){const e=s.$implicit;t.xp6(3),t.Oqu((null==e?null:e.ticket_status)||"New"),t.xp6(2),t.hij(" ",null==e?null:e.count," ")}}function Dt(n,s){if(1&n&&(t.TgZ(0,"option",100),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",null==e?null:e.user_id),t.xp6(1),t.lnq(" ",null==e?null:e.first_name," ",null==e?null:e.last_name," (",null==e?null:e.email,") ")}}function Lt(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"p"),t._uU(3,"Customer Name"),t.qZA()(),t.TgZ(4,"div",75)(5,"span"),t._uU(6),t.qZA(),t._UZ(7,"br"),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.AsE(" ",(null==e.vehDetail?null:e.vehDetail.customer_first_name)||"NA"," ",null==e.vehDetail?null:e.vehDetail.customer_last_name," ")}}function Vt(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"p"),t._uU(3,"Company Name"),t.qZA()(),t.TgZ(4,"div")(5,"span"),t._uU(6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(6),t.Oqu((null==e.vehDetail||null==e.vehDetail.user?null:e.vehDetail.user.company_name)||"NA")}}const B=function(){return["/admin/tickets/group-ticket-filter"]};function Nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",147)(1,"p"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div")(5,"button",149),t._UZ(6,"i",150),t.qZA(),t.TgZ(7,"button",151),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectedFilter=a)}),t._UZ(8,"i",152),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,null==e?null:e.title)),t.xp6(3),t.Q6J("routerLink",t.DdM(5,B))("queryParams",t.VKq(6,R,null==e?null:e.id))}}function St(n,s){1&n&&(t.TgZ(0,"p",142)(1,"span",153),t._uU(2,"No Filter Available."),t.qZA()())}const Jt=function(n,s,e){return{itemsPerPage:n,currentPage:s,totalItems:e}};let Et=(()=>{class n{constructor(e,o,i,a,l,d,v,h,u,_){this.fb=e,this._titleservice=o,this.ar=i,this._ticketservice=a,this.toastr=l,this._roleservice=d,this.crud=v,this._permissions=h,this.pageService=u,this.noti=_,this.roleList=[],this.roleUserList=[],this.ticketIdsArr=[],this.ticketCategories=[],this.ticketStatus=[],this.tickets=[],this.page=1,this.pageSize=10,this.title="",this.status="",this.category="",this.created_at="",this.ticketIds=[],this.showFilter=!1,this.addi_info=!1,this.ctrl_unit=!1,this.country=!1,this.engine_size=!1,this.asso_custo=!1,this.fuel_type=!1,this.mileage=!1,this.model=!1,this.transmission=!1,this.tuning_required=!1,this.vehicle_VIN=!1,this.vehicle_make=!1,this.vehicle_registration=!0,this.vehicle_year=!1,this.showError=!1,this.dropsDown="down",this.dropsUp="up",this.opensRight="right",this.opensCenter="center",this.opensLeft="left",this.invalidDates=[],this.localeTime={firstDay:1,startDate:Z()().startOf("day"),endDate:Z()().endOf("day"),format:"DD.MM.YYYY HH:mm:ss",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To"},this.locale={firstDay:1,startDate:Z()().startOf("day"),endDate:Z()().endOf("day"),format:"YYYY-MM-DD",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",displayFormat:"YYYY-MM-DD"},this.tooltips=[{date:Z()(),text:"Today is just unselectable"},{date:Z()().add(2,"days"),text:"Yeeeees!!!"}],this.dateLimit=30,this.enabledFilter="",this.type=this.ar.queryParams,this.showDownload=!1,this.searchSubject=new U.x,this.userFilterList=[],this.isInvalidDate=b=>this.invalidDates.some(k=>k.isSame(b,"day")),this.isCustomDate=b=>(0===b.month()||6===b.month())&&"mycustomdate",this.isTooltipDate=b=>{const k=this.tooltips.find(F=>F.date.isSame(b,"day"));return!!k&&k.text},this.dateRange={startDate:"",endDate:""},this.isStandaloneTicket=!1,this.retrieveTickets(!1),this.getFilterList(),this._titleservice.setTitle("Tickets"),this.filterTicketForm=this.fb.group({status:["",r.kI.required],category:["",r.kI.required],created_at:["",r.kI.required]}),this.ticketstatusForm=this.fb.group({ticket_status:["",r.kI.required]}),this.frTicketstatusForm=this.fb.group({ticket_status:["",r.kI.required]}),this.ticketAssignForm=this.fb.group({role_id:["Select Role",r.kI.required],user_id:["Select User",r.kI.required]}),this.permissions=this._permissions.getPermissions()}ngOnInit(){this.getCountByCategory(),this.usersdetail=JSON.parse(localStorage.getItem("userdetails")||""),this.searchSubject.pipe((0,D.b)(1e3),(0,K.x)()).subscribe(i=>{this.page=1,this.searchTicketResult()});var e=this.pageService.getPageDetail();e&&(this.page=e),this.ticketIdsArr=localStorage.getItem("ticketids")?.split(","),this.type._value.chartType&&(this.showDownload=!0,this.crud.getRequest(""+("month"==this.type._value.chartType?`dashboard/internal/ticket/by_status/activity/data?month=${this.type._value.month}&filter_type=range&year=${this.type._value.year}&ticket_status=${this.type._value.ticket_status}`:`dashboard/internal/ticket/by_status/activity/data?filter_by=date&from_date=${this.type._value.start_date}&to_date=${this.type._value.start_date}&ticket_status=${this.type._value.ticket_status}`)).then(i=>{i&&this.modifyTicketDetails(i)})),this.handleLiveTicketUpdates()}handleLiveTicketUpdates(){this.noti.onTicketUpdats.subscribe(e=>{if(!e||!this.tickets?.length)return;const o=this.tickets.find(i=>i.ids==e.ticket_id);o&&(o.conversation_count=e.ticket_conversation,o.updated_at=e.ticket_modified_time,o.ticket_status.team_status=e.ticket_status,o.ticket_status.display_user_status=e.ticket_status,o.assigned_to.first_name=e.ticket_assigned,o.assigned_to.last_name=" ",console.log(o,"updated ticket"))})}getFilterList(){this.crud.get(`admin/ticket/group/list_by_role?role_id=${this.usersdetail?.roles?.id}`,!0).subscribe(e=>{e&&(this.userFilterList=e.data,this.userFilterList=this.sort(this.userFilterList,"title"))}),this.crud.get("admin/ticket/active/filter_for_user",!0).subscribe(e=>{e&&e.data&&e.data.id&&(this.enabledFilter=e.data?.id)})}enableFilter(){this.page=1,this.crud.get(`admin/ticket/active/filter?active_filter_id=${this.enabledFilter}`).subscribe(e=>{e&&(console.log(e,"res"),this.retrieveTickets(!1))})}datesUpdatedRange(e,o){this.startDate=e.startDate.$y+"-"+(e.startDate.$M+1)+"-"+e.startDate.$D,this.toDate=e.endDate.$y+"-"+(e.endDate.$M+1)+"-"+e.endDate.$D,this.retrieveTickets(!1)}datesUpdatedSingle(e){console.log("single",e)}datesUpdatedInline(e){console.log("inline",e)}savePageDetail(){this.pageService.savePageDetail(window.location.href,this.page)}getSavedTicketFilter(){this.crud.getRequest(`${m.t.getSavedTicketFilter}`).then(e=>{this.filterTicketForm.controls.status.setValue(e?.data?.custom_filter?.status?e?.data?.custom_filter?.status:""),this.filterTicketForm.controls.category.setValue(e?.data?.custom_filter?.category?e?.data?.custom_filter?.category:""),this.filterTicketForm.controls.created_at.setValue(e?.data?.custom_filter?.created_at?e?.data?.custom_filter?.created_at:""),this.retrieveTickets(!1)})}getErrorList(e){this.crud.getRequest(`${m.t.geterrorDetail}${e}`).then(o=>{o&&(this.errorList=o.data)})}downloadCsv(e,o){const i=this.constructCsvContent(e),a=new Blob([i],{type:"text/csv"}),l=document.createElement("a");l.href=window.URL.createObjectURL(a),l.download=o,document.body.appendChild(l),l.click(),document.body.removeChild(l)}constructCsvContent(e){let o="Ticket ID,Created By,Status,Subject,Request Id,Category,Credit,Created,Assign To\n";return e.forEach(i=>{o+=`${i.ids},${i.created_by?.first_name} ${i.created_by?.last_name} ,${i.ticket_status?.team_status},${this.truncateText(i?.subject,20)||"NA"} ,${i?.request_id||"NA"},${i.category},${i.file_request?.credit_spent.credit||"NA"} ${i.file_request?.credit_spent?.credit?1==i?.file_request?.credit_spent?.credit_type?"File Key":2==i?.file_request?.credit_spent?.credit_type?"EVC":"Function Key":""},${this.noti.formatDate(i?.created_at)},${i.assigned_to?.first_name} ${i.assigned_to?.last_name}\n`}),o}getTicketCategory(){this.crud.getRequest(`${m.t.getTicketCategory}`).then(e=>{e&&(this.ticketCategories=e.data.results)})}getUserByRole(e){this._roleservice.getRoles({}).subscribe(o=>{this.roleUserList=o.data},o=>{})}ticketAssignFormSubmit(){this._roleservice.ticketAssignTo(this.ticketstatusid,{user_id:this.ticketAssignForm.value?.user_id}).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),document.getElementById("closeticketasignmodal")?.click(),this.retrieveTickets(!1)},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}saveTicketDetail(e){localStorage.setItem("fileRequestData",JSON.stringify(e))}getTicketDetail(e){this.ticketstatusid=e.ids;let o=null!=e.ticket_status?.id?e.ticket_status.id:0;this.ticketstatusForm.patchValue({ticket_status:o}),localStorage.setItem("ticketsharedata",JSON.stringify({assigned_to_name:e.assigned_to?.first_name,assigned_to_email:e.assigned_to?.email,ids:e.ids,id:o,ticketstatus:this.ticketStatus,status:null!=e.ticket_status?e.ticket_status.team_status:"New"}))}ticketstatusFormSubmit(){this._ticketservice.updateTicketStatus(this.ticketstatusid,this.ticketstatusForm.value).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),this.retrieveTickets(!1),document.getElementById("closemodal")?.click()},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}frTicketstatusFormSubmit(){this._ticketservice.updateFRTicketStatus(this.frTicketstatusForm.value.ticket_status,this.frId).subscribe(e=>{this.toastr.success(e.message,"",{timeOut:4e3}),document.getElementById("closeFtmodal")?.click(),this.frTicketstatusForm.controls.ticket_status.setValue("")},e=>{this.toastr.error(e.error.detail,"",{timeOut:4e3})})}getRequestParams(e,o,i,a,l,d,v){let h={};return e&&(h.search=e),o&&(h.page=o),i&&(h.page_size=i),a&&(h.status=a),l&&(h.category=l),d&&(h.created_at=d),h.filter=v,this.startDate&&(h.start_date=this.startDate),this.toDate&&(h.end_date=this.toDate),h}searchTickets(e){this.page=1,this.searchKey=e,this.searchTicketResult()}searchTicketResult(){this.searchKey.length>0?this.crud.getRequest(`admin/ticket/search?search=${this.searchKey}`).then(e=>{this.modifyTicketDetails(e)}):this.retrieveTickets(!1)}retrieveTickets(e,o,i){const a=this.getRequestParams(this.searchKey,this.page,this.pageSize,this.status,this.category,this.created_at,e);o&&(this.sortField=o,this.sortOrder=i),this.sortField&&(a.field=this.sortField,a.order_in=this.sortOrder),this.status?this.getTicketFilterByTicketStatus():this._ticketservice.getTicket(a).subscribe(l=>{this.modifyTicketDetails(l)},l=>{this.toastr.error(l.error.detail,"",{timeOut:4e3})})}modifyTicketDetails(e){this.tickets=e?.data?.results?e?.data?.results:e?.data,this.tickets?.forEach(o=>{o.allVehicleDetail=o?.file_request?o?.file_request:o?.vehicle_details}),this.showError=0==this.tickets?.length,this.totalTicket=e?.data?.count}getCountByCategory(){this._ticketservice.getStatusCount().subscribe(e=>{e&&(0==this.ticketStatus?.length&&e.count_by_category.forEach((o,i)=>{0!=o.id?this.ticketStatus.push(o):this.ticketStatus.unshift({id:0,count:o.count,ticket_status:"New"})}),this.ticketStatus=this.sort(this.ticketStatus,"ticket_status"))})}getTicketsOnFilter(e,o){let i={};i.field=e,i.order_in=o,i.filter=!1,this._ticketservice.getTicket(i).subscribe(a=>{this.tickets=a.data.results,this.showError=0==this.tickets.length,this.totalTicket=a.data.count,0==this.ticketStatus.length&&a.count_by_category.forEach((l,d)=>{0!=l.id?this.ticketStatus.push(l):this.ticketStatus.unshift({id:0,count:l.count,ticket_status:"New"})})},a=>{this.toastr.error(a.error.detail,"",{timeOut:4e3})})}handlePageChange(e){this.page=e,this.status?this.getTicketFilterByTicketStatus():this.retrieveTickets(!!this.searchKey)}onKeyUp(e){this.title=e,this.page=1,this.retrieveTickets(!1)}filterTicketFormSubmit(){this.page=1,this.category=this.filterTicketForm.value.category,this.status=this.filterTicketForm.value.status,this.created_at=this.filterTicketForm.value.created_at,this.getTicketByFilter(),document.getElementById("closefilterconvas")?.click()}getTicketByFilter(){let e={};this.status&&(e.status=this.status),this.category&&(e.category=this.category),this.created_at&&(e.created_at=this.created_at),this._ticketservice.getTicketOnFilter(e).subscribe(o=>{this.modifyTicketDetails(o)},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}restFilter(){""==this.filterTicketForm.value.status&&""==this.filterTicketForm.value.category&&""==this.filterTicketForm.value.created_at||(this.category="",this.status="",this.created_at="",this.filterTicketForm.controls.status.setValue(""),this.filterTicketForm.controls.category.setValue(""),this.filterTicketForm.controls.created_at.setValue(""),this.retrieveTickets(!0)),document.getElementById("closefilterconvas")?.click()}filterByStatus(){localStorage.setItem("ticketids",this.ticketIds.toString()),this.status=this.ticketIds.toString(),this.page=1,this.status?(this.page=1,this.getTicketFilterByTicketStatus()):this.retrieveTickets(!1),document.getElementById("closeticketstatusconvas")?.click()}getTicketFilterByTicketStatus(){let e="";this.sortField&&(e=`&field=${this.sortField}&order_in=${this.sortOrder}`),this.crud.getRequest(`admin/ticket/filter_by_status?status=${this.status}&page=${this.page}&page_size=${this.pageSize}${e}`).then(o=>{this.modifyTicketDetails(o)})}getFileList(e){this.crud.getRequest(`${m.t.fileDownloadList}${e}`).then(o=>{o&&(this.downloadFileList=o.data)})}downloadFIle(e,o){this.crud.getRequest(`${f.d.updateDownloadCount}${e.id}`).then(i=>{i&&(this.downloadFileList[o].downloaded_times=i.counter,window.open(e.url,"_blank"))})}onChangeTicketStatus(e){if(this.ticketIds.includes(e)){const o=this.ticketIds.indexOf(e);o>-1&&this.ticketIds.splice(o,1)}else this.ticketIds.push(e)}ngOnDestroy(){localStorage.removeItem("ticketids")}truncateText(e,o){return e?.trim().length>o?e.substring(0,o)+"...":e}sort(e,o){return e.sort((i,a)=>{var l=i[o].toUpperCase(),d=a[o].toUpperCase();return l<d?-1:l>d?1:0})}deleteSavedFilter(){this.crud.deleteRequest(`admin/ticket/group?filter_id=${this.selectedFilter?.id}`).then(e=>{e&&(this.toastr.success(e.message),this.getFilterList())})}getVehicleDetail(e){if(e?.vehicle_details?.model)return this.isStandaloneTicket=!0,void(this.vehDetail=e.vehicle_details);this.isStandaloneTicket=!1,this.crud.getRequest(`file/service/request/detail/${e?.request_id.replace("FR","")}`).then(o=>{this.vehDetail=o,"other_fields"in this.vehDetail&&this.vehDetail.other_fields&&(this.vehDetail.other_fields=this.vehDetail.other_fields.replaceAll("_"," ").replaceAll(",",", "))})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(r.qu),t.Y36(q.Dx),t.Y36(g.gz),t.Y36(V.w),t.Y36(A._W),t.Y36(N.N),t.Y36(M.I),t.Y36(S.q),t.Y36(J.f),t.Y36(z.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-ticket-list"]],viewQuery:function(o,i){if(1&o&&t.Gf(L.Bf,5),2&o){let a;t.iGM(a=t.CRH())&&(i.pickerDirective=a.first)}},decls:454,vars:59,consts:[[1,"user-list"],[1,"ulist-div"],[1,"u-add","after-seperator"],[1,"main-title"],["class","u-add-right",4,"ngIf"],["class","csv-dwnld","appDebounce","",3,"appDebounce_click_time","appDebounce_click",4,"ngIf"],[1,"responsive-tbl","mt-4"],[1,"d-flex","align-items-center"],[1,"mb-0"],[3,"onSort"],[2,"min-width","12ch"],[1,"tableHeadAction"],[4,"ngFor","ngForOf"],["class","errcls","style","justify-content: center !important",4,"ngIf"],["class","pagination-crl","previousLabel","Prev","nextLabel","Next",3,"pageChange",4,"ngIf"],["id","chngeEmailModal",1,"modal"],[1,"v-align"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","downloadFile"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"responsive-tbl"],["id","viewFileReqModal",1,"modal"],[2,"text-align","center"],["id","chngeEmailModal2",1,"modal"],["id","updateStatusModal",1,"modal","productModal"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["type","button","id","closemodal","data-bs-dismiss","modal",1,"btn-close"],["for","status",1,"form-label"],["formControlName","ticket_status",1,"form-select"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","id","closemodal","data-bs-dismiss","modal",1,"btn","btn-danger"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","filter",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","id","closefilterconvas","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-body"],["formControlName","status",1,"form-select"],["value",""],["formControlName","category",1,"form-select"],["formControlName","created_at",1,"form-select"],["value","today"],["value","yesterday"],["value","week"],["value","month"],[1,"cancel-apply"],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-secondary"],["id","changeStatusModel",1,"modal","productModal"],[1,"modal-header",2,"margin-bottom","0px !important","padding-bottom","0px !important"],["type","button","id","closeFtmodal","data-bs-dismiss","modal",1,"btn-close"],["disabled","","value",""],["value","OPEN"],["value","CLOSED"],["value","Manual Handle"],["id","ticketStatus",1,"offcanvas","offcanvas-end"],["type","button","id","closeticketstatusconvas","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-inner"],["class","active",4,"ngFor","ngForOf"],["type","button","id","closefiltermodal","data-bs-dismiss","offcanvas",1,"btn"],["type","button",1,"btn","btn-secondary",3,"click"],["id","assignToModal",1,"modal","productModal","mt-4"],[1,"modal-header",2,"margin-bottom","0px !important"],["type","button","id","closeticketasignmodal","data-bs-dismiss","modal",1,"btn-close"],["formControlName","user_id",1,"form-select"],["type","button","id","closeticketasignmodal","data-bs-dismiss","modal",1,"btn","btn-danger"],["id","vehicleDetail",1,"offcanvas","offcanvas-end"],[1,"offcanvas-body","viewTicket"],[4,"ngIf"],[2,"display","block"],["id","viewFilterList",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","d-flex","justify-content-between"],["type","button",1,"btn","btn-primary",2,"border","none","background-color","#394a9c","margin-right","20px",3,"routerLink"],["type","button","id","closefilterList","data-bs-dismiss","offcanvas",1,"btn-close"],["id","deleteModal",1,"modal"],[1,"modal-content","deleteModal"],[1,"flexDiv"],["data-bs-dismiss","modal",1,"btn","cancel"],["type","button","data-bs-dismiss","modal",1,"btn","delete",3,"click"],[1,"u-add-right"],["placeholder","Search...",3,"onSearch"],[1,"form-select","bg-input",2,"width","20ch",3,"ngModel","change","ngModelChange"],["value","","disabled",""],["type","button","data-bs-toggle","offcanvas","data-bs-target","#filter",1,"btn-secondary","d-flex",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"vertical-align","sub"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill-rule","evenodd","clip-rule","evenodd","d","M15 10.5A3.502 3.502 0 0 0 18.355 8H21a1 1 0 1 0 0-2h-2.645a3.502 3.502 0 0 0-6.71 0H3a1 1 0 0 0 0 2h8.645A3.502 3.502 0 0 0 15 10.5zM3 16a1 1 0 1 0 0 2h2.145a3.502 3.502 0 0 0 6.71 0H21a1 1 0 1 0 0-2h-9.145a3.502 3.502 0 0 0-6.71 0H3z","fill","currentColor"],[1,"ms-1"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#ticketStatus",1,"btn","btn-primary",2,"border","none","background","none","color","#394a9c","border","1px solid","padding","2px 5px"],["aria-hidden","true",1,"fa","fa-arrow-right"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#viewFilterList",1,"btn","btn-primary",2,"border","none","background","none","color","#394a9c","border","1px solid","padding","2px 5px"],["aria-hidden","true",1,"fa","fa-filter"],[3,"value"],["appDebounce","",1,"csv-dwnld",3,"appDebounce_click_time","appDebounce_click"],[1,"pointer",2,"color","blue",3,"routerLink"],[1,"tdholder","pointer",3,"routerLink"],[1,"tdinner"],["data-bs-toggle","modal","data-bs-target","#updateStatusModal",1,"blue","d-flex",3,"click"],["title","Edit",1,"fa","fa-edit"],[3,"title",4,"ngIf"],[3,"title"],[1,"d-flex"],["style","color: #0b0bbf","class","fa fa-times","aria-hidden","true",4,"ngIf"],["style","color: green","class","fa fa-check","aria-hidden","true",4,"ngIf"],["style","color: #0b0bbf; margin-left: 10px","class","fa fa-question-circle-o pointer","aria-hidden","true","data-bs-toggle","modal","data-bs-target","#chngeEmailModal2",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["fulldetail",""],[1,"tableBodyAction"],[1,"actiontd"],[1,"eyeIcon",3,"routerLink","state","click"],["title","View",1,"fa","fa-eye"],[1,"eyeIcon",3,"routerLink","queryParams","click"],["title","History","aria-hidden","true",1,"fa","fa-clock-o"],["data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail",1,"eyeIcon","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-car"],["class","eyeIcon pointer","data-bs-toggle","modal","data-bs-target","#chngeEmailModal",3,"click",4,"ngIf"],["class","eyeIcon pointer",3,"routerLink","queryParams","click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#viewFileReqModal","class","eyeIcon pointer",3,"click",4,"ngIf"],["class","eyeIcon pointer","data-bs-toggle","modal","data-bs-target","#changeStatusModel",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-times",2,"color","#0b0bbf"],["aria-hidden","true",1,"fa","fa-check",2,"color","green"],["aria-hidden","true","data-bs-toggle","modal","data-bs-target","#chngeEmailModal2",1,"fa","fa-question-circle-o","pointer",2,"color","#0b0bbf","margin-left","10px",3,"click"],[1,"tdholder"],[1,"blue",2,"cursor","auto","white-space","nowrap"],["title","Edit","data-bs-toggle","modal","data-bs-target","#assignToModal",1,"fa","fa-edit","pointer",3,"click"],["title","View",1,"fa","fa-eye","pointer",3,"routerLink"],["data-bs-toggle","modal","data-bs-target","#chngeEmailModal",1,"eyeIcon","pointer",3,"click"],["title","Download","aria-hidden","true",1,"fa","fa-download"],[1,"eyeIcon","pointer",3,"routerLink","queryParams","click"],["aria-hidden","true",1,"fa","fa-pencil"],["data-bs-toggle","modal","data-bs-target","#viewFileReqModal",1,"eyeIcon","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-table"],["data-bs-toggle","modal","data-bs-target","#changeStatusModel",1,"eyeIcon","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-indent"],[1,"errcls",2,"justify-content","center !important"],["previousLabel","Prev","nextLabel","Next",1,"pagination-crl",3,"pageChange"],[2,"text-align","center !important"],[1,"eyeIcon",3,"click"],["data-bs-dismiss","modal",1,"eyeIcon",3,"routerLink","queryParams"],[1,"active"],["type","checkbox",3,"change"],["type","button",1,"btn",2,"border","none","color","#394a9c",3,"routerLink","queryParams"],["aria-hidden","true",1,"fa","fa-pencil",2,"padding","4px 6px","border","1px solid"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn",2,"border","none","color","red",3,"click"],["aria-hidden","true",1,"fa","fa-trash",2,"padding","4px 6px","border","1px solid"],[2,"color","red"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Ticket"),t.qZA(),t.YNc(5,nt,22,2,"div",4),t.YNc(6,ot,2,1,"a",5),t.qZA(),t.TgZ(7,"div",6)(8,"table")(9,"thead")(10,"th")(11,"div",7)(12,"p",8),t._uU(13,"Ticket ID"),t.qZA(),t.TgZ(14,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"ids",l)}),t.qZA()()(),t.TgZ(15,"th")(16,"div",7)(17,"p",8),t._uU(18,"Created By"),t.qZA(),t.TgZ(19,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"created_by__first_name",l)}),t.qZA()()(),t.TgZ(20,"th")(21,"div",7)(22,"p",8),t._uU(23,"Status"),t.qZA(),t.TgZ(24,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"ticket_status",l)}),t.qZA()()(),t.TgZ(25,"th")(26,"div",7)(27,"p",8),t._uU(28,"Subject"),t.qZA(),t.TgZ(29,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"subject",l)}),t.qZA()()(),t.TgZ(30,"th")(31,"div",7)(32,"p",8),t._uU(33,"Request Id"),t.qZA(),t.TgZ(34,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"request_id",l)}),t.qZA()()(),t.TgZ(35,"th")(36,"div",7)(37,"p",8),t._uU(38,"Category"),t.qZA(),t.TgZ(39,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"category",l)}),t.qZA()()(),t.TgZ(40,"th"),t._uU(41,"Error"),t.qZA(),t.TgZ(42,"th")(43,"div",10),t._uU(44," Credit "),t.qZA()(),t.TgZ(45,"th")(46,"div",7)(47,"p",8),t._uU(48,"Created"),t.qZA(),t.TgZ(49,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"created_at",l)}),t.qZA()()(),t.TgZ(50,"th")(51,"div",7)(52,"p",8),t._uU(53,"Modified"),t.qZA(),t.TgZ(54,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"updated_at",l)}),t.qZA()()(),t.TgZ(55,"th"),t._uU(56,"Conversations"),t.qZA(),t.TgZ(57,"th")(58,"div",7)(59,"p",8),t._uU(60,"Assign To"),t.qZA(),t.TgZ(61,"sort-button",9),t.NdJ("onSort",function(l){return i.retrieveTickets(!0,"assigned_to",l)}),t.qZA()()(),t.TgZ(62,"th",11),t._uU(63,"Action"),t.qZA()(),t.TgZ(64,"tbody"),t.YNc(65,yt,47,43,"tr",12),t.ALo(66,"paginate"),t.qZA()(),t.YNc(67,wt,3,0,"p",13),t.qZA(),t.YNc(68,qt,1,0,"pagination-controls",14),t.qZA(),t.TgZ(69,"div",15)(70,"div",16)(71,"div",17)(72,"div",18)(73,"div",19)(74,"h4",20),t._uU(75,"Download files"),t.qZA(),t._UZ(76,"button",21),t.qZA(),t.TgZ(77,"div",22)(78,"div",23)(79,"table")(80,"thead")(81,"th"),t._uU(82,"Title"),t.qZA(),t.TgZ(83,"th"),t._uU(84,"Created at"),t.qZA(),t.TgZ(85,"th"),t._uU(86,"Download"),t.qZA(),t.TgZ(87,"th"),t._uU(88,"Download Count"),t.qZA()(),t.YNc(89,At,10,3,"tr",12),t.qZA()()()()()()()(),t.TgZ(90,"div",24)(91,"div",16)(92,"div",17)(93,"div",18)(94,"div",19)(95,"h4",20),t._uU(96,"File Request"),t.qZA(),t._UZ(97,"button",21),t.qZA(),t.TgZ(98,"div",22)(99,"div",23)(100,"table")(101,"thead")(102,"th"),t._uU(103,"Request Id"),t.qZA(),t.TgZ(104,"th",25),t._uU(105,"Action"),t.qZA()(),t.YNc(106,Ot,7,6,"tr",12),t.qZA()()()()()()(),t.TgZ(107,"div",26)(108,"div",16)(109,"div",17)(110,"div",18)(111,"div",19)(112,"h4",20),t._uU(113,"Error Detail"),t.qZA(),t._UZ(114,"button",21),t.qZA(),t.TgZ(115,"div",22)(116,"div",23)(117,"table")(118,"thead")(119,"th"),t._uU(120,"Title"),t.qZA(),t.TgZ(121,"th"),t._uU(122,"Date"),t.qZA(),t.TgZ(123,"th"),t._uU(124,"Description"),t.qZA()(),t.YNc(125,Ut,7,3,"tr",12),t.qZA()()()()()()(),t.TgZ(126,"div",27)(127,"div",17)(128,"div",18)(129,"form",28),t.NdJ("ngSubmit",function(){return i.ticketstatusFormSubmit()}),t.TgZ(130,"div",29)(131,"h4",20),t._uU(132,"Update Status"),t.qZA(),t._UZ(133,"button",30),t.qZA(),t._UZ(134,"hr"),t.TgZ(135,"div",22)(136,"div")(137,"label",31),t._uU(138,"Status"),t.qZA(),t.TgZ(139,"select",32)(140,"option",33),t._uU(141,"Select status"),t.qZA(),t.YNc(142,zt,2,2,"option",34),t.qZA()()(),t.TgZ(143,"div",35)(144,"button",36),t._uU(145," Cancel "),t.qZA(),t.TgZ(146,"button",37),t._uU(147," Update "),t.qZA()()()()()(),t.TgZ(148,"div",38)(149,"div",39)(150,"h1",40),t._uU(151,"Filter"),t.qZA(),t._UZ(152,"button",41),t.qZA(),t._UZ(153,"hr"),t.TgZ(154,"div",42)(155,"form",28),t.NdJ("ngSubmit",function(){return i.filterTicketFormSubmit()}),t.TgZ(156,"div")(157,"label"),t._uU(158,"Ticket Status"),t.qZA(),t.TgZ(159,"select",43)(160,"option",44),t._uU(161,"Select status"),t.qZA(),t.YNc(162,Pt,2,2,"option",34),t.qZA()(),t.TgZ(163,"div")(164,"label"),t._uU(165,"Ticket Category"),t.qZA(),t.TgZ(166,"select",45)(167,"option",44),t._uU(168,"Select Ticket Category"),t.qZA(),t.YNc(169,It,2,2,"option",34),t.qZA()(),t.TgZ(170,"div")(171,"label"),t._uU(172,"Request Date"),t.qZA(),t.TgZ(173,"select",46)(174,"option",44),t._uU(175,"Select Date"),t.qZA(),t.TgZ(176,"option",47),t._uU(177,"Today"),t.qZA(),t.TgZ(178,"option",48),t._uU(179,"Yesterday"),t.qZA(),t.TgZ(180,"option",49),t._uU(181,"Past 7 days"),t.qZA(),t.TgZ(182,"option",50),t._uU(183,"This month"),t.qZA()()(),t.TgZ(184,"div",51)(185,"button",52),t.NdJ("click",function(){return i.restFilter()}),t._uU(186,"Reset"),t.qZA(),t.TgZ(187,"button",53),t._uU(188,"Apply Filters"),t.qZA()()()()(),t.TgZ(189,"div",54)(190,"div",17)(191,"div",18)(192,"form",28),t.NdJ("ngSubmit",function(){return i.frTicketstatusFormSubmit()}),t.TgZ(193,"div",55)(194,"h4",20),t._uU(195,"Update FR Status"),t.qZA(),t._UZ(196,"button",56),t.qZA(),t._UZ(197,"hr"),t.TgZ(198,"div",22)(199,"div")(200,"label",31),t._uU(201,"Status"),t.qZA(),t.TgZ(202,"select",32)(203,"option",57),t._uU(204,"Select status"),t.qZA(),t.TgZ(205,"option",58),t._uU(206,"Open"),t.qZA(),t.TgZ(207,"option",59),t._uU(208,"Closed"),t.qZA(),t.TgZ(209,"option",60),t._uU(210,"Manual handle"),t.qZA()()()(),t.TgZ(211,"div",35)(212,"button",36),t._uU(213," Cancel "),t.qZA(),t.TgZ(214,"button",37),t._uU(215," Update "),t.qZA()()()()()(),t.TgZ(216,"div",61)(217,"div",39)(218,"h1",40),t._uU(219,"Ticket Status"),t.qZA(),t._UZ(220,"button",62),t.qZA(),t._UZ(221,"hr"),t.TgZ(222,"div",42)(223,"div",63),t.YNc(224,Ft,6,2,"div",64),t.TgZ(225,"div",51)(226,"button",65),t._uU(227," Cancel "),t.qZA(),t.TgZ(228,"button",66),t.NdJ("click",function(){return i.filterByStatus()}),t._uU(229," Apply Filters "),t.qZA()()()()(),t.TgZ(230,"div",67)(231,"div",17)(232,"div",18)(233,"form",28),t.NdJ("ngSubmit",function(){return i.ticketAssignFormSubmit()}),t.TgZ(234,"div",68)(235,"h4",20),t._uU(236,"Assign To"),t.qZA(),t._UZ(237,"button",69),t.qZA(),t._UZ(238,"hr"),t.TgZ(239,"div",22)(240,"div")(241,"label",31),t._uU(242," Users"),t.qZA(),t.TgZ(243,"select",70)(244,"option",33),t._uU(245,"Select User"),t.qZA(),t.YNc(246,Dt,2,4,"option",34),t._uU(247," > "),t.qZA()()(),t.TgZ(248,"div",35)(249,"button",71),t._uU(250," Cancel "),t.qZA(),t.TgZ(251,"button",37),t._uU(252," Assign "),t.qZA()()()()()(),t.TgZ(253,"div",72)(254,"div",39)(255,"h1",40),t._uU(256,"Vehicle Detail"),t.qZA(),t._UZ(257,"button",41),t.qZA(),t._UZ(258,"hr"),t.TgZ(259,"div",73),t.YNc(260,Lt,8,2,"div",74),t.YNc(261,Vt,7,1,"div",74),t.TgZ(262,"div")(263,"div")(264,"p"),t._uU(265,"Vehicle Type"),t.qZA()(),t.TgZ(266,"div")(267,"span"),t._uU(268),t.qZA()()(),t.TgZ(269,"div")(270,"div")(271,"p"),t._uU(272,"Vehicle Make"),t.qZA()(),t.TgZ(273,"div",75)(274,"span"),t._uU(275),t.qZA(),t._UZ(276,"br"),t.qZA()(),t.TgZ(277,"div")(278,"div")(279,"p"),t._uU(280,"Vehicle Model"),t.qZA()(),t.TgZ(281,"div")(282,"span"),t._uU(283),t.qZA()()(),t.TgZ(284,"div")(285,"div")(286,"p"),t._uU(287,"Vehicle Registration"),t.qZA()(),t.TgZ(288,"div")(289,"span"),t._uU(290),t.qZA()()(),t.TgZ(291,"div")(292,"div")(293,"p"),t._uU(294,"Vehicle Year"),t.qZA()(),t.TgZ(295,"div")(296,"span"),t._uU(297),t.qZA()()(),t.TgZ(298,"div")(299,"div")(300,"p"),t._uU(301,"Vehicle VIN"),t.qZA()(),t.TgZ(302,"div")(303,"span"),t._uU(304),t.qZA()()(),t.TgZ(305,"div")(306,"div")(307,"p"),t._uU(308,"File Type"),t.qZA()(),t.TgZ(309,"div")(310,"span"),t._uU(311),t.qZA()()(),t.TgZ(312,"div")(313,"div")(314,"p"),t._uU(315,"Engine Size"),t.qZA()(),t.TgZ(316,"div")(317,"span"),t._uU(318),t.qZA()()(),t.TgZ(319,"div")(320,"div")(321,"p"),t._uU(322,"Transmission"),t.qZA()(),t.TgZ(323,"div")(324,"span"),t._uU(325),t.qZA()()(),t.TgZ(326,"div")(327,"div")(328,"p"),t._uU(329,"Fuel Type"),t.qZA()(),t.TgZ(330,"div")(331,"span"),t._uU(332),t.qZA()()(),t.TgZ(333,"div")(334,"div")(335,"p"),t._uU(336,"Mileage Type"),t.qZA()(),t.TgZ(337,"div")(338,"span"),t._uU(339),t.qZA()()(),t.TgZ(340,"div")(341,"div")(342,"p"),t._uU(343,"Mileage"),t.qZA()(),t.TgZ(344,"div")(345,"span"),t._uU(346),t.qZA()()(),t.TgZ(347,"div")(348,"div")(349,"p"),t._uU(350,"ECU Brand"),t.qZA()(),t.TgZ(351,"div")(352,"span"),t._uU(353),t.qZA()()(),t.TgZ(354,"div")(355,"div")(356,"p"),t._uU(357,"ECU Version"),t.qZA()(),t.TgZ(358,"div")(359,"span"),t._uU(360),t.qZA()()(),t.TgZ(361,"div")(362,"div")(363,"p"),t._uU(364,"Control Unit"),t.qZA()(),t.TgZ(365,"div")(366,"span"),t._uU(367),t.qZA()()(),t.TgZ(368,"div")(369,"div")(370,"p"),t._uU(371,"Country"),t.qZA()(),t.TgZ(372,"div")(373,"span"),t._uU(374),t.qZA()()(),t.TgZ(375,"div")(376,"div")(377,"p"),t._uU(378,"Tuning Tool Used"),t.qZA()(),t.TgZ(379,"div")(380,"span"),t._uU(381),t.qZA()()(),t.TgZ(382,"div")(383,"div")(384,"p"),t._uU(385,"Tuning Required"),t.qZA()(),t.TgZ(386,"div")(387,"span"),t._uU(388),t.qZA()()(),t.TgZ(389,"div")(390,"div")(391,"p"),t._uU(392,"Credit"),t.qZA()(),t.TgZ(393,"div")(394,"span"),t._uU(395),t.qZA()()(),t.TgZ(396,"div")(397,"div")(398,"p"),t._uU(399,"Additional Function"),t.qZA()(),t.TgZ(400,"div")(401,"span"),t._uU(402),t.qZA()()(),t.TgZ(403,"div")(404,"div")(405,"p"),t._uU(406,"Additional Info."),t.qZA()(),t.TgZ(407,"div")(408,"span"),t._uU(409),t.qZA()()(),t.TgZ(410,"div")(411,"div")(412,"p"),t._uU(413,"Other Fields"),t.qZA()(),t.TgZ(414,"div")(415,"span"),t._uU(416),t.ALo(417,"titlecase"),t.qZA()()()()(),t.TgZ(418,"div",76)(419,"div",77)(420,"h1",40),t._uU(421,"Filter List"),t.qZA(),t.TgZ(422,"div",7)(423,"button",78),t._uU(424," Create "),t.qZA(),t._UZ(425,"button",79),t.qZA()(),t._UZ(426,"hr"),t.TgZ(427,"div",42)(428,"div",63),t.YNc(429,Nt,9,8,"div",64),t.TgZ(430,"div"),t.YNc(431,St,3,0,"p",13),t.qZA()()()(),t.TgZ(432,"div",80)(433,"div",16)(434,"div",17)(435,"div",81)(436,"div",29)(437,"h4",20),t._uU(438,"Delete Filter"),t.qZA(),t._UZ(439,"button",21),t.qZA(),t.TgZ(440,"div",22)(441,"div")(442,"div")(443,"p"),t._uU(444," Are you sure, you want to delete "),t.TgZ(445,"b"),t._uU(446),t.qZA(),t._uU(447," ? "),t.qZA()()()(),t.TgZ(448,"div",35)(449,"div",82)(450,"button",83),t._uU(451,"Cancel"),t.qZA(),t.TgZ(452,"button",84),t.NdJ("click",function(){return i.deleteSavedFilter()}),t._uU(453," Confirm "),t.qZA()()()()()()()),2&o&&(t.xp6(5),t.Q6J("ngIf",!i.showDownload),t.xp6(1),t.Q6J("ngIf",i.showDownload),t.xp6(59),t.Q6J("ngForOf",t.xi3(66,49,i.tickets,t.kEZ(54,Jt,i.pageSize,i.page,i.totalTicket))),t.xp6(2),t.Q6J("ngIf",i.showError),t.xp6(1),t.Q6J("ngIf",0!=(null==i.tickets?null:i.tickets.length)),t.xp6(21),t.Q6J("ngForOf",i.downloadFileList),t.xp6(17),t.Q6J("ngForOf",null==i.adminTicket?null:i.adminTicket.admin_ticket),t.xp6(19),t.Q6J("ngForOf",i.errorList),t.xp6(4),t.Q6J("formGroup",i.ticketstatusForm),t.xp6(13),t.Q6J("ngForOf",i.ticketStatus),t.xp6(4),t.Q6J("disabled",i.ticketstatusForm.invalid),t.xp6(9),t.Q6J("formGroup",i.filterTicketForm),t.xp6(7),t.Q6J("ngForOf",i.ticketStatus),t.xp6(7),t.Q6J("ngForOf",i.ticketCategories),t.xp6(23),t.Q6J("formGroup",i.frTicketstatusForm),t.xp6(22),t.Q6J("disabled",i.frTicketstatusForm.invalid),t.xp6(10),t.Q6J("ngForOf",i.ticketStatus),t.xp6(9),t.Q6J("formGroup",i.ticketAssignForm),t.xp6(13),t.Q6J("ngForOf",i.roleUserList),t.xp6(5),t.Q6J("disabled",i.ticketAssignForm.invalid),t.xp6(9),t.Q6J("ngIf",!i.isStandaloneTicket),t.xp6(1),t.Q6J("ngIf",!i.isStandaloneTicket),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_type)||"NA"),t.xp6(7),t.hij(" ",(null==i.vehDetail?null:i.vehDetail.vehicle_make)||"NA",""),t.xp6(8),t.Oqu((null==i.vehDetail?null:i.vehDetail.model)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_registration)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_year)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_VIN)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.file_type)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.engine_size)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.transmission)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.fuel_type)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.mileage_type)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.mileage)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.ecu_brand)||"NA"),t.xp6(7),t.Oqu(null==i.vehDetail?null:i.vehDetail.ecu_version),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.control_unit)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.country)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.tuning_tool_used)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.tuning_required)||"NA"),t.xp6(7),t.AsE(" ",null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit," ",1==(null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit_type)?"File Key":2==(null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit_type)?"EVC":3==(null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit_type)?"Function Key":"0",""),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.additional_function)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.additional_info)||"NA"),t.xp6(7),t.Oqu(t.lcZ(417,52,null==i.vehDetail?null:i.vehDetail.other_fields)||"NA"),t.xp6(7),t.Q6J("routerLink",t.DdM(58,B)),t.xp6(6),t.Q6J("ngForOf",i.userFilterList),t.xp6(2),t.Q6J("ngIf",0==(null==i.userFilterList?null:i.userFilterList.length)),t.xp6(15),t.Oqu(null==i.selectedFilter?null:i.selectedFilter.title))},dependencies:[p.sg,p.O5,g.rH,r._Y,r.YN,r.Kr,r.EJ,r.JJ,r.JL,r.On,r.sg,r.u,x.LS,X.q,tt.A,et.a,p.rS,x._s],styles:[".dateRange[_ngcontent-%COMP%]{position:relative;width:40px;height:25px}.dateRange[_ngcontent-%COMP%]   .calIcon[_ngcontent-%COMP%]{position:absolute;inset:0}.dateRange[_ngcontent-%COMP%]   .dateRangeInput[_ngcontent-%COMP%]{box-shadow:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:absolute;opacity:0;inset:0;cursor:pointer!important}.bi-filter[_ngcontent-%COMP%]{width:var(--font-size-18);height:var(--font-size-18)}.responsive-tbl[_ngcontent-%COMP%]{overflow-x:auto;margin-top:var(--font-size-16);height:auto!important;max-height:60vh;overflow-y:scroll!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;max-width:100%}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{z-index:2;position:sticky;top:0;background-color:#d8dde7!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #5367DE;border-radius:2px;display:flex;align-items:center;justify-content:center;text-decoration:none;font-size:var(--font-size-16)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #6D7886;border-radius:2px;display:flex;align-items:center;justify-content:center;text-decoration:none;font-size:var(--font-size-16)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit1[_ngcontent-%COMP%]{width:var(--font-size-20);height:var(--font-size-20);padding:var(--font-size-5);border:1px solid #219653;border-radius:2px;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-16)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:var(--font-size-10)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]{width:var(--font-size-40);height:var(--font-size-40);margin-right:var(--font-size-12);border-radius:50%;object-fit:cover}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--font-size-12);font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-14);line-height:var(--font-size-17);color:#6f7784;text-align:center}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.actiontd[_ngcontent-%COMP%]{justify-content:center}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:var(--font-size-12)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:var(--font-size-14);border:none;accent-color:#219653}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgba(0,32,96,.05);border-bottom:1px solid #B3B3B3;border-top:1px solid #B3B3B3;border-radius:4px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   .tableBodyAction[_ngcontent-%COMP%]{background-color:#f3f3f7!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:rgba(0,32,96,.15);border-radius:4px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:var(--font-size-10);text-align:center;font-size:var(--font-size-14)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){text-align:left;padding-left:var(--font-size-12)}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left;display:flex;margin-bottom:7px}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){width:35%}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:65%}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:600}.downloadFile[_ngcontent-%COMP%]{padding-bottom:0!important;margin-bottom:0!important}.downloadFile[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#002060;font-family:verdana-bold;font-size:var(--font-size-20)!important}.u-add[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:var(--font-size-16)}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-18);align-items:center;width:80%;justify-content:end}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%]{width:var(--font-size-18);height:var(--font-size-18)}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .buttonCls[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-15);line-height:var(--font-size-18);color:#394a9c;background:#fff;border:1px solid #394A9C;padding:var(--font-size-8) var(--font-size-24)!important;border-radius:var(--font-size-10)}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3) a   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16);margin-right:var(--font-size-12)}.u-add[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:var(--font-size-12);font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-12);line-height:var(--font-size-15);color:#6d7886;border:.7px solid #BECAD9;border-radius:4px;outline:none}.u-add[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;background:#394A9C;border-radius:8px;font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#fff;text-decoration:none}.u-add[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff}.offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:3px}.activecls[_ngcontent-%COMP%]{background:rgba(33,150,83,.1);border:.5px solid rgba(190,202,217,.2);border-radius:var(--font-size-20);font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-10);line-height:var(--font-size-12);color:#219653;padding:var(--font-size-5) var(--font-size-12)}.Inactivecls[_ngcontent-%COMP%]{background:rgba(255,0,0,.2);border:.5px solid rgba(255,0,0,.1);border-radius:20px;font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-10);line-height:var(--font-size-12);color:red;padding:var(--font-size-5) var(--font-size-12)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:none;height:100vh;position:relative}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:none;gap:var(--font-size-20)}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){font-style:normal;font-weight:500;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);background:#394A9C;border-radius:5px;color:#fff;border:none}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){font-style:normal;font-weight:500;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);border:1px solid #E3E3E3!important;background:#fff;border-radius:5px;color:#474554;border:none}.cursor[_ngcontent-%COMP%]{cursor:pointer}.modal-header[_ngcontent-%COMP%]{border-bottom:0px!important;margin-bottom:var(--font-size-30);padding:0;justify-content:center!important}.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:verdana;font-size:var(--font-size-18);line-height:var(--font-size-20);text-align:center;color:#000}.modal-content[_ngcontent-%COMP%]{padding:var(--font-size-48);min-width:var(--width-640);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:var(--font-size-30);right:var(--font-size-30);font-size:var(--font-size-12)}.productModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding-left:0!important}.productModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);border:1px solid #E3E3E3!important;background:#fff;border-radius:5px;color:#474554}.productModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .assign[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);background:#394A9C;border-radius:5px;color:#fff;border:none}.productModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding-left:0!important}.productModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:var(--font-size-10)}.productModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.productModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana-bold!important;font-size:var(--font-size-16)!important;line-height:var(--font-size-20);display:flex;align-items:center;color:#2a3042!important;margin-bottom:var(--font-size-16)}.productModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:block;margin-bottom:var(--font-size-17)!important}.productModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:verdana-bold!important;font-size:var(--font-size-24)!important;line-height:var(--font-size-30)!important;text-align:left;color:#474554!important}.offcanvas.show[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]{background:#fff;padding:var(--font-size-30) 0px;min-width:var(--width-400)}.offcanvas.show[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-24);line-height:var(--font-size-30);letter-spacing:-.02em;color:#474554}.offcanvas.show[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:var(--font-size-10) 0px}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:var(--font-size-10);height:var(--font-size-10);font-size:var(--font-size-15)!important}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%], .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{padding:0px var(--font-size-30)!important}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:var(--font-size-15);height:var(--font-size-15)}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%], .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 0 15px #00000040;border-radius:0 0 8px 8px;position:absolute;bottom:0;left:0;right:0;padding:var(--font-size-16);display:flex;align-items:center;text-align:center;justify-content:center;gap:var(--font-size-24);border-radius:var(--font-size-10)}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){font-size:var(--font-size-16);text-transform:capitalize;color:#474554;padding:var(--font-size-10) var(--font-size-40);border:1px solid #474554}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){color:#fff;background-color:#2b3ca3;font-size:var(--font-size-16);text-transform:capitalize;padding:var(--font-size-10) var(--font-size-40);border:1px solid #2B3CA3}.offcanvas.show[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left;font-size:var(--font-size-16);line-height:var(--font-size-24);display:flex;align-items:center;text-transform:capitalize;color:#474554;margin-bottom:var(--font-size-16);font-family:roboto600}.offcanvas.show[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#FFFFFF;border:1.5px solid #E3E3E3;border-radius:4px;margin-bottom:var(--font-size-16);font-size:var(--font-size-16);line-height:var(--font-size-24);color:#474554;padding:var(--font-size-12)}.offcanvas-inner[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:var(--font-size-12) var(--font-size-20);background:rgba(57,74,156,.1);border-radius:8px;align-items:center}.offcanvas-inner[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .offcanvas-inner[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);color:#394a9c;margin-bottom:0}.offcanvas-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:var(--font-size-12);display:flex;justify-content:space-between;padding:var(--font-size-12) var(--font-size-20);background:#fff;border-radius:8px;align-items:center}.offcanvas-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .offcanvas-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);color:#394a9c;margin-bottom:0}@media screen and (max-width: 991px){.u-add[_ngcontent-%COMP%]{flex-direction:column}.u-add[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left;font-size:20px}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{margin-top:1rem;width:100%;flex-wrap:wrap}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]   smart-search[_ngcontent-%COMP%]{width:100%!important}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]   .dropDownList[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto!important}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   select[_ngcontent-%COMP%]{max-width:100%;width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   input[_ngcontent-%COMP%]{background-position:top 12px right 20px;background-size:12px;padding:10px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto}}@media screen and (max-width: 991px){.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px!important;line-height:24px}}@media screen and (max-width: 767px){.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px!important}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px!important;width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 15px!important}.productModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px!important}}.dropDownList[_ngcontent-%COMP%]{background:white;border:1px solid rgba(0,0,0,.18);border-radius:10px;padding:var(--font-size-10);z-index:1;position:absolute;min-width:var(--width-260);right:0}.dropDownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;text-align:left}.dropDownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:var(--font-size-14)}.dropDownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:var(--font-size-10);width:var(--font-size-12);height:var(--font-size-12)}@media screen and (max-width: 490px){.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{justify-content:flex-end;position:relative!important}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto;position:static!important}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;z-index:9}.offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px!important}}.blue[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:3px;margin-left:8px}.deleteModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#002060;font-family:verdana-bold;font-size:var(--font-size-20)!important;justify-content:left;margin-bottom:0!important;padding:0;justify-content:flex-start!important}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%], .deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]{justify-content:center!important}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:red;border:1px solid red;background:white}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{border:1px solid black}.deleteModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-16);margin-bottom:var(--font-size-15)}"]})}return n})(),Rt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-ticket"]],decls:1,vars:0,template:function(o,i){1&o&&t._UZ(0,"router-outlet")},dependencies:[g.lC]})}return n})();var Bt=c(8456),Qt=c(2340),Yt=c(7769),jt=c(2207),$t=c(8909),Q=c(1420),y=c(1169),Y=c(5074),j=c(7822),P=c(7435),Ht=c(207),$=c(2852),Gt=c(9623);const Kt=["scroll"],Wt=["industryInput"],Xt=["fileInput"],te=["ckeditor"],ee=["answer"],ie=["popup"],ne=["popupContainer"];function oe(n,s){1&n&&(t.TgZ(0,"div",143),t._UZ(1,"i",144),t.qZA())}function ae(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",145),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getFileList())}),t._UZ(1,"i",146),t.qZA()}}function se(n,s){1&n&&t.GkF(0)}function le(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",147),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.tab="files",t.KtG(i.getFileList())}),t._UZ(1,"i",148),t.TgZ(2,"span"),t._uU(3,"File"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngClass","files"==e.tab?"activeTab":"")}}function re(n,s){1&n&&(t.TgZ(0,"div",166),t.O4$(),t.TgZ(1,"svg",167)(2,"radialGradient",168),t._UZ(3,"stop",169)(4,"stop",170)(5,"stop",171)(6,"stop",172)(7,"stop",173),t.qZA(),t.TgZ(8,"circle",174),t._UZ(9,"animateTransform",175),t.qZA(),t._UZ(10,"circle",176),t.qZA()())}function ce(n,s){if(1&n&&(t.TgZ(0,"div")(1,"a",193),t._UZ(2,"img",194),t.qZA(),t.TgZ(3,"p",195),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("href",e.file,t.LSH),t.xp6(1),t.Q6J("src",e.file,t.LSH),t.xp6(2),t.Oqu(o.decodeFileNameFromUrl(e.file))}}function de(n,s){if(1&n&&(t.TgZ(0,"div")(1,"a",193),t._UZ(2,"img",196),t.qZA(),t.TgZ(3,"p",195),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("href",e.file,t.LSH),t.xp6(3),t.Oqu(o.decodeFileNameFromUrl(e.file))}}function ue(n,s){if(1&n&&(t.TgZ(0,"div",197)(1,"div",198)(2,"div"),t._UZ(3,"i",199),t.TgZ(4,"span",200),t._uU(5),t.qZA()(),t.TgZ(6,"a",201),t._UZ(7,"i",202),t.qZA()()()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(5),t.hij(" ",o.decodeFileNameFromUrl(e.file),""),t.xp6(1),t.Q6J("href",e.file,t.LSH)}}function fe(n,s){if(1&n&&(t.TgZ(0,"pre",203),t._uU(1,"                      "),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("innerHTML",e.message,t.oJD)}}function he(n,s){if(1&n&&(t.TgZ(0,"div",190),t.YNc(1,ce,5,3,"div",50),t.YNc(2,de,5,2,"div",50),t.YNc(3,ue,8,2,"div",191),t.YNc(4,fe,2,1,"pre",192),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.ekj("pushLeft",o.customerId===(null==e?null:e.sender))("pushRight",o.customerId!==(null==e?null:e.sender)),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.file)&&(e.file.endsWith(".png")||e.file.endsWith(".jpg")||e.file.endsWith(".jpeg")||e.file.endsWith(".webp")||e.file.endsWith(".svg"))),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.file&&(e.file.endsWith(".png")||e.file.endsWith(".jpg")||e.file.endsWith(".jpeg")||e.file.endsWith(".webp")||e.file.endsWith(".svg"))||e.file&&(e.file.endsWith(".xlsx")||e.file.endsWith(".doc")||e.file.endsWith(".pdf")||e.file.endsWith(".ods")||e.file.endsWith(".odt")||e.file.endsWith(".txt")||e.file.endsWith(".docx")||e.file.endsWith(".html")||e.file.endsWith(".json")))),t.xp6(1),t.Q6J("ngIf",e.file&&(e.file.endsWith(".xlsx")||e.file.endsWith(".doc")||e.file.endsWith(".pdf")||e.file.endsWith(".ods")||e.file.endsWith(".odt")||e.file.endsWith(".txt")||e.file.endsWith(".docx")||e.file.endsWith(".html")||e.file.endsWith(".json"))),t.xp6(1),t.Q6J("ngIf",e.message)}}function _e(n,s){if(1&n&&(t.TgZ(0,"a",193),t._UZ(1,"img",207),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("href",e.file,t.LSH),t.xp6(1),t.Q6J("ngClass",e.file.endsWith(".png")||e.file.endsWith(".jpg")||e.file.endsWith(".jpeg")?"imgF":"imgD")("src",e.file.endsWith(".png")||e.file.endsWith(".jpg")||e.file.endsWith(".jpeg")?e.file:"assets/images/icon/filesIcon.png",t.LSH)}}function pe(n,s){if(1&n&&(t.TgZ(0,"pre",208),t._uU(1,"                      "),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("innerHTML",e.message,t.oJD)}}function ge(n,s){if(1&n&&(t.TgZ(0,"div",204),t.YNc(1,_e,2,3,"a",205),t.YNc(2,pe,2,1,"pre",206),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.Q6J("ngClass",o.customerId!==(null==e?null:e.sender)?"rightChatBox":"leftChatBox"),t.xp6(1),t.Q6J("ngIf",e.file),t.xp6(1),t.Q6J("ngIf",e.message)}}function me(n,s){if(1&n&&t._UZ(0,"p",211),2&n){const e=t.oxw(2).$implicit;t.Q6J("innerHTML",e.message,t.oJD)}}function ve(n,s){if(1&n&&(t.TgZ(0,"div",209),t.YNc(1,me,1,1,"p",210),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.Q6J("ngClass",o.customerId!==(null==e?null:e.sender)?"rightChatBox":"leftChatBox"),t.xp6(1),t.Q6J("ngIf",e.message)}}const be=function(n){return{"align-items":n}},Ce=function(n){return{width:n}};function Te(n,s){if(1&n&&(t.TgZ(0,"div",178)(1,"div",179)(2,"div",180)(3,"div",181)(4,"div",182)(5,"div",183)(6,"div"),t._UZ(7,"img",184),t.qZA(),t.TgZ(8,"div",185)(9,"span"),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"p",186),t._uU(13),t.qZA()()()()(),t.YNc(14,he,5,8,"div",187),t.YNc(15,ge,3,3,"div",188),t.YNc(16,ve,2,2,"div",189),t.qZA()()()),2&n){const e=s.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngStyle",t.VKq(13,be,o.customerId!==(null==e?null:e.sender)?"flex-end":"flex-start")),t.xp6(1),t.Q6J("ngStyle",t.VKq(15,Ce,"article"==e.message_type?"100%":"65%")),t.xp6(3),t.Q6J("ngClass",o.customerId!==(null==e?null:e.sender)?"nameDesc-inner_right":"nameDesc-inner_left"),t.xp6(2),t.Q6J("src",(null==e?null:e.sender_image)||"assets/images/icon/avtarIcon.jpeg",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(11,11,null==e?null:e.sender_name)," "),t.xp6(2),t.ekj("text-end",o.customerId!==(null==e?null:e.sender)),t.xp6(1),t.hij(" ",o.notification.formatDate(null==e?null:e.created_at)," "),t.xp6(1),t.Q6J("ngIf","file"==e.message_type),t.xp6(1),t.Q6J("ngIf","text"==e.message_type),t.xp6(1),t.Q6J("ngIf","article"==e.message_type)}}function Ze(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Te,17,17,"div",177),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.conversations)}}function ke(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"img",212),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return i.conversationForm.controls.file.setValue(""),t.KtG(i.conversationForm.controls.message_type.setValue("text"))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass","png"==e.fileType||"jpg"==e.fileType||"jpeg"==e.fileType?"fileCross":"docCross")}}function xe(n,s){if(1&n&&t._UZ(0,"img",213),2&n){const e=t.oxw(2);t.Q6J("ngClass","png"==e.fileType||"jpg"==e.fileType||"jpeg"==e.fileType?"fileimg":"docIcon")("src","png"==e.fileType||"jpg"==e.fileType||"jpeg"==e.fileType?e.conversationForm.controls.file.value:"assets/images/icon/filesIcon.png",t.LSH)}}function ye(n,s){1&n&&(t.TgZ(0,"textarea",214),t._uU(1," "),t.qZA())}function we(n,s){1&n&&t._UZ(0,"ckeditor",215,135)}function qe(n,s){if(1&n&&(t.TgZ(0,"button",216),t._uU(1," Send"),t._UZ(2,"img",217),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",e.conversationForm.invalid)}}function Ae(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",149,150),t.YNc(3,re,11,0,"div",151),t.YNc(4,Ze,2,1,"ng-container",50),t.qZA(),t.TgZ(5,"form",65),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.conversationFormSubmit())}),t.TgZ(6,"div",152)(7,"div",153)(8,"div"),t.YNc(9,ke,1,1,"img",154),t.YNc(10,xe,1,2,"img",155),t.qZA()(),t.YNc(11,ye,2,0,"textarea",156),t.YNc(12,we,2,0,"ckeditor",157),t.TgZ(13,"div",158)(14,"a",159),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.retrieveTemplate())}),t._UZ(15,"img",160),t.qZA(),t.TgZ(16,"div",161)(17,"div",162)(18,"img",163),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(20);return t.KtG(i.click())}),t.qZA(),t.TgZ(19,"input",164,165),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.selectFile(i))}),t.qZA()()(),t.YNc(21,qe,3,1,"button",119),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("infiniteScrollDistance",e.distance)("scrollWindow",!1),t.xp6(2),t.Q6J("ngIf",e.isConversationLoading),t.xp6(1),t.Q6J("ngIf",!e.isConversationLoading),t.xp6(1),t.Q6J("formGroup",e.conversationForm),t.xp6(4),t.Q6J("ngIf",""!=e.conversationForm.controls.file.value),t.xp6(1),t.Q6J("ngIf",""!=e.conversationForm.controls.file.value),t.xp6(1),t.Q6J("ngIf",!e.ckeEditor),t.xp6(1),t.Q6J("ngIf",e.ckeEditor),t.xp6(9),t.Q6J("ngIf","Full access"==e.permissions.ticket)}}function Me(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",218)(2,"h2"),t._uU(3,"Ticket Information"),t.qZA()(),t.TgZ(4,"div",219)(5,"div")(6,"div")(7,"div")(8,"p"),t._uU(9,"Created By"),t.qZA()(),t.TgZ(10,"div",106)(11,"span"),t._uU(12),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"span"),t._uU(15),t.qZA()()(),t.TgZ(16,"div")(17,"div")(18,"p"),t._uU(19,"Assigned To"),t.qZA()(),t.TgZ(20,"div",106)(21,"span"),t._uU(22),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"span"),t._uU(25),t.qZA()()()(),t.TgZ(26,"div")(27,"div")(28,"div")(29,"p"),t._uU(30,"Created"),t.qZA()(),t.TgZ(31,"div")(32,"span"),t._uU(33),t.qZA()()(),t.TgZ(34,"div")(35,"div")(36,"p"),t._uU(37,"Modified"),t.qZA()(),t.TgZ(38,"div")(39,"span"),t._uU(40),t.qZA()()()(),t.TgZ(41,"div")(42,"div")(43,"div")(44,"p"),t._uU(45,"Subject"),t.qZA()(),t.TgZ(46,"div")(47,"span"),t._uU(48),t.qZA()()(),t.TgZ(49,"div")(50,"div")(51,"p"),t._uU(52,"Status"),t.qZA()(),t.TgZ(53,"div")(54,"span"),t._uU(55),t.qZA()()()(),t.TgZ(56,"div")(57,"div")(58,"div")(59,"p"),t._uU(60,"Category"),t.qZA()(),t.TgZ(61,"div")(62,"span"),t._uU(63),t.qZA()()()(),t.TgZ(64,"div",220)(65,"div")(66,"div")(67,"p"),t._uU(68,"Description"),t.qZA()(),t.TgZ(69,"div")(70,"span"),t._uU(71),t.qZA()()()(),t.TgZ(72,"div",220)(73,"div")(74,"div")(75,"p"),t._uU(76,"Conversations"),t.qZA()(),t.TgZ(77,"div")(78,"span"),t._uU(79),t.qZA()()()()()()),2&n){const e=t.oxw();t.xp6(12),t.AsE(" ",null==e.ticketDetail?null:e.ticketDetail.created_by.first_name," ",null==e.ticketDetail?null:e.ticketDetail.created_by.last_name," "),t.xp6(3),t.Oqu(null==e.ticketDetail?null:e.ticketDetail.created_by.email),t.xp6(7),t.AsE(" ",null==e.ticketDetail?null:e.ticketDetail.assigned_to.first_name," ",null==e.ticketDetail?null:e.ticketDetail.assigned_to.last_name," "),t.xp6(3),t.Oqu(null==e.ticketDetail?null:e.ticketDetail.assigned_to.email),t.xp6(8),t.Oqu(e.notification.formatDate(null==e.ticketDetail?null:e.ticketDetail.created_at)),t.xp6(7),t.Oqu(e.notification.formatDate(null==e.ticketDetail?null:e.ticketDetail.updated_at)),t.xp6(8),t.Oqu(null==e.ticketDetail?null:e.ticketDetail.subject),t.xp6(7),t.Oqu((null==e.ticketDetail||null==e.ticketDetail.ticket_status?null:e.ticketDetail.ticket_status.team_status)||"New"),t.xp6(8),t.Oqu(null==e.ticketDetail?null:e.ticketDetail.category),t.xp6(8),t.Oqu(null==e.ticketDetail?null:e.ticketDetail.description),t.xp6(8),t.Oqu(e.conversationsCount)}}function Oe(n,s){1&n&&(t.TgZ(0,"div",228),t.O4$(),t.TgZ(1,"svg",167)(2,"radialGradient",168),t._UZ(3,"stop",169)(4,"stop",170)(5,"stop",171)(6,"stop",172)(7,"stop",173),t.qZA(),t.TgZ(8,"circle",174),t._UZ(9,"animateTransform",175),t.qZA(),t._UZ(10,"circle",176),t.qZA()())}function Ue(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",229),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"fileSize"),t.qZA(),t.TgZ(8,"td")(9,"a",230),t.NdJ("click",function(){const i=t.CHM(e),a=i.$implicit,l=i.index,d=t.oxw(3);return t.KtG(d.downloadFIle(a,l))}),t._UZ(10,"i",231),t.qZA()()()}if(2&n){const e=s.$implicit,o=t.oxw(3);t.xp6(2),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.Oqu(o.notification.formatDate(null==e?null:e.created_at)),t.xp6(2),t.Oqu(t.lcZ(7,3,null==e?null:e.file_size))}}function ze(n,s){if(1&n&&(t.TgZ(0,"div",58)(1,"table")(2,"thead")(3,"th"),t._uU(4,"Title"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Created at"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Size"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Download"),t.qZA()(),t.YNc(11,Ue,11,5,"tr",59),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",e.downloadFileList)}}function Pe(n,s){if(1&n&&(t.TgZ(0,"div")(1,"section",0)(2,"ul",221)(3,"li",222)(4,"a",223),t._uU(5,"Home"),t.qZA()(),t.TgZ(6,"li",222)(7,"a",224),t._uU(8,"Directory"),t.qZA()(),t.TgZ(9,"li",222)(10,"a",225),t._uU(11,"View Directory"),t.qZA()()(),t.TgZ(12,"div",1)(13,"div",2)(14,"h2"),t._uU(15,"Directory"),t.qZA(),t._UZ(16,"div",3),t.qZA(),t._UZ(17,"hr"),t.TgZ(18,"div",226),t.YNc(19,Oe,11,0,"div",125),t.YNc(20,ze,12,1,"div",227),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(19),t.Q6J("ngIf",e.isDirectoryLoading),t.xp6(1),t.Q6J("ngIf",!e.isDirectoryLoading)}}function Ie(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",245),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.sendAttachment())}),t._uU(1,"Submit"),t.qZA()}}function Fe(n,s){1&n&&(t.TgZ(0,"div",228),t.O4$(),t.TgZ(1,"svg",167)(2,"radialGradient",168),t._UZ(3,"stop",169)(4,"stop",170)(5,"stop",171)(6,"stop",172)(7,"stop",173),t.qZA(),t.TgZ(8,"circle",174),t._UZ(9,"animateTransform",175),t.qZA(),t._UZ(10,"circle",176),t.qZA()())}function De(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",247),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"fileSize"),t.qZA(),t.TgZ(9,"td")(10,"div",248)(11,"div",249)(12,"span"),t._uU(13),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA()()()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"div",250)(20,"a",251),t._UZ(21,"img",252),t.qZA(),t.TgZ(22,"a",253),t.NdJ("click",function(){const i=t.CHM(e),a=i.$implicit,l=i.index,d=t.oxw(3);return t.KtG(d.setDeleteData(a.id,l))}),t._UZ(23,"i",254),t.qZA()()()()}if(2&n){const e=s.$implicit,o=t.oxw(3);t.xp6(2),t.hij(" ",1==e.attachement_type?"Tuning File":"Basic Attachment"," "),t.xp6(2),t.Q6J("title",e.attachement_name),t.xp6(1),t.hij(" ",e.attachement_name||"NA"," "),t.xp6(2),t.hij(" ",t.lcZ(8,9,null==e?null:e.file_size)," "),t.xp6(6),t.AsE("",(null==e?null:e.uploaded_by.first_name)||"NA"," ",(null==e?null:e.uploaded_by.last_name)||"NA"," "),t.xp6(2),t.hij("",(null==e?null:e.uploaded_by.email)||"NA"," "),t.xp6(2),t.hij(" ",o.notification.formatDate(null==e?null:e.created_at),""),t.xp6(3),t.s9C("href",e.file,t.LSH)}}function Le(n,s){1&n&&(t.TgZ(0,"p",255)(1,"span"),t._uU(2,"Records not found"),t.qZA()())}function Ve(n,s){if(1&n&&(t.TgZ(0,"div",58)(1,"table")(2,"thead")(3,"th"),t._uU(4,"File type"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"File title"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"File size"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Uploaded by"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Uploaded at"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Action"),t.qZA()(),t.YNc(15,De,24,11,"tr",59),t.qZA(),t.YNc(16,Le,3,0,"p",246),t.qZA()),2&n){const e=t.oxw(2);t.xp6(15),t.Q6J("ngForOf",e.attachments),t.xp6(1),t.Q6J("ngIf",0==e.attachments.length)}}function Ne(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",232,150)(3,"form",127)(4,"div",233)(5,"div",234)(6,"label",85),t._uU(7,"File Type"),t.qZA(),t.TgZ(8,"select",235)(9,"option",236),t._uU(10," Select File Type"),t.qZA(),t.TgZ(11,"option",237),t._uU(12,"Tuning File"),t.qZA(),t.TgZ(13,"option",238),t._uU(14,"Basic Attachment"),t.qZA()()(),t.TgZ(15,"div",234)(16,"label"),t._uU(17,"File"),t.qZA(),t.TgZ(18,"input",239,165),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onFileChange(i))}),t.qZA()(),t.TgZ(20,"div",240),t._UZ(21,"label",85),t.YNc(22,Ie,2,0,"button",241),t.qZA()(),t._UZ(23,"div",242)(24,"div",243),t.qZA()(),t.TgZ(25,"div",244),t.YNc(26,Fe,11,0,"div",125),t.YNc(27,Ve,17,2,"div",227),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.attachmentForm),t.xp6(19),t.Q6J("ngIf","Full access"==e.permissions.user_management),t.xp6(4),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}function Se(n,s){1&n&&(t.TgZ(0,"div",166),t.O4$(),t.TgZ(1,"svg",167)(2,"radialGradient",168),t._UZ(3,"stop",169)(4,"stop",170)(5,"stop",171)(6,"stop",172)(7,"stop",173),t.qZA(),t.TgZ(8,"circle",174),t._UZ(9,"animateTransform",175),t.qZA(),t._UZ(10,"circle",176),t.qZA()())}function Je(n,s){if(1&n&&(t.TgZ(0,"div",260)(1,"div",183)(2,"div",260)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()()()()),2&n){const e=s.$implicit,o=s.index,i=t.oxw(3);t.xp6(1),t.Q6J("ngClass",o%2==0?"timeline-even":"timeline-odd"),t.xp6(3),t.Oqu(i.notification.formatDate(null==e?null:e.created_at)),t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.hij(" ",null==e?null:e.message," ")}}function Ee(n,s){if(1&n&&(t.TgZ(0,"div",258),t.YNc(1,Je,9,4,"div",259),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.chatHistory)}}function Re(n,s){if(1&n&&(t.TgZ(0,"div",256)(1,"div",218)(2,"h2"),t._uU(3,"Timeline"),t.qZA()(),t.YNc(4,Se,11,0,"div",151),t.YNc(5,Ee,2,1,"div",257),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.isHistoryLoading),t.xp6(1),t.Q6J("ngIf",!e.isHistoryLoading)}}function Be(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",268)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span",269),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.getArticleDetailBlock(a.slug))}),t._uU(6,"Read More..."),t.qZA(),t._UZ(7,"hr"),t.qZA()}if(2&n){const e=s.$implicit,o=s.index;t.xp6(2),t.AsE("",o+1,". ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",null==e?null:e.summary," ")}}const O=function(n,s,e){return{itemsPerPage:n,currentPage:s,totalItems:e}};function Qe(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",262)(1,"div",263)(2,"div")(3,"input",264),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.searchKey=i)})("keyUp.enter",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getKnowledgeBaseDetail())}),t.qZA(),t.TgZ(4,"button",265),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getKnowledgeBaseDetail())}),t._UZ(5,"img",266),t.qZA()()(),t.YNc(6,Be,8,3,"div",267),t.ALo(7,"paginate"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.searchKey),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,e.articleList,t.kEZ(5,O,e.pageSize,e.page,e.totalArticle)))}}function Ye(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",262)(1,"div",270),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.articleAnswerViewBlock=!1)}),t._UZ(2,"i",271),t._uU(3,"\xa0Back "),t.qZA(),t.TgZ(4,"div",229)(5,"span",272),t._uU(6),t.qZA(),t._UZ(7,"p",273,274),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(e.answerDetailBlock.title),t.xp6(1),t.Q6J("innerHTML",e.answerDetailBlock.answer,t.oJD)}}function je(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"pagination-controls",275),t.NdJ("pageChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handlePageChange(i,"main"))}),t.qZA()}}function $e(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Qe,8,9,"div",261),t.YNc(2,Ye,9,2,"div",261),t.YNc(3,je,1,0,"pagination-controls",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.articleAnswerViewBlock),t.xp6(1),t.Q6J("ngIf",e.articleAnswerViewBlock),t.xp6(1),t.Q6J("ngIf",0!=(null==e.articleList?null:e.articleList.length)&&!e.articleAnswerViewBlock)}}function He(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",281),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.createTicketNote())}),t._uU(1," Add Note "),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",!e.notes)}}function Ge(n,s){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",282),t.TgZ(2,"div")(3,"p",272),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("src",e.user.image?e.user.image:"assets/images/icon/avtarIcon.jpeg",t.LSH),t.xp6(3),t.lnq(" ",e.user.first_name," ",e.user.last_name," (",e.user.email,"), "),t.xp6(2),t.Oqu(e.note),t.xp6(2),t.Oqu(o.notification.formatDate(null==e?null:e.created_at))}}function Ke(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ge,9,6,"div",50),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",e.note)}}function We(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"pagination-controls",275),t.NdJ("pageChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleNotePageChange(i))}),t.qZA()}}function Xe(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",276)(2,"textarea",277),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.notes=i)}),t.qZA(),t.TgZ(3,"div",278),t.YNc(4,He,2,1,"button",279),t.qZA(),t.TgZ(5,"div",280),t.YNc(6,Ke,2,1,"div",59),t.ALo(7,"paginate"),t.qZA(),t.YNc(8,We,1,0,"pagination-controls",61),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.notes),t.xp6(2),t.Q6J("ngIf","Full access"==e.permissions.user_management),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,4,null==e.noteDetails?null:e.noteDetails.results,t.kEZ(7,O,e.notePageSize,e.notePage,e.totalNote))),t.xp6(2),t.Q6J("ngIf",e.noteDetails.next||e.noteDetails.previous)}}function ti(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",229),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",283),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.previewTemplateForm(a))}),t._UZ(7,"i",284),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",(null==e?null:e.template_type_display)||""," "),t.xp6(2),t.hij(" ",(null==e?null:e.subject)||""," ")}}function ei(n,s){1&n&&(t.TgZ(0,"p",285),t._uU(1,"Records not found"),t.qZA())}function ii(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"pagination-controls",275),t.NdJ("pageChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handleTemplatePageChange(i))}),t.qZA()}}function ni(n,s){if(1&n&&(t.TgZ(0,"option",286),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.ticket_status||"New"," ")}}function oi(n,s){if(1&n&&(t.TgZ(0,"button",287),t._uU(1,"Update"),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.ticketstatusForm.invalid)}}function ai(n,s){if(1&n&&(t.TgZ(0,"option",286),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.user_id),t.xp6(1),t.lnq(" ",e.first_name," ",e.last_name," (",e.email,") ")}}function si(n,s){if(1&n&&(t.TgZ(0,"button",287),t._uU(1,"Assign"),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.ticketAssignForm.invalid)}}function li(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",288),t.NdJ("removed",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.removeKeys(a))}),t._uU(1),t.TgZ(2,"button",289)(3,"mat-icon"),t._uU(4,"cancel"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(1),t.hij(" ",e," ")}}function ri(n,s){if(1&n&&(t.TgZ(0,"mat-option",286)(1,"div",290),t._UZ(2,"img",291),t.TgZ(3,"div")(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()()()()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(2),t.Q6J("src",e.image?e.image:"assets/images/icon/customer-profile.png",t.LSH),t.xp6(3),t.AsE(" ",(null==e?null:e.first_name)||""," ",(null==e?null:e.last_name)||""," "),t.xp6(2),t.hij(" ",e.email," ")}}function ci(n,s){if(1&n&&(t.TgZ(0,"li")(1,"div",290),t._UZ(2,"img",291),t.TgZ(3,"div")(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()()()()),2&n){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.image?e.image:"assets/images/icon/customer-profile.png",t.LSH),t.xp6(3),t.AsE(" ",(null==e?null:e.first_name)||""," ",(null==e?null:e.last_name)||""," "),t.xp6(2),t.hij(" ",e.email," ")}}function di(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",292),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.applyTag())}),t._uU(1,"Apply"),t.qZA()}}function ui(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"i",293),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.articleAnswerView=!1)}),t.qZA()}}function fi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"i",294),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.copyShare("share"))}),t.qZA()}}function hi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"i",295),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.copyShare("copy"))}),t.qZA()}}function _i(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",300),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.getArticleDetail(i.slug,"copy"))}),t._UZ(1,"img",301),t._uU(2,"Copy"),t.qZA()}}function pi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",300),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.getArticleDetail(i.slug,"share"))}),t._UZ(1,"img",302),t._uU(2,"Share"),t.qZA()}}function gi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",268)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span",297),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.getArticleDetail(a.slug))}),t._uU(6,"Read More..."),t.qZA(),t.TgZ(7,"div",298),t.YNc(8,_i,3,0,"button",299),t.YNc(9,pi,3,0,"button",299),t.qZA(),t._UZ(10,"hr"),t.qZA()}if(2&n){const e=s.$implicit,o=s.index,i=t.oxw(2);t.xp6(2),t.AsE("",o+1,". ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",null==e?null:e.summary," "),t.xp6(4),t.Q6J("ngIf","Full access"==i.permissions.user_management),t.xp6(1),t.Q6J("ngIf","Full access"==i.permissions.user_management)}}function mi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"pagination-controls",275),t.NdJ("pageChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handlePageChange(i,"SideBar"))}),t.qZA()}}function vi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",262)(2,"div",263)(3,"div",296)(4,"input",264),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.searchKeySideBar=i)})("keyUp.enter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getKnowledgeBaseDetailSidebar())}),t.qZA(),t.TgZ(5,"button",265),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getKnowledgeBaseDetailSidebar())}),t._UZ(6,"img",266),t.qZA()()(),t.YNc(7,gi,11,5,"div",267),t.ALo(8,"paginate"),t.qZA(),t.YNc(9,mi,1,0,"pagination-controls",61),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.searchKeySideBar),t.xp6(3),t.Q6J("ngForOf",t.xi3(8,3,e.articleListSideBar,t.kEZ(6,O,e.pageSize,e.pageSideBar,e.totalArticleSideBar))),t.xp6(2),t.Q6J("ngIf",0!=(null==e.articleList?null:e.articleList.length))}}function bi(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",229)(2,"span",272),t._uU(3),t.qZA(),t._UZ(4,"p",273,274),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.answerDetail.title),t.xp6(1),t.Q6J("innerHTML",e.answerDetail.answer,t.oJD)}}function Ci(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"p"),t._uU(3,"Request Id"),t.qZA()(),t.TgZ(4,"div",106)(5,"span"),t._uU(6),t.qZA(),t._UZ(7,"br"),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",(null==e.vehDetail?null:e.vehDetail.request_id)||"NA"," ")}}function Ti(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"p"),t._uU(3,"Customer Name"),t.qZA()(),t.TgZ(4,"div",106)(5,"span"),t._uU(6),t.qZA(),t._UZ(7,"br"),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.AsE(" ",(null==e.vehDetail?null:e.vehDetail.customer_first_name)||"NA"," ",null==e.vehDetail?null:e.vehDetail.customer_last_name," ")}}function Zi(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div")(2,"p"),t._uU(3,"Company Name"),t.qZA()(),t.TgZ(4,"div")(5,"span"),t._uU(6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(6),t.Oqu((null==e.vehDetail||null==e.vehDetail.user?null:e.vehDetail.user.company_name)||"NA")}}function ki(n,s){if(1&n&&(t.TgZ(0,"div",233)(1,"div",303),t._UZ(2,"img",304),t.qZA(),t.TgZ(3,"div",305)(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA()()()),2&n){const e=s.$implicit;t.xp6(2),t.Q6J("src",(null==e?null:e.image)||"assets/images/icon/avtarIcon.jpeg",t.LSH),t.xp6(3),t.AsE("",null==e?null:e.first_name," ",null==e?null:e.last_name," "),t.xp6(2),t.hij(" ",null==e?null:e.email," ")}}function xi(n,s){if(1&n&&(t.TgZ(0,"button",216),t._uU(1,"Update"),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.frTicketstatusForm.invalid)}}function yi(n,s){1&n&&(t.TgZ(0,"div",228),t.O4$(),t.TgZ(1,"svg",167)(2,"radialGradient",168),t._UZ(3,"stop",169)(4,"stop",170)(5,"stop",171)(6,"stop",172)(7,"stop",173),t.qZA(),t.TgZ(8,"circle",174),t._UZ(9,"animateTransform",175),t.qZA(),t._UZ(10,"circle",176),t.qZA()())}function wi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",306)(6,"a",307),t.NdJ("click",function(){const i=t.CHM(e),a=i.$implicit,l=i.index,d=t.oxw(2);return t.KtG(d.downloadFIle(a,l))}),t._UZ(7,"i",231),t.qZA()(),t.TgZ(8,"td",306),t._uU(9),t.qZA()()}if(2&n){const e=s.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.Oqu(o.notification.formatDate(null==e?null:e.created_at)),t.xp6(5),t.hij(" ",null!=e&&e.downloaded_times?null==e?null:e.downloaded_times:0," ")}}function qi(n,s){if(1&n&&(t.TgZ(0,"table")(1,"thead")(2,"th"),t._uU(3,"Title"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Created at"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Download"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Download Count"),t.qZA()(),t.YNc(10,wi,10,3,"tr",59),t.qZA()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.downloadFileList)}}function Ai(n,s){if(1&n&&(t.TgZ(0,"option",286),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.category," ")}}function Mi(n,s){if(1&n&&(t.TgZ(0,"option",286),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",null==e?null:e.value),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Oi(n,s){if(1&n&&(t.TgZ(0,"li"),t._UZ(1,"img",304),t.TgZ(2,"div")(3,"p"),t._uU(4),t.qZA()()()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("src",(null==e?null:e.image)||"assets/images/icon/customer-profile.png",t.LSH),t.xp6(3),t.AsE("",e.first_name," ",e.last_name,"")}}function Ui(n,s){1&n&&(t.TgZ(0,"div")(1,"p",308),t._uU(2,"No active viewer"),t.qZA()())}function zi(n,s){if(1&n&&(t.TgZ(0,"section")(1,"h3"),t._uU(2,"Active Viewers"),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Oi,5,3,"li",59),t.YNc(5,Ui,3,0,"div",50),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.activeUserList),t.xp6(1),t.Q6J("ngIf",!(null!=e.activeUserList&&e.activeUserList.length))}}let Pi=(()=>{class n{constructor(e,o,i,a,l,d,v,h,u,_,b,k,F,En,Rn,Bn,Qn){this._converservice=e,this.sanitizer=o,this.route=i,this.fb=a,this.router=l,this._ticketservice=d,this._titleservice=v,this._permissions=h,this.toastr=u,this.uploadService=_,this._roleservice=b,this.crud=k,this._templateservice=F,this.notification=En,this.renderer=Rn,this.location=Bn,this.xorEncryption=Qn,this.isexpandedMsgWindow=!1,this.tab="conversion",this.conversations=[],this.attachments=[],this.formData=new FormData,this.roleList=[],this.ticketstatus=[],this.roleUserList=[],this.selectedIndustry=[],this.tagList=[],this.industryCtrl=new r.NI,this.separatorKeysCodes=[Bt.OC],this.pageSize=10,this.page=1,this.notePage=1,this.notePageSize=10,this.totalNote=0,this.categoryList=[{category:"Log Report",key:"log_report",id:1,personalize:[{name:"Ticket Id",value:"ticket_id"},{name:"Ticket Ids",value:"ticket_ids"},{name:"Created At",value:"created_at"},{name:"Updated At",value:"updated_at"},{name:"Status",value:"status"},{name:"Ticket Status",value:"ticket_status"},{name:"Ticket Url",value:"ticket_url"},{name:"Ticket Subject",value:"ticket_subject"},{name:"Ticket Customer Name",value:"ticket_customer_name"}]},{category:"Ticket",key:"ticket",id:2,personalize:[{name:"Ticket Id",value:"ticket_id"},{name:"Ticket Ids",value:"ticket_ids"},{name:"Created At",value:"created_at"},{name:"Updated At",value:"updated_at"},{name:"Status",value:"status"},{name:"Ticket Status",value:"ticket_status"},{name:"Ticket Url",value:"ticket_url"},{name:"Ticket Subject",value:"ticket_subject"},{name:"Ticket Customer Name",value:"ticket_customer_name"}]}],this.timelinedata=[{date:"1 March 2023 16:10:30",title:"File submited by user"},{date:"1 March 2023 16:10:30",title:"File matching"},{date:"1 March 2023 16:10:30",title:"File returned"},{date:"1 March 2023 16:10:30",title:"New directory created"}],this.totalArticle=0,this.pageSideBar=1,this.totalArticleSideBar=0,this.articleAnswerView=!1,this.userDetail=JSON.parse(localStorage.getItem("userdetails")||"{}"),this.distance=2,this.chatPage=1,this.chatPageSize=10,this.articleAnswerViewBlock=!1,this.showError=!1,this.templates=[],this.temCanpage=1,this.temCanSize=10,this.title="",this.category="",this.ckeEditor=!1,this.conversationsCount=0,this.activeUsersCount=0,this.isActiveUsersVisible=!1,this.customerId=0,this.isDirectoryLoading=!1,this.oldC=[],this.isConversationLoading=!1,this.isLoading=!1,this.fileList=[],this.isHistoryLoading=!1,this.isStandaloneTicket=!1,this.deleteAttachmentData={id:0,index:0};const H=this.location.getState()?.state;H&&(this.ticketDetail=H),this.ticketstatusForm=this.fb.group({ticket_status:["",r.kI.required]}),this.attachmentForm=this.fb.group({attachement_type:["Select File Type"],attachement_name:[""]}),this.templateForm=this.fb.group({subject:[{value:"",disabled:!0},[r.kI.required]],template_type:[{value:"",disabled:!0},[r.kI.required]],body:[{value:"",disabled:!0},[r.kI.required]]}),this.personalizeList=this.categoryList[0].personalize,this._titleservice.setTitle("ticket details"),this.ticketId=this.route.snapshot.paramMap.get("ids"),this.id=this.route.snapshot.paramMap.get("id"),this.conversationForm=this.fb.group({sender:["",r.kI.required],recipient:["",r.kI.required],message:[""],file:[""],message_type:["text"],attachement_name:[""]}),this.ticketAssignForm=this.fb.group({role_id:["Select Role",r.kI.required],user_id:["Select User",r.kI.required]}),this.industryCtrl.valueChanges.pipe((0,D.b)(500)).subscribe(T=>{T&&this.crud.getRequest(`${m.t.getAdminInternalTeam}${this.ticketId}?search=${T.trim()}`).then(Yn=>{this.industryList=Yn.data.results})}),this.frTicketstatusForm=this.fb.group({ticket_status:["",r.kI.required]}),this.permissions=this._permissions.getPermissions(),this.renderer.listen("window","click",T=>{console.log("Is Clicked in button: ",this.activeUserPopup?.nativeElement.contains(T.target)),console.log("Is Clicked in popover Container: ",this.popupContainer.nativeElement.contains(T.target),"asd"),!this.activeUserPopup?.nativeElement.contains(T.target)&&!this.popupContainer.nativeElement.contains(T.target)&&(this.isActiveUsersVisible=!1)})}updateDownloadHistory(e){this.crud.getRequest(`customer/conversation/attachment/download/${e}`)}ngOnInit(){this.route.queryParams.subscribe(e=>{e.historyTab&&(this.tab="history",this.getChatHistory())}),this.notification.onMessageAdmin.subscribe(e=>{e&&"admin_attachment_refresh"===e.type&&this.retrieveConversation()}),this._converservice.initSocket(this.ticketId),this.retrieveConversation(),this._converservice.onConversation.subscribe(e=>{console.log(e,"res of chat socket on message"),console.log("message =>",e.message),"online"!=e.message_type&&"offline"!=e.message_type&&(e.message="article"==e?.message_type?this.sanitizer.bypassSecurityTrustHtml(e?.message):e.message,"article"==e?.message_type?(e.message=e.message.changingThisBreaksApplicationSecurity.replace("SafeValue must use [property]=binding:",""),e.message=e.message.replace("(see https://g.co/ng/security#xss)","")):(e.message=e.message.replace("SafeValue must use [property]=binding:",""),e.message=e.message.replace("(see https://g.co/ng/security#xss)","")),this.conversations.push(e),setTimeout(()=>{this.scrollBottom()},200));const o=e.active_users.filter(i=>i.uuid!=this.userDetail.uuid);this.activeUserList=o,this.activeUsersCount=o.length}),this.getTicketDetail(),this.getCountByCategory()}getArticleDetailBlock(e,o){this.crud.getRequest(`${m.t.getArticleDetail}${e}`).then(i=>{this.answerDetailBlock=i,this.answerDetailBlock.answer=this.sanitizer.bypassSecurityTrustHtml(this.answerDetailBlock?.answer),this.articleAnswerViewBlock=!0})}onScroll(){this.page=this.page+1}onChatScroll(){this.chatPageSize=this.chatPageSize+10,this.retrieveConversation()}handlePageChange(e,o){"main"==o?(this.page=e,this.getKnowledgeBaseDetail()):(this.pageSideBar=e,this.getKnowledgeBaseDetailSidebar())}handleNotePageChange(e){this.notePage=e,this.getNotes()}getKnowledgeBaseDetail(){this.searchKey?this.crud.getRequest(`${f.d.getArticleList}?search=${this.searchKey}`).then(e=>{e&&(this.articleList=e.data.results,this.totalArticle=e.data.count)}):this.crud.getRequest(`${f.d.getArticleList}?page=${this.page}&page_size=${this.pageSize}`).then(e=>{e&&(this.articleList=e.data.results,this.totalArticle=e.data.count)})}getKnowledgeBaseDetailSidebar(){this.searchKeySideBar?this.crud.getRequest(`${f.d.getArticleList}?search=${this.searchKeySideBar}`).then(e=>{e&&(this.articleListSideBar=e.data.results,this.totalArticleSideBar=e.data.count)}):this.crud.getRequest(`${f.d.getArticleList}?page=${this.page}&page_size=${this.pageSize}`).then(e=>{e&&(this.articleListSideBar=e.data.results,this.totalArticleSideBar=e.data.count)})}addKeys(e){const o=e.input,i=e.value;(i||"").trim()&&(this.selectedIndustry.push(i.trim()),this.industryCtrl.setValue(null)),o&&(o.value="")}removeKeys(e){const o=this.selectedIndustry.indexOf(e);o>=0&&(this.selectedIndustry.splice(o,1),this.tagList.splice(o,1))}selectedKeys(e){this.selectedIndustry.push(e.option.value.first_name),this.tagList.push(e.option.value.id),this.industryInput.nativeElement.value="",this.industryCtrl.setValue(null)}getTicketDetail(){this.crud.getRequest(`${m.t.getTicketDetail}${this.id}/`,!0).then(e=>{e&&(this.ticketDetail=e.data,this.customerId=this.ticketDetail.created_by.id,this.ticketstatusForm.patchValue({ticket_status:null!=e.ticket_status?e.ticket_status.id:0}),this.ticket_status=null!=e.data.ticket_status?e.data.ticket_status.team_status:"New",this.ticketstatusForm.controls.ticket_status.setValue(null!=e.data.ticket_status?e.data.ticket_status.id:0))})}getCountByCategory(){this._ticketservice.statusCount.subscribe(e=>{e&&(this.ticketstatus=e.count_by_category.reverse()),e||this._ticketservice.getStatusCount().subscribe(o=>{o&&(this.ticketstatus=o.count_by_category.reverse())})})}getFileList(){this.isDirectoryLoading=!0,this.crud.getRequest(`${m.t.fileDownloadList}${this.ticketDetail?.request_id}`,!0).then(e=>{e&&(this.downloadFileList=e.data)}).finally(()=>this.isDirectoryLoading=!1)}getUserByRole(e){this._roleservice.getRoles({}).subscribe(o=>{this.roleUserList=o.data},o=>{})}ticketAssignFormSubmit(){this._roleservice.ticketAssignTo(this.ticketId,{user_id:this.ticketAssignForm.value?.user_id}).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),this.getTicketDetail()},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}ticketstatusFormSubmit(){this._ticketservice.updateTicketStatus(this.ticketDetail.ids,this.ticketstatusForm.value).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),document.getElementById("closemodal")?.click(),this.getTicketDetail()},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}conversationFormSubmit(){let e=this.conversationForm.value;e.message=e.message.replace("SafeValue must use [property]=binding:",""),e.message=e.message.replace("(see https://g.co/ng/security#xss)",""),(""!=this.conversationForm.controls.file.value||""!=this.conversationForm.controls.message.value)&&(this._converservice.sendMessage(JSON.stringify(e)),this.conversationForm.controls.file.value&&this.toastr.success("Attachment saved successfully."),this.conversationForm.patchValue({message:""}),this.conversationForm.patchValue({message_type:"text"}),this.conversationForm.patchValue({file:""}),this.ckeEditor=!1)}copyShare(e){if("copy"==e){let o=`<h5><b>${this.answerDetail.title}</b></h5><br><br>${this.answerDetail.answer}`;o=o.replace("SafeValue must use [property]=binding:",""),o=o.replace("(see https://g.co/ng/security#xss)",""),this.conversationForm.patchValue({message:o}),this.conversationForm.patchValue({message_type:"article"}),this.conversationFormSubmit()}else this.conversationForm.patchValue({message:`<a>${Qt.N.chatNavigationUrl}viewArticle?${this.answerDetail.slug}</a>`}),this.conversationFormSubmit();this.articleAnswerView=!1}readArticle(e){var o=e.changingThisBreaksApplicationSecurity.split("?")[1];o=e.changingThisBreaksApplicationSecurity.split("?")[1].slice(0,o.length-4);const i=this.router.serializeUrl(this.router.createUrlTree(["/admin/knowledgebase"],{queryParams:{ques:o}}));window.open(i,"_blank")}retrieveConversation(){this.isConversationLoading=!0,this.crud.getRequest(`${m.t.getChat}${this.ticketId}?page=${this.chatPage}&page_size=500`,!0).then(e=>{e&&(this.isConversationLoading=!1,this.conversations=e.data.results.reverse(),this.conversations.forEach(o=>{o.message=this.sanitizer.bypassSecurityTrustHtml(o.message)}),this.conversationsCount=e?.data?.count||0,this.conversationForm.patchValue({sender:e.sender,recipient:e.recipient}),setTimeout(()=>{this.scrollBottom()},200))}).catch(e=>{this.isConversationLoading=!1})}getAttachments(){this.isLoading=!0,this._ticketservice.getAttachments(this.ticketId,!0).subscribe(e=>{this.attachments=e.data,this.isLoading=!1},e=>{this.isLoading=!1,this.toastr.error(e.error.detail,"",{timeOut:4e3})})}onFileChange(e){if(this.newFileList=Array.from(e.target.files),this.attachmentForm.controls.attachement_name.setValue(this.newFileList[0].name),this.newFileList.length>0)for(let o of this.newFileList)this.fileList.push({name:o.name,type:o.type,size:o.size/1e3+"KB",file:o}),this.formData.append("files",o,o.name)}sendAttachment(){this.formData.append("attachement_name",this.attachmentForm.value.attachement_name),this.formData.append("attachement_type",this.attachmentForm.value.attachement_type),this._ticketservice.saveAttachments(this.ticketId,this.formData).subscribe(e=>{this.toastr.success(e.message,"",{timeOut:4e3}),this.getAttachments(),this.formData=new FormData,this.fileInput.nativeElement.value="",this.attachmentForm.controls.attachement_type.setValue("Select File Type"),this.attachmentForm.controls.attachement_name.setValue("")},e=>{this.toastr.error(e.error.detail,"",{timeOut:4e3})})}updateStatusOnAttachment(){this._ticketservice.updateTicketStatus(this.ticketId,{ticket_status:48}).subscribe(e=>{},e=>{this.toastr.error(e.error.detail,"",{timeOut:4e3})})}selectFile(e){this.selectedFiles=e.target.files;const o=this.selectedFiles.item(0);this.uploadService.uploadFile(o,i=>{this.conversationForm.controls.file.setValue(i),this.conversationForm.controls.message_type.setValue("file"),this.conversationForm.controls.attachement_name.setValue(o.name),this.fileType=i.split("."),this.fileType=this.fileType[this.fileType.length-1]})}decodeFileNameFromUrl(e){return decodeURIComponent(e.split("/")[e.split("/").length-1])}scrollBottom(){this.scroll.nativeElement.scrollTop=this.scroll.nativeElement.scrollHeight}scrollToTop(){this.scroll.nativeElement.scrollTop=0}ngOnDestroy(){this._converservice.closeSocket()}applyTag(){this.crud.postRequest(`${m.t.getAdminInternalTeam}/${this.ticketId}`,{tags:this.tagList}).then(o=>{o&&(this.toastr.success(o.message),document.getElementById("closefilterconvas")?.click(),this.getTicketDetail())})}expandMsgWindow(){this.isexpandedMsgWindow=!this.isexpandedMsgWindow}getChatHistory(){this.isHistoryLoading=!0,this.crud.getRequest(`${m.t.getChatHistory}${this.ticketId}?page=${this.page}&page_size=500`,!0).then(e=>{this.isHistoryLoading=!1,this.chatHistory=e.data.results}).catch(e=>{this.isHistoryLoading=!1})}getArticleDetail(e,o){this.crud.getRequest(`${m.t.getArticleDetail}${e}`).then(i=>{i&&(this.answerDetail=i,this.answerDetail.answer=this.sanitizer.bypassSecurityTrustHtml(this.answerDetail.answer),o?this.copyShare(o):this.articleAnswerView=!0)})}getNotes(){this.crud.getRequest(`${m.t.getAllNotes}${this.ticketDetail.id}?page=${this.notePage}&page_size=${this.notePageSize}`).then(e=>{e&&(this.noteDetails=e?.data,this.totalNote=e?.data?.count)})}createTicketNote(){this.crud.postRequest(`${m.t.createTicketNote}`,{ticket:this.ticketDetail.id,note:this.notes}).then(o=>{o&&(this.toastr.success("Note Added Successfully"),this.notes="",this.getNotes())})}downloadFIle(e,o){this.crud.getRequest(`${f.d.updateDownloadCount}${e.id}`).then(i=>{i&&(this.downloadFileList[o].downloaded_times=i.counter,window.open(e.url,"_blank"))})}retrieveTemplate(){const e=this.getRequestParams(this.title,this.page,this.pageSize,this.category);this._templateservice.getTemplate(e).subscribe(o=>{this.templates=o.data.results,this.showError=0==this.templates.length,this.totalTemplate=o.data.count},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}getRequestParams(e,o,i,a){let l={};return e&&(l.search=e),o&&(l.page=o),i&&(l.page_size=i),i&&(l.name=a),l}handleTemplatePageChange(e){this.temCanpage=e,this.retrieveTemplate()}setTemplateInSendMsgBox(e){this.crud.getRequest(`${m.t.shareTemplate}${e.ids}&ticket_id=${this.ticketId}`).then(o=>{o&&(this.conversationForm.controls.message.setValue(o.data),this.conversationForm.patchValue({message_type:"article"}),this.ckeEditor=!0)})}frTicketstatusFormSubmit(){this._ticketservice.updateFRTicketStatus(this.frTicketstatusForm.value.ticket_status,this.ticketId).subscribe(e=>{this.toastr.success(e.message,"",{timeOut:4e3}),document.getElementById("closeFtmodal")?.click(),this.frTicketstatusForm.controls.ticket_status.setValue("")},e=>{this.toastr.error(e.error.detail,"",{timeOut:4e3})})}getVehicleDetail(){if(this.ticketDetail?.vehicle_details?.model)return this.isStandaloneTicket=!0,void(this.vehDetail=this.ticketDetail.vehicle_details);this.isStandaloneTicket=!1,this.ticketDetail?.request_id?this.crud.getRequest(`file/service/request/detail/${this.ticketDetail?.request_id.replace("FR","")}`).then(e=>{this.vehDetail=e,"other_fields"in this.vehDetail&&this.vehDetail.other_fields&&(this.vehDetail.other_fields=this.vehDetail.other_fields.replaceAll("_"," ").replaceAll(",",", "))}):this.vehDetail=this.ticketDetail?.vehicle_details}previewTemplateForm(e){this.templateForm.patchValue({subject:e.subject,template_type:e.template_type,body:e.body}),this.currentTemplate=e}setDeleteData(e,o){this.deleteAttachmentData={id:e,index:o}}deleteAttachment(){this.crud.deleteRequest(`customer/conversation/attachment/delete/${this.deleteAttachmentData.id}`).then(e=>{e.success&&(this.attachments.splice(this.deleteAttachmentData.index,1),this.toastr.success(e.message))}).catch(e=>{this.toastr.error("Something went wrong")})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(Yt.E),t.Y36(q.H7),t.Y36(g.gz),t.Y36(r.qu),t.Y36(g.F0),t.Y36(V.w),t.Y36(q.Dx),t.Y36(S.q),t.Y36(A._W),t.Y36(J.f),t.Y36(N.N),t.Y36(M.I),t.Y36(jt.E),t.Y36(z.T),t.Y36(t.Qsj),t.Y36(p.Ye),t.Y36($t.G))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-ticket"]],viewQuery:function(o,i){if(1&o&&(t.Gf(Kt,5),t.Gf(Wt,5),t.Gf(Xt,5),t.Gf(te,5),t.Gf(ee,5),t.Gf(ie,5),t.Gf(ne,5)),2&o){let a;t.iGM(a=t.CRH())&&(i.scroll=a.first),t.iGM(a=t.CRH())&&(i.industryInput=a.first),t.iGM(a=t.CRH())&&(i.fileInput=a.first),t.iGM(a=t.CRH())&&(i.ckeditor=a.first),t.iGM(a=t.CRH())&&(i.copyAns=a.first),t.iGM(a=t.CRH())&&(i.activeUserPopup=a.first),t.iGM(a=t.CRH())&&(i.popupContainer=a.first)}},decls:533,vars:108,consts:[[1,"user-list"],[1,"ulist-div"],[1,"u-add"],[1,"u-add-right"],["routerLink","/admin/tickets"],["title","Back","aria-hidden","true",1,"fa","fa-long-arrow-left"],["data-bs-toggle","offcanvas","data-bs-target","#activeUser","title","Active User",4,"ngIf"],["data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail","title","Vehicle Details",3,"click"],["aria-hidden","true",1,"fa","fa-car"],["id","knowBaseSide","data-bs-toggle","offcanvas","data-bs-target","#KB","title","Knowledgebase",3,"click"],["aria-hidden","true",1,"fa","fa-file-text"],["data-bs-toggle","modal","data-bs-target","#chngeEmailModal","title","Download files",3,"click",4,"ngIf"],["data-bs-toggle","offcanvas","data-bs-target","#ticketDetail","title","View Tickets"],["aria-hidden","true",1,"fa","fa-eye"],["data-bs-toggle","offcanvas","data-bs-target","#filter","title","Edit Ticket",3,"click"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#changeStatusModel","title","Update FR Status"],["aria-hidden","true",1,"fa","fa-indent"],[2,"margin-inline","0!important"],[1,"tholder"],[1,"tleft",3,"ngClass"],[1,"faDiv"],[1,"fa","fa-expand",3,"click"],[1,"tabList"],[2,"position","relative"],["title","Active Users",1,"usersTab",3,"click"],["popup",""],["width","1.2rem","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M8 7C9.65685 7 11 5.65685 11 4C11 2.34315 9.65685 1 8 1C6.34315 1 5 2.34315 5 4C5 5.65685 6.34315 7 8 7Z","fill","#394a9c"],["d","M14 12C14 10.3431 12.6569 9 11 9H5C3.34315 9 2 10.3431 2 12V15H14V12Z","fill","#394a9c"],[1,"active-user-popup"],["popupContainer",""],[4,"ngTemplateOutlet"],["title","Conversation",3,"ngClass","click"],["alt","Conversation",3,"src"],["title","Information",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-info",2,"width","18px"],["title","File",3,"ngClass","click",4,"ngIf"],["title","Attachment",3,"ngClass","click"],["alt","attachment",3,"src"],["title","History",3,"ngClass","click"],["alt","history","alt","history",3,"src"],["title","Knowledgebase",3,"ngClass","click"],["alt","knowledge",3,"src"],["title","Notes",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-clipboard"],[1,"tright",3,"ngClass"],[4,"ngIf"],["style","min-height: 90%;",4,"ngIf"],["id","ADDTEMPLATE",1,"offcanvas","offcanvas-end",2,"width","650px"],[1,"offcanvas-header"],[1,"offcanvas-title"],[1,"sideBarButton"],["type","button","id","closefilterconvas","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-body"],[1,"responsive-tbl"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["class","pagination-crl","previousLabel","Prev","nextLabel","Next",3,"pageChange",4,"ngIf"],["id","updateStatusModal",1,"modal","productModal","mt-4"],[1,"modal-dialog"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","id","closemodal","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],["for","status",1,"form-label"],["formControlName","ticket_status",1,"form-select"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","id","closemodal","data-bs-dismiss","modal",1,"btn","cancel"],["type","submit","id","closemodal","data-bs-dismiss","modal","class","btn assign",3,"disabled",4,"ngIf"],["id","assignToModal",1,"modal","productModal","mt-4"],["formControlName","user_id",1,"form-select"],["id","filter",1,"offcanvas","offcanvas-end"],[1,"modalTabStatus"],[1,"fdiv"],["data-bs-toggle","modal","data-bs-target","#updateStatusModal"],[1,"fa","fa-edit","edit"],["data-bs-toggle","modal","data-bs-target","#assignToModal"],["for",""],[1,"form-group","addTagsChip","LinkedInSearchMatChip"],["appearance","fill",1,"example-chip-list"],["aria-label","Industry Selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],[2,"border","none","background","none","padding","0px","margin","0px","overflow","scroll","height","40px",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["industryInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[1,"taggedPeople"],[1,"cancel-apply"],["type","button","data-bs-dismiss","offcanvas",1,"btn"],["class","btn btn-secondary","type","submit",3,"click",4,"ngIf"],["id","KB",1,"offcanvas","offcanvas-end",2,"width","650px"],["class","fa fa-arrow-left","aria-hidden","true",3,"click",4,"ngIf"],["class","fa fa-share-alt-square","aria-hidden","true","title","Share",3,"click",4,"ngIf"],["class","fa fa-clipboard","aria-hidden","true","title","Copy",3,"click",4,"ngIf"],["type","button","id","closefilterconvas","data-bs-dismiss","offcanvas",1,"btn-close",3,"click"],["id","ticketDetail",1,"offcanvas","offcanvas-end"],[1,"offcanvas-body","viewTicket"],[2,"display","block"],["id","vehicleDetail",1,"offcanvas","offcanvas-end"],["id","activeUser",1,"offcanvas","offcanvas-end"],[1,"offcanvas-body","activeUser"],["class","d-flex",4,"ngFor","ngForOf"],["id","changeStatusModel",1,"modal","productModal"],[1,"modal-header",2,"margin-bottom","0px !important","padding-bottom","0px !important"],["type","button","id","closeFtmodal","data-bs-dismiss","modal",1,"btn-close"],["disabled","","value",""],["value","OPEN"],["value","CLOSED"],["value","Manual Handle"],["type","button","id","closemodal","data-bs-dismiss","modal",1,"btn","btn-danger"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["id","chngeEmailModal",1,"modal"],[1,"v-align"],[1,"modal-dialog","download"],[1,"modal-header","downloadFile"],["type","button","data-bs-dismiss","modal",1,"btn-close"],["class","h-100 d-flex align-items-center justify-content-center",4,"ngIf"],["id","editTemplate",1,"modal","modal-xl","productModal","mt-4"],[3,"formGroup"],[1,"u-add","custom"],[1,"mb-2"],["type","text","formControlName","subject",1,"form-control"],["formControlName","template_type",1,"form-select"],["value","","disabled","true"],["disabled","",1,"form-select"],["formControlName","body",3,"readOnly","disabled"],["ckeditor",""],["type","submit","id","closemodal","data-bs-dismiss","modal",1,"btn","assign",3,"click"],["activeUsers",""],["id","deleteModal",1,"modal"],[1,"modal-content","deleteModal"],[1,"flexDiv"],["data-bs-dismiss","modal",1,"btn","cancel"],["type","button","data-bs-dismiss","modal",1,"btn","delete",3,"click"],["data-bs-toggle","offcanvas","data-bs-target","#activeUser","title","Active User"],["aria-hidden","true",1,"fa","fa-address-book"],["data-bs-toggle","modal","data-bs-target","#chngeEmailModal","title","Download files",3,"click"],["aria-hidden","true",1,"fa","fa-download"],["title","File",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-file-o"],["infinite-scroll","",1,"chatWindow",3,"infiniteScrollDistance","scrollWindow"],["scroll",""],["class","h-100 d-flex align-items-center justify-content-center","style","min-height: 300px;",4,"ngIf"],[1,"textarea"],[1,"uploadFileView"],["src","assets/images/icon/cross-small.svg","alt","close",3,"ngClass","click",4,"ngIf"],["alt","close",3,"ngClass","src",4,"ngIf"],["class"," form-control","formControlName","message","placeholder","Enter your message here",4,"ngIf"],["formControlName","message",4,"ngIf"],[1,"btnGroup"],["data-bs-toggle","offcanvas","data-bs-target","#ADDTEMPLATE",3,"click"],["src","assets/images/icon/msg.png","alt","message"],[1,"fileupload"],[1,"dropup"],["src","assets/images/icon/fileupload.png","alt","file upload",1,"dropdown-toggle",3,"click"],["type","file",1,"hidden",3,"change"],["fileInput",""],[1,"h-100","d-flex","align-items-center","justify-content-center",2,"min-height","300px"],["width","6rem","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 200 200"],["id","a11","cx",".66","fx",".66","cy",".3125","fy",".3125","gradientTransform","scale(1.5)"],["offset","0","stop-color","#2315FF"],["offset",".3","stop-color","#2315FF","stop-opacity",".9"],["offset",".6","stop-color","#2315FF","stop-opacity",".6"],["offset",".8","stop-color","#2315FF","stop-opacity",".3"],["offset","1","stop-color","#2315FF","stop-opacity","0"],["transform-origin","center","fill","none","stroke","url(#a11)","stroke-width","15","stroke-linecap","round","stroke-dasharray","200 1000","stroke-dashoffset","0","cx","100","cy","100","r","70"],["type","rotate","attributeName","transform","calcMode","spline","dur","2","values","360;0","keyTimes","0;1","keySplines","0 0 1 1","repeatCount","indefinite"],["transform-origin","center","fill","none","opacity",".2","stroke","#2315FF","stroke-width","15","stroke-linecap","round","cx","100","cy","100","r","70"],["class","conversion-inner",4,"ngFor","ngForOf"],[1,"conversion-inner"],[1,"c_part",3,"ngStyle"],[3,"ngStyle"],[1,"lpart"],[1,"nameDesc"],[3,"ngClass"],["onerror","this.src = 'assets/images/icon/avtarIcon.jpeg'","alt","avatar",3,"src"],[1,"flex","flex-column"],[1,"mb-0",2,"font-size",".85rem"],["class","text rightChatBox justify-content-end",3,"pushLeft","pushRight",4,"ngIf"],["class","text",3,"ngClass",4,"ngIf"],["class","text","style","margin-right: 2rem;",3,"ngClass",4,"ngIf"],[1,"text","rightChatBox","justify-content-end"],["class","docView",4,"ngIf"],["style","cursor: pointer; white-space: break-spaces;word-break: auto-phrase;",3,"innerHTML",4,"ngIf"],["target","_blank",3,"href"],["alt","file",1,"imgF",2,"background-color","#C0C0C0",3,"src"],[1,"file-name"],["src","assets/images/icon/filesIcon.png","alt","file",1,"imgF"],[1,"docView"],[1,"docViewInner"],["aria-hidden","true",1,"fa","fa-2x","fa-file-text-o",2,"color","blue"],[1,"file-name",2,"word-break","break-all"],["target","_blank",1,"ms-2",3,"href"],["aria-hidden","true",1,"fa","fa-2x","fa-arrow-circle-o-down"],[2,"cursor","pointer","white-space","break-spaces","word-break","auto-phrase",3,"innerHTML"],[1,"text",3,"ngClass"],["target","_blank",3,"href",4,"ngIf"],["style","white-space: pre-wrap;word-break: auto-phrase;","class","e2e-inner-html-bound mb-0",3,"innerHTML",4,"ngIf"],["alt","file",3,"ngClass","src"],[1,"e2e-inner-html-bound","mb-0",2,"white-space","pre-wrap","word-break","auto-phrase",3,"innerHTML"],[1,"text",2,"margin-right","2rem",3,"ngClass"],["class","e2e-inner-html-bound",3,"innerHTML",4,"ngIf"],[1,"e2e-inner-html-bound",3,"innerHTML"],["src","assets/images/icon/cross-small.svg","alt","close",3,"ngClass","click"],["alt","close",3,"ngClass","src"],["formControlName","message","placeholder","Enter your message here",1,"form-control"],["formControlName","message"],["type","submit",1,"btn","btn-primary",3,"disabled"],["src","assets/images/icon/mailsend.png","alt","send mail"],[1,"service-header"],[1,"viewInfo"],[1,"description"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/directory"],["routerLink","/admin/directory/view-directory","routerLinkActive","active"],[1,"directory-inner"],["class","responsive-tbl",4,"ngIf"],[1,"h-100","d-flex","align-items-center","justify-content-center"],[2,"text-align","left"],[1,"eyeIcon",2,"margin","auto",3,"click"],["title","Download","aria-hidden","true",1,"fa","fa-download"],[1,"addFile"],[1,"d-flex"],[1,"d-flex","flex-column",2,"width","38%"],["formControlName","attachement_type",1,"form-control"],["value","Select File Type","disabled",""],["value","1"],["value","2"],["type","file",1,"form-control",3,"change"],[1,"d-flex","flex-column","justify-content-end",2,"width","15%"],["type","button","class","btn btn-primary form-control",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","mt-4"],[1,"d-flex","justify-content-end","mt-4"],[1,"addfile-inner"],["type","button",1,"btn","btn-primary","form-control",3,"click"],["class","errcls","style","justify-content: center !important;",4,"ngIf"],[1,"d-block",2,"max-width","20ch","overflow","hidden","text-overflow","ellipsis",3,"title"],[1,"tdholder"],[1,"tdinner"],[1,"actiontd"],["download","","target","_blank",3,"href"],["width","20px","src","assets/images/icon/download-icon.png","alt","attachment",1,"dimg"],["title","Delete attachment","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"edit",2,"cursor","pointer","border-color","red",3,"click"],[1,"fa","fa-trash-o",2,"color","red"],[1,"errcls",2,"justify-content","center !important"],[2,"min-height","90%"],["class","timeline-holder",4,"ngIf"],[1,"timeline-holder"],["class","timeline-inner",4,"ngFor","ngForOf"],[1,"timeline-inner"],["class","kbase",4,"ngIf"],[1,"kbase"],[1,"input-text"],["type","text","placeholder","Search Article",1,"form-control",3,"ngModel","ngModelChange","keyUp.enter"],[3,"click"],["src","assets/images/icon/Search.png","alt","search"],["class","kbase-inner",4,"ngFor","ngForOf"],[1,"kbase-inner"],[1,"readmore",3,"click"],[1,"backlink",3,"click"],[1,"fa","fa-long-arrow-left"],[2,"font-weight","600"],[3,"innerHTML"],["answer",""],["previousLabel","Prev","nextLabel","Next",1,"pagination-crl",3,"pageChange"],[1,"notebox"],["cols","30","rows","5","placeholder","Add Note...",1,"",3,"ngModel","ngModelChange"],[1,"note"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"noteList"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["alt","avtar",3,"src"],["data-bs-toggle","modal","data-bs-target","#editTemplate",1,"edit",3,"click"],["title","Share",1,"fa","fa-share-alt-square"],[1,"text-danger"],[3,"value"],["type","submit","id","closemodal","data-bs-dismiss","modal",1,"btn","assign",3,"disabled"],[3,"removed"],["matChipRemove",""],[1,"profile"],["alt","profile",3,"src"],["type","submit",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left",3,"click"],["aria-hidden","true","title","Share",1,"fa","fa-share-alt-square",3,"click"],["aria-hidden","true","title","Copy",1,"fa","fa-clipboard",3,"click"],[2,"width","100%"],[2,"color","blue","cursor","pointer",3,"click"],[1,"kbuttons"],["class","btn","data-bs-dismiss","offcanvas",3,"click",4,"ngIf"],["data-bs-dismiss","offcanvas",1,"btn",3,"click"],["src","assets/images/icon/copy.png","alt","copy"],["src","assets/images/icon/share.png","alt","share"],[1,"userImg"],["alt","",3,"src"],[1,"userDetail"],[2,"text-align","center !important"],[1,"eyeIcon",3,"click"],[1,"mt-4"]],template:function(o,i){if(1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.qZA(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"i",5),t.qZA(),t.YNc(8,oe,2,0,"div",6),t.TgZ(9,"div",7),t.NdJ("click",function(){return i.getVehicleDetail()}),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9),t.NdJ("click",function(){return i.getKnowledgeBaseDetailSidebar()}),t._UZ(12,"i",10),t.qZA(),t.YNc(13,ae,2,0,"div",11),t.TgZ(14,"div",12),t._UZ(15,"i",13),t.qZA(),t.TgZ(16,"div",14),t.NdJ("click",function(){return i.getUserByRole()}),t._UZ(17,"i",15),t.qZA(),t.TgZ(18,"div",16),t._UZ(19,"i",17),t.qZA()()(),t._UZ(20,"hr",18),t.TgZ(21,"div",19)(22,"div",20)(23,"div",21)(24,"i",22),t.NdJ("click",function(){return i.expandMsgWindow()}),t.qZA()(),t.TgZ(25,"div",23)(26,"ul")(27,"div",24)(28,"li",25,26),t.NdJ("click",function(){return i.isActiveUsersVisible=!i.isActiveUsersVisible}),t.O4$(),t.TgZ(30,"svg",27),t._UZ(31,"g",28)(32,"g",29),t.TgZ(33,"g",30),t._UZ(34,"path",31)(35,"path",32),t.qZA()(),t.kcU(),t.TgZ(36,"span"),t._uU(37,"Active Viewers"),t.qZA()(),t.TgZ(38,"div",33,34),t.YNc(40,se,1,0,"ng-container",35),t.qZA()(),t.TgZ(41,"li",36),t.NdJ("click",function(){return i.tab="conversion"}),t._UZ(42,"img",37),t.TgZ(43,"span"),t._uU(44,"Conversation"),t.qZA()(),t.TgZ(45,"li",38),t.NdJ("click",function(){return i.tab="information"}),t._UZ(46,"i",39),t.TgZ(47,"span"),t._uU(48,"Information"),t.qZA()(),t.YNc(49,le,4,1,"li",40),t.TgZ(50,"li",41),t.NdJ("click",function(){return i.tab="attachment",i.getAttachments()}),t._UZ(51,"img",42),t.TgZ(52,"span"),t._uU(53,"Attachment"),t.qZA()(),t.TgZ(54,"li",43),t.NdJ("click",function(){return i.tab="history",i.getChatHistory()}),t._UZ(55,"img",44),t.TgZ(56,"span"),t._uU(57,"History"),t.qZA()(),t.TgZ(58,"li",45),t.NdJ("click",function(){return i.tab="kbase",i.getKnowledgeBaseDetail()}),t._UZ(59,"img",46),t.TgZ(60,"span"),t._uU(61,"Knowledgebase"),t.qZA()(),t.TgZ(62,"li",47),t.NdJ("click",function(){return i.tab="notes",i.getNotes()}),t._UZ(63,"i",48),t.TgZ(64,"span"),t._uU(65,"Notes"),t.qZA()()()()(),t.TgZ(66,"div",49),t.YNc(67,Ae,22,10,"div",50),t.YNc(68,Me,80,13,"div",50),t.YNc(69,Pe,21,2,"div",50),t.YNc(70,Ne,28,4,"div",50),t.YNc(71,Re,6,2,"div",51),t.YNc(72,$e,4,3,"div",50),t.YNc(73,Xe,9,11,"div",50),t.qZA()()()(),t.TgZ(74,"div",52)(75,"div",53)(76,"h1",54),t._uU(77," Template "),t.qZA(),t.TgZ(78,"div",55),t._UZ(79,"button",56),t.qZA()(),t._UZ(80,"hr"),t.TgZ(81,"div",57)(82,"div",58)(83,"table")(84,"thead")(85,"th"),t._uU(86," Category "),t.qZA(),t.TgZ(87,"th"),t._uU(88,"Subject "),t.qZA(),t.TgZ(89,"th"),t._uU(90,"Action"),t.qZA()(),t.YNc(91,ti,8,2,"tr",59),t.ALo(92,"paginate"),t.qZA(),t.YNc(93,ei,2,0,"p",60),t.qZA(),t.YNc(94,ii,1,0,"pagination-controls",61),t.qZA()(),t.TgZ(95,"div",62)(96,"div",63)(97,"div",64)(98,"form",65),t.NdJ("ngSubmit",function(){return i.ticketstatusFormSubmit()}),t.TgZ(99,"div",66)(100,"h4",67),t._uU(101,"Update Status"),t.qZA(),t._UZ(102,"button",68),t.qZA(),t._UZ(103,"hr"),t.TgZ(104,"div",69)(105,"div")(106,"label",70),t._uU(107,"Status"),t.qZA(),t.TgZ(108,"select",71)(109,"option",72),t._uU(110,"Select status"),t.qZA(),t.YNc(111,ni,2,2,"option",73),t.qZA()()(),t.TgZ(112,"div",74)(113,"button",75),t._uU(114,"Cancel"),t.qZA(),t.YNc(115,oi,2,1,"button",76),t.qZA()()()()(),t.TgZ(116,"div",77)(117,"div",63)(118,"div",64)(119,"form",65),t.NdJ("ngSubmit",function(){return i.ticketAssignFormSubmit()}),t.TgZ(120,"div",66)(121,"h4",67),t._uU(122,"Assign To"),t.qZA(),t._UZ(123,"button",68),t.qZA(),t._UZ(124,"hr"),t.TgZ(125,"div",69)(126,"div")(127,"label",70),t._uU(128,"Users"),t.qZA(),t.TgZ(129,"select",78)(130,"option",72),t._uU(131,"Select User"),t.qZA(),t.YNc(132,ai,2,4,"option",73),t._uU(133,"> "),t.qZA()()(),t.TgZ(134,"div",74)(135,"button",75),t._uU(136,"Cancel"),t.qZA(),t.YNc(137,si,2,1,"button",76),t.qZA()()()()(),t.TgZ(138,"div",79)(139,"div",53)(140,"h1",54),t._uU(141,"Action"),t.qZA(),t._UZ(142,"button",56),t.qZA(),t._UZ(143,"hr"),t.TgZ(144,"div",57)(145,"div")(146,"label"),t._uU(147,"Update Ticket"),t.qZA(),t.TgZ(148,"div",80)(149,"div",81)(150,"div")(151,"span"),t._uU(152," Change Status: "),t.qZA(),t.TgZ(153,"span",82),t._UZ(154,"i",83),t.qZA()(),t.TgZ(155,"div")(156,"span"),t._uU(157," Assign To: "),t.qZA(),t.TgZ(158,"span",84),t._UZ(159,"i",83),t.qZA()()()()(),t._UZ(160,"br"),t.TgZ(161,"form")(162,"div",24)(163,"label",85),t._uU(164,"Tag"),t.qZA(),t.TgZ(165,"div",86)(166,"mat-form-field",87)(167,"mat-chip-grid",88,89),t.YNc(169,li,5,1,"mat-chip",90),t.TgZ(170,"input",91,92),t.NdJ("matChipInputTokenEnd",function(l){return i.addKeys(l)}),t.qZA()(),t.TgZ(172,"mat-autocomplete",93,94),t.NdJ("optionSelected",function(l){return i.selectedKeys(l)}),t.YNc(174,ri,8,5,"mat-option",73),t.qZA()(),t._UZ(175,"div"),t.qZA()(),t.TgZ(176,"div",95)(177,"label",85),t._uU(178,"Tagged People"),t.qZA(),t.TgZ(179,"ul"),t.YNc(180,ci,8,4,"li",59),t.qZA()(),t.TgZ(181,"div",96)(182,"button",97),t._uU(183,"Cancel"),t.qZA(),t.YNc(184,di,2,0,"button",98),t.qZA()()()(),t.TgZ(185,"div",99)(186,"div",53)(187,"h1",54),t.YNc(188,ui,1,0,"i",100),t._uU(189," Knowledgebase "),t.qZA(),t.TgZ(190,"div",55),t.YNc(191,fi,1,0,"i",101),t.YNc(192,hi,1,0,"i",102),t.TgZ(193,"button",103),t.NdJ("click",function(){return i.articleAnswerView=!1}),t.qZA()()(),t._UZ(194,"hr"),t.TgZ(195,"div",57),t.YNc(196,vi,10,10,"div",50),t.YNc(197,bi,6,2,"div",50),t.qZA()(),t.TgZ(198,"div",104)(199,"div",53)(200,"h1",54),t._uU(201,"View Ticket"),t.qZA(),t._UZ(202,"button",56),t.qZA(),t._UZ(203,"hr"),t.TgZ(204,"div",105)(205,"div")(206,"div")(207,"p"),t._uU(208,"Created By"),t.qZA()(),t.TgZ(209,"div",106)(210,"span"),t._uU(211),t.qZA(),t._UZ(212,"br"),t.TgZ(213,"span"),t._uU(214),t.qZA()()(),t.TgZ(215,"div")(216,"div")(217,"p"),t._uU(218,"Created"),t.qZA()(),t.TgZ(219,"div")(220,"span"),t._uU(221),t.qZA()()(),t.TgZ(222,"div")(223,"div")(224,"p"),t._uU(225,"Modified"),t.qZA()(),t.TgZ(226,"div")(227,"span"),t._uU(228),t.qZA()()(),t.TgZ(229,"div")(230,"div")(231,"p"),t._uU(232,"Assigned To"),t.qZA()(),t.TgZ(233,"div",106)(234,"span"),t._uU(235),t.qZA(),t._UZ(236,"br"),t.TgZ(237,"span"),t._uU(238),t.qZA()()(),t.TgZ(239,"div")(240,"div")(241,"p"),t._uU(242,"Category"),t.qZA()(),t.TgZ(243,"div")(244,"span"),t._uU(245),t.qZA()()(),t.TgZ(246,"div")(247,"div")(248,"p"),t._uU(249,"Subject"),t.qZA()(),t.TgZ(250,"div")(251,"span"),t._uU(252),t.qZA()()(),t.TgZ(253,"div")(254,"div")(255,"p"),t._uU(256,"Status"),t.qZA()(),t.TgZ(257,"div")(258,"span"),t._uU(259),t.qZA()()(),t.TgZ(260,"div")(261,"div")(262,"p"),t._uU(263,"Description"),t.qZA()(),t.TgZ(264,"div")(265,"span"),t._uU(266),t.qZA()()()()(),t.TgZ(267,"div",107)(268,"div",53)(269,"h1",54),t._uU(270,"Vehicle Detail"),t.qZA(),t._UZ(271,"button",56),t.qZA(),t._UZ(272,"hr"),t.TgZ(273,"div",105),t.YNc(274,Ci,8,1,"div",50),t.YNc(275,Ti,8,2,"div",50),t.YNc(276,Zi,7,1,"div",50),t.TgZ(277,"div")(278,"div")(279,"p"),t._uU(280,"Vehicle Type"),t.qZA()(),t.TgZ(281,"div")(282,"span"),t._uU(283),t.qZA()()(),t.TgZ(284,"div")(285,"div")(286,"p"),t._uU(287,"Vehicle Make"),t.qZA()(),t.TgZ(288,"div",106)(289,"span"),t._uU(290),t.qZA(),t._UZ(291,"br"),t.qZA()(),t.TgZ(292,"div")(293,"div")(294,"p"),t._uU(295,"Vehicle Model"),t.qZA()(),t.TgZ(296,"div")(297,"span"),t._uU(298),t.qZA()()(),t.TgZ(299,"div")(300,"div")(301,"p"),t._uU(302,"Vehicle Registration"),t.qZA()(),t.TgZ(303,"div")(304,"span"),t._uU(305),t.qZA()()(),t.TgZ(306,"div")(307,"div")(308,"p"),t._uU(309,"Vehicle Year"),t.qZA()(),t.TgZ(310,"div")(311,"span"),t._uU(312),t.qZA()()(),t.TgZ(313,"div")(314,"div")(315,"p"),t._uU(316,"Vehicle VIN"),t.qZA()(),t.TgZ(317,"div")(318,"span"),t._uU(319),t.qZA()()(),t.TgZ(320,"div")(321,"div")(322,"p"),t._uU(323,"File Type"),t.qZA()(),t.TgZ(324,"div")(325,"span"),t._uU(326),t.qZA()()(),t.TgZ(327,"div")(328,"div")(329,"p"),t._uU(330,"Engine Size"),t.qZA()(),t.TgZ(331,"div")(332,"span"),t._uU(333),t.qZA()()(),t.TgZ(334,"div")(335,"div")(336,"p"),t._uU(337,"Transmission"),t.qZA()(),t.TgZ(338,"div")(339,"span"),t._uU(340),t.qZA()()(),t.TgZ(341,"div")(342,"div")(343,"p"),t._uU(344,"Fuel Type"),t.qZA()(),t.TgZ(345,"div")(346,"span"),t._uU(347),t.qZA()()(),t.TgZ(348,"div")(349,"div")(350,"p"),t._uU(351,"Mileage Type"),t.qZA()(),t.TgZ(352,"div")(353,"span"),t._uU(354),t.qZA()()(),t.TgZ(355,"div")(356,"div")(357,"p"),t._uU(358,"Mileage"),t.qZA()(),t.TgZ(359,"div")(360,"span"),t._uU(361),t.qZA()()(),t.TgZ(362,"div")(363,"div")(364,"p"),t._uU(365,"ECU Brand"),t.qZA()(),t.TgZ(366,"div")(367,"span"),t._uU(368),t.qZA()()(),t.TgZ(369,"div")(370,"div")(371,"p"),t._uU(372,"ECU Version"),t.qZA()(),t.TgZ(373,"div")(374,"span"),t._uU(375),t.qZA()()(),t.TgZ(376,"div")(377,"div")(378,"p"),t._uU(379,"Control Unit"),t.qZA()(),t.TgZ(380,"div")(381,"span"),t._uU(382),t.qZA()()(),t.TgZ(383,"div")(384,"div")(385,"p"),t._uU(386,"Country"),t.qZA()(),t.TgZ(387,"div")(388,"span"),t._uU(389),t.qZA()()(),t.TgZ(390,"div")(391,"div")(392,"p"),t._uU(393,"Tuning Tool Used"),t.qZA()(),t.TgZ(394,"div")(395,"span"),t._uU(396),t.qZA()()(),t.TgZ(397,"div")(398,"div")(399,"p"),t._uU(400,"Tuning Required"),t.qZA()(),t.TgZ(401,"div")(402,"span"),t._uU(403),t.qZA()()(),t.TgZ(404,"div")(405,"div")(406,"p"),t._uU(407,"Credit"),t.qZA()(),t.TgZ(408,"div")(409,"span"),t._uU(410),t.qZA()()(),t.TgZ(411,"div")(412,"div")(413,"p"),t._uU(414,"Additional Function"),t.qZA()(),t.TgZ(415,"div")(416,"span"),t._uU(417),t.qZA()()(),t.TgZ(418,"div")(419,"div")(420,"p"),t._uU(421,"Additional Info."),t.qZA()(),t.TgZ(422,"div")(423,"span"),t._uU(424),t.qZA()()(),t.TgZ(425,"div")(426,"div")(427,"p"),t._uU(428,"Other Fields"),t.qZA()(),t.TgZ(429,"div")(430,"span"),t._uU(431),t.ALo(432,"titlecase"),t.qZA()()()()(),t.TgZ(433,"div",108)(434,"div",53)(435,"h1",54),t._uU(436,"Active User"),t.qZA(),t._UZ(437,"button",56),t.qZA(),t._UZ(438,"hr"),t.TgZ(439,"div",109),t.YNc(440,ki,8,4,"div",110),t.qZA()(),t.TgZ(441,"div",111)(442,"div",63)(443,"div",64)(444,"form",65),t.NdJ("ngSubmit",function(){return i.frTicketstatusFormSubmit()}),t.TgZ(445,"div",112)(446,"h4",67),t._uU(447,"Update FR Status"),t.qZA(),t._UZ(448,"button",113),t.qZA(),t._UZ(449,"hr"),t.TgZ(450,"div",69)(451,"div")(452,"label",70),t._uU(453,"Status"),t.qZA(),t.TgZ(454,"select",71)(455,"option",114),t._uU(456,"Select status"),t.qZA(),t.TgZ(457,"option",115),t._uU(458,"Open"),t.qZA(),t.TgZ(459,"option",116),t._uU(460,"Closed"),t.qZA(),t.TgZ(461,"option",117),t._uU(462,"Manual handle"),t.qZA()()()(),t.TgZ(463,"div",74)(464,"button",118),t._uU(465,"Cancel"),t.qZA(),t.YNc(466,xi,2,1,"button",119),t.qZA()()()()(),t.TgZ(467,"div",120)(468,"div",121)(469,"div",122)(470,"div",64)(471,"div",123)(472,"h4",67),t._uU(473,"Download files"),t.qZA(),t._UZ(474,"button",124),t.qZA(),t.TgZ(475,"div",69)(476,"div",58),t.YNc(477,yi,11,0,"div",125),t.YNc(478,qi,11,1,"table",50),t.qZA()()()()()(),t.TgZ(479,"div",126)(480,"div",63)(481,"div",64)(482,"form")(483,"div",66)(484,"h4",67),t._uU(485,"Share Template"),t.qZA(),t._UZ(486,"button",68),t.qZA(),t.TgZ(487,"div",69)(488,"form",127)(489,"div",128)(490,"div",3)(491,"div")(492,"label",129),t._uU(493,"Subject"),t.qZA(),t._UZ(494,"input",130),t.qZA(),t.TgZ(495,"div")(496,"label",129),t._uU(497,"Catgeory"),t.qZA(),t.TgZ(498,"select",131)(499,"option",132),t._uU(500," Select Catgeory"),t.qZA(),t.YNc(501,Ai,2,2,"option",73),t.qZA()(),t.TgZ(502,"div")(503,"label",129),t._uU(504,"Personalize"),t.qZA(),t.TgZ(505,"select",133),t.YNc(506,Mi,2,2,"option",73),t.qZA()()()(),t._UZ(507,"ckeditor",134,135),t.qZA()(),t.TgZ(509,"div",74)(510,"button",136),t.NdJ("click",function(){return i.setTemplateInSendMsgBox(i.currentTemplate)}),t._uU(511,"Share"),t.qZA()()()()()(),t.YNc(512,zi,6,2,"ng-template",null,137,t.W1O),t.TgZ(514,"div",138)(515,"div",121)(516,"div",63)(517,"div",139)(518,"div",66)(519,"h4",67),t._uU(520,"Delete Attachment"),t.qZA(),t._UZ(521,"button",124),t.qZA(),t.TgZ(522,"div",69)(523,"div")(524,"div")(525,"p"),t._uU(526,"Are you sure, you want to delete the attachment?"),t.qZA()()()(),t.TgZ(527,"div",74)(528,"div",140)(529,"button",141),t._uU(530,"Cancel"),t.qZA(),t.TgZ(531,"button",142),t.NdJ("click",function(){return i.deleteAttachment()}),t._uU(532,"Confirm"),t.qZA()()()()()()()),2&o){const a=t.MAs(168),l=t.MAs(173),d=t.MAs(513);t.xp6(4),t.hij("Ticket ID: ",i.ticketId," "),t.xp6(4),t.Q6J("ngIf",null==i.ticketDetail?null:i.ticketDetail.request_id),t.xp6(5),t.Q6J("ngIf",(null==i.ticketDetail?null:i.ticketDetail.request_id)&&"Full access"==(null==i.permissions?null:i.permissions.ticket)),t.xp6(9),t.Q6J("ngClass",1==i.isexpandedMsgWindow?"large":"small"),t.xp6(6),t.ekj("badge",!i.isActiveUsersVisible&&i.activeUsersCount),t.uIk("data-count",i.activeUsersCount),t.xp6(10),t.ekj("active",i.isActiveUsersVisible),t.xp6(2),t.Q6J("ngTemplateOutlet",d),t.xp6(1),t.Q6J("ngClass","conversion"==i.tab?"activeTab":""),t.xp6(1),t.Q6J("src","conversion"==i.tab?"assets/images/icon/conversationwhite.svg":"assets/images/icon/conversationBase.svg",t.LSH),t.xp6(3),t.Q6J("ngClass","information"==i.tab?"activeTab":""),t.xp6(4),t.Q6J("ngIf",null==i.ticketDetail?null:i.ticketDetail.file_request),t.xp6(1),t.Q6J("ngClass","attachment"==i.tab?"activeTab":""),t.xp6(1),t.Q6J("src","attachment"==i.tab?"assets/images/icon/Attachmentwhite.svg":"assets/images/icon/attachment.png",t.LSH),t.xp6(3),t.Q6J("ngClass","history"==i.tab?"activeTab":""),t.xp6(1),t.Q6J("src","history"==i.tab?"assets/images/icon/Historywhite.svg":"assets/images/icon/clock.png",t.LSH),t.xp6(3),t.Q6J("ngClass","kbase"==i.tab?"activeTab":""),t.xp6(1),t.Q6J("src","kbase"==i.tab?"assets/images/icon/Knowledgewhite.svg":"assets/images/icon/knowledgeBase.svg",t.LSH),t.xp6(3),t.Q6J("ngClass","notes"==i.tab?"activeTab":""),t.xp6(4),t.Q6J("ngClass",1==i.isexpandedMsgWindow?"small":"large"),t.xp6(1),t.Q6J("ngIf","conversion"==i.tab),t.xp6(1),t.Q6J("ngIf","information"==i.tab),t.xp6(1),t.Q6J("ngIf","files"==i.tab&&(null==i.ticketDetail?null:i.ticketDetail.file_request)),t.xp6(1),t.Q6J("ngIf","attachment"==i.tab),t.xp6(1),t.Q6J("ngIf","history"==i.tab),t.xp6(1),t.Q6J("ngIf","kbase"==i.tab),t.xp6(1),t.Q6J("ngIf","notes"==i.tab),t.xp6(18),t.Q6J("ngForOf",t.xi3(92,99,i.templates,t.kEZ(104,O,i.temCanSize,i.temCanpage,i.totalTemplate))),t.xp6(2),t.Q6J("ngIf",i.showError),t.xp6(1),t.Q6J("ngIf",0!=i.templates.length),t.xp6(4),t.Q6J("formGroup",i.ticketstatusForm),t.xp6(13),t.Q6J("ngForOf",i.ticketstatus),t.xp6(4),t.Q6J("ngIf","Full access"==i.permissions.user_management),t.xp6(4),t.Q6J("formGroup",i.ticketAssignForm),t.xp6(13),t.Q6J("ngForOf",i.roleUserList),t.xp6(5),t.Q6J("ngIf","Full access"==i.permissions.user_management),t.xp6(32),t.Q6J("ngForOf",i.selectedIndustry),t.xp6(1),t.Q6J("formControl",i.industryCtrl)("matAutocomplete",l)("matChipInputFor",a)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),t.xp6(4),t.Q6J("ngForOf",i.industryList),t.xp6(6),t.Q6J("ngForOf",null==i.ticketDetail?null:i.ticketDetail.tags),t.xp6(4),t.Q6J("ngIf","Full access"==i.permissions.user_management),t.xp6(4),t.Q6J("ngIf",i.articleAnswerView),t.xp6(3),t.Q6J("ngIf",i.articleAnswerView&&"Full access"==i.permissions.user_management),t.xp6(1),t.Q6J("ngIf",i.articleAnswerView&&"Full access"==i.permissions.user_management),t.xp6(4),t.Q6J("ngIf",!i.articleAnswerView),t.xp6(1),t.Q6J("ngIf",i.articleAnswerView),t.xp6(14),t.AsE(" ",null==i.ticketDetail||null==i.ticketDetail.created_by?null:i.ticketDetail.created_by.first_name," ",null==i.ticketDetail||null==i.ticketDetail.created_by?null:i.ticketDetail.created_by.last_name," "),t.xp6(3),t.Oqu(null==i.ticketDetail||null==i.ticketDetail.created_by?null:i.ticketDetail.created_by.email),t.xp6(7),t.Oqu(i.notification.formatDate(null==i.ticketDetail?null:i.ticketDetail.created_at)),t.xp6(7),t.Oqu(i.notification.formatDate(null==i.ticketDetail?null:i.ticketDetail.updated_at)),t.xp6(7),t.AsE(" ",null==i.ticketDetail||null==i.ticketDetail.assigned_to?null:i.ticketDetail.assigned_to.first_name," ",null==i.ticketDetail||null==i.ticketDetail.assigned_to?null:i.ticketDetail.assigned_to.last_name," "),t.xp6(3),t.Oqu(null==i.ticketDetail||null==i.ticketDetail.assigned_to?null:i.ticketDetail.assigned_to.email),t.xp6(7),t.Oqu(null==i.ticketDetail?null:i.ticketDetail.category),t.xp6(7),t.Oqu(null==i.ticketDetail?null:i.ticketDetail.subject),t.xp6(7),t.Oqu((null==i.ticketDetail||null==i.ticketDetail.ticket_status?null:i.ticketDetail.ticket_status.team_status)||"New"),t.xp6(7),t.Oqu(null==i.ticketDetail?null:i.ticketDetail.description),t.xp6(8),t.Q6J("ngIf",!i.isStandaloneTicket),t.xp6(1),t.Q6J("ngIf",!i.isStandaloneTicket),t.xp6(1),t.Q6J("ngIf",!i.isStandaloneTicket),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_type)||"NA"),t.xp6(7),t.hij(" ",(null==i.vehDetail?null:i.vehDetail.vehicle_make)||"NA",""),t.xp6(8),t.Oqu((null==i.vehDetail?null:i.vehDetail.model)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_registration)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_year)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.vehicle_VIN)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.file_type)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.engine_size)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.transmission)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.fuel_type)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.mileage_type)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.mileage)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.ecu_brand)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.ecu_version)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.control_unit)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.country)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.tuning_tool_used)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.tuning_required)||"NA"),t.xp6(7),t.AsE(" ",null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit," ",1==(null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit_type)?"File Key":2==(null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit_type)?"EVC":3==(null==i.vehDetail||null==i.vehDetail.credit_spent?null:i.vehDetail.credit_spent.credit_type)?"Function Key":"0",""),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.additional_function)||"NA"),t.xp6(7),t.Oqu((null==i.vehDetail?null:i.vehDetail.additional_info)||"NA"),t.xp6(7),t.Oqu(t.lcZ(432,102,null==i.vehDetail?null:i.vehDetail.other_fields)||"NA"),t.xp6(9),t.Q6J("ngForOf",i.activeUserList),t.xp6(4),t.Q6J("formGroup",i.frTicketstatusForm),t.xp6(22),t.Q6J("ngIf","Full access"==i.permissions.user_management),t.xp6(11),t.Q6J("ngIf",i.isDirectoryLoading),t.xp6(1),t.Q6J("ngIf",!i.isDirectoryLoading),t.xp6(10),t.Q6J("formGroup",i.templateForm),t.xp6(13),t.Q6J("ngForOf",i.categoryList),t.xp6(5),t.Q6J("ngForOf",i.personalizeList),t.xp6(1),t.Q6J("readOnly",!0)("disabled",!0)}},dependencies:[p.mk,p.sg,p.O5,p.tP,p.PC,Q.Ry,g.rH,g.Od,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.On,r.F,r.oH,r.sg,r.u,y.HS,y.RA,y.oH,y.qH,Y.KE,j.Hw,P.XC,Ht.ey,P.ZL,x.LS,$.u,p.rS,x._s,Gt.p],styles:['.u-add{display:flex;justify-content:space-between;margin-bottom:var(--font-size-16)}.u-add h2{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);color:#0e1321}.u-add .u-add-right{display:flex;gap:var(--font-size-24);align-items:center}.u-add .u-add-right>div{cursor:pointer}.u-add .u-add-right>div .fa{font-size:var(--font-size-16)}.u-add .u-add-right>div img{width:var(--font-size-15);height:var(--font-size-15)}.u-add .u-add-right>div i{border:1px solid blue;color:#00f;padding:var(--font-size-5)}.u-add>div button{font-family:roboto600;font-size:var(--font-size-15);line-height:var(--font-size-18);color:#394a9c;background:#fff;border:none;padding:0}.u-add>div img{width:var(--font-size-30);height:var(--font-size-30)}.u-add>div:nth-child(3) a img{width:var(--font-size-30);height:var(--font-size-30)}.u-add input,.u-add select,.u-add a{padding:var(--font-size-12);font-family:verdana;font-size:var(--font-size-12);line-height:var(--font-size-15);color:#6d7886;border:.7px solid #becad9;border-radius:4px;outline:none}.u-add a{border:none;background:#394a9c;border-radius:var(--font-size-5);font-family:verdana;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#fff;text-decoration:none}.u-add select{background-color:#fff}.ulist-div{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);width:100%;padding:var(--font-size-24) var(--font-size-20)}.tleft{transition:all .35s linear}.tleft .faDiv{display:flex;justify-content:flex-end}.tleft .faDiv .fa{position:absolute;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:var(--font-size-12);color:#ebebf5;width:var(--font-size-24);height:var(--font-size-24);background:#431f9f;border-radius:var(--font-size-5);transform:translate(20%,-20%)}.tleft .tabList{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:1rem}.tleft .tabList ul{padding-left:0;list-style-type:none}.tleft .tabList ul li{display:grid!important;grid-template-columns:auto 0px;align-items:center;justify-content:start;font-family:roboto;font-size:var(--font-size-14);color:#394a9c;padding:.8em 1.2em;margin-bottom:var(--font-size-15);background:#ebedf5;border-radius:var(--font-size-10);cursor:pointer;transition:grid-template-columns .3s cubic-bezier(.43,.01,.25,.98)}.tleft .tabList ul li img{object-fit:contain;width:var(--font-size-15);height:var(--font-size-15)}.tleft .tabList ul li span{opacity:0;visibility:hidden;white-space:nowrap;text-align:left;margin-inline-start:1.25rem;transition:opacity .2s .25s}.tleft .tabList ul li.activeTab{color:#ebedf5;background:#394a9c}.tleft.large .tabList ul li{grid-template-columns:auto 20ch}.tleft.large .tabList ul li img,.tleft.large .tabList ul li i{width:var(--font-size-15);height:var(--font-size-15)}.tleft.large .tabList ul li span{visibility:visible;opacity:1}.tabStatus{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);text-align:left;padding:var(--font-size-20);margin-top:var(--font-size-20)}.tabStatus>div:nth-child(1) p{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-20);color:#3f424b}.tabStatus>div:nth-child(1) p span{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16);color:#219653;background:rgba(33,150,83,.1);border:.5px solid rgba(190,202,217,.2);border-radius:var(--font-size-20);padding:var(--font-size-5) var(--font-size-12);margin-left:var(--font-size-12);cursor:pointer}.tabStatus>div:nth-child(2) div{display:flex;gap:var(--font-size-12)}.tabStatus>div:nth-child(2) div span{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-16)}.tabStatus>div:nth-child(2) div p{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-20);color:#3f424b;display:flex;flex-direction:column}.tabStatus>div:nth-child(2) div p span{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16)}.tright{flex-grow:1;border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:var(--font-size-40);padding-top:var(--font-size-10)}.tright.large{margin-bottom:10px;padding:var(--font-size-20)}.tright.small{padding:var(--font-size-20)}.tholder{display:flex;gap:var(--font-size-10)}.c_part{display:flex;flex-direction:column;justify-content:flex-end}.leftChatBox{word-wrap:break-word;margin-left:3.6rem;background:#ccf7c4;padding:var(--font-size-15) var(--font-size-15);border-radius:var(--font-size-5)}.rightChatBox{word-wrap:break-word;margin-inline:auto 3rem;padding:var(--font-size-15) var(--font-size-15);background:#cdf2fb;border-radius:var(--font-size-5)}.docView{background:#f2f2f2;border-radius:var(--font-size-5);padding:var(--font-size-15);width:85%}.docView .docViewInner{padding:var(--font-size-15);display:flex;align-items:center;border-radius:var(--font-size-5);background:#ffffff;justify-content:space-between}.docView .docViewInner div{display:flex;align-items:center}.docView .docViewInner div span{margin-left:var(--font-size-18);font-family:verdana;font-size:var(--font-size-12);color:#000}.conversion-inner{margin-bottom:1.5rem}.conversion-inner .lpart .nameDesc-inner_left{display:flex;align-items:center}.conversion-inner .lpart .nameDesc-inner_right{display:flex;align-items:center;justify-content:end;flex-direction:row-reverse;gap:var(--font-size-20)}.conversion-inner .lpart .nameDesc-inner_right img{margin-right:0!important}.conversion-inner .lpart img{outline:1px solid #ebedf5;width:var(--font-size-40);height:var(--font-size-40);border-radius:50%;margin-right:1.3rem;object-fit:cover}.conversion-inner .lpart .nameDesc{text-align:left}.conversion-inner .text{text-align:left;width:-moz-fit-content;width:fit-content}.conversion-inner .text .imgF{max-width:100%;height:var(--font-size-50);border-radius:var(--font-size-5);margin-top:var(--font-size-5);object-fit:cover}.conversion-inner .text .imgD{max-width:100%;height:var(--font-size-50);object-fit:cover}.conversion-inner span{font-family:roboto600;line-height:var(--font-size-20);color:#3f424b;font-size:var(--font-size-16)}.conversion-inner p{font-family:roboto;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#6f7784}.textarea .uploadFileView{position:relative;width:100%}.textarea .uploadFileView div{width:50%;float:right;margin-right:var(--font-size-90);position:relative}.textarea .uploadFileView .fileCross{position:absolute;right:var(--font-size-5);top:var(--font-size-5)}.textarea .uploadFileView .docCross{position:absolute;right:var(--padding-104);top:0}.textarea .uploadFileView .fileimg{max-width:100%;width:100%;object-fit:cover;height:var(--width-150)}.textarea .uploadFileView .docIcon{max-width:100%;width:20%;object-fit:cover;height:var(--font-size-80)}.textarea textarea{font-family:Roboto;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#6f7784;padding:var(--font-size-10);height:150px}.textarea button{font-size:var(--font-size-16);padding:var(--font-size-8) var(--font-size-12);border-radius:var(--font-size-5)}.h128{height:var(--width-150)}.btnGroup{display:flex;justify-content:flex-end;gap:var(--font-size-28);margin-top:var(--font-size-10);align-items:center}.btnGroup>* img{width:var(--font-size-30);max-width:100%}.btnGroup>:nth-child(3){width:auto}.btnGroup>:nth-child(3) img{margin-left:var(--font-size-15);width:var(--font-size-15)}.btnGroup .fileupload{width:var(--font-size-30);height:var(--font-size-30);position:relative}.btnGroup .fileupload input{opacity:0;z-index:9999}.btnGroup .fileupload img{position:absolute;top:var(--font-size-5);left:0;width:var(--font-size-20);z-index:0}.btnGroup .fileupload>*{width:100%;max-width:100%;position:absolute;inset:0;cursor:pointer}.activeTab{background-color:#394a9c;color:#fff}.btn-primary{background-color:#394a9c;border:1px solid #394a9c}.chatWindow{scroll-behavior:smooth;height:500px;padding-right:var(--font-size-20);overflow-y:auto}.addFile{display:flex;gap:var(--font-size-40);border-bottom:1px solid #ebebed;padding:var(--font-size-12) 0px;align-items:center}.addFile .form-control{padding:0px var(--font-size-12)!important;font-size:var(--font-size-14);height:var(--font-size-50)!important}.addFile input[type=file]{height:var(--font-size-50)!important}.addFile input[type=file]::-webkit-file-upload-button{height:var(--font-size-50)!important}.addFile button{padding:var(--font-size-8) var(--font-size-14);font-size:var(--font-size-14)}.addFile p{margin-bottom:0}.addFile img{width:var(--font-size-48);height:var(--font-size-48);object-fit:cover;cursor:pointer}.addFile form{width:100%;display:flex;flex-wrap:wrap}.addFile form>div{width:100%;justify-content:space-between}.addFile form>div>div{display:flex;justify-content:space-between}.addFile form label{font-weight:600;margin-bottom:var(--font-size-10);font-size:var(--font-size-14);text-align:left}.addFile .imgthumb{position:relative}.addFile .imgdata{text-align:left}.addFile .imgdata p{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#394a9c}.addFile .imgdata span{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16);color:#6f7784}.addList{display:flex;border-bottom:1px solid #ebebed;padding:var(--font-size-12) 0px;align-items:center;justify-content:space-between}.addList p{margin-bottom:0}.addList img{width:var(--font-size-56);height:var(--font-size-56);object-fit:cover}.addList .imgdata{text-align:left}.addList .imgdata p{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#394a9c}.addList .imgdata span{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16);color:#6f7784}.addList .lcontent{display:flex;gap:var(--font-size-40)}.addList .dimg{width:var(--font-size-24);height:var(--font-size-20)}*{scrollbar-width:auto;scrollbar-color:#002060 #ffffff}*::-webkit-scrollbar{width:0px}*::-webkit-scrollbar-track{background:#ffffff}*::-webkit-scrollbar-thumb{background-color:#fff;border-radius:var(--font-size-10);border:1px solid #ffffff}.history{display:flex;text-align:left}.history>div:nth-child(1){width:20%}.history>div:nth-child(2){width:60%}.history span{font-family:roboto600;font-size:var(--font-size-14);line-height:150%;color:#6f7784}.history p{font-family:roboto600;font-size:var(--font-size-18);line-height:var(--font-size-20);color:#0e1321;margin-bottom:0}.history .ticket-updated{margin-top:var(--font-size-28)}.input-text{display:flex;justify-content:flex-end;margin-bottom:var(--font-size-20)}.input-text div{width:50%;position:relative}.input-text div input{font-size:var(--font-size-16);padding:var(--font-size-10)}.input-text div button{width:var(--font-size-18);height:var(--font-size-18);object-fit:cover;position:absolute;right:var(--font-size-10);top:var(--font-size-15);border:none;background-color:transparent}.input-text div button img{width:80%;height:80%;object-fit:cover;position:absolute;top:0;right:var(--font-size-5)}.kbase{height:var(--width-450);overflow:scroll}.kbase .kbase-inner{text-align:left}.kbase .kbase-inner p{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-24);text-transform:capitalize;color:#474554;margin-bottom:var(--font-size-24)}.kbase .kbase-inner span{font-family:roboto;font-size:var(--font-size-16);line-height:var(--font-size-24);color:#6f7784}.kbuttons{display:flex;align-items:center;justify-content:center;gap:var(--font-size-24)}.kbuttons button{font-family:roboto600;background:#ffffff;border:1px solid rgba(0,32,96,.2);font-size:var(--font-size-16);line-height:var(--font-size-24);text-transform:capitalize;color:#474554;margin-top:var(--font-size-15);padding:var(--font-size-10)}.kbuttons button img{width:var(--font-size-14);height:var(--font-size-14);object-fit:cover;margin-right:var(--font-size-10)}.sideBarButton{display:flex;justify-content:flex-end;gap:var(--font-size-20);align-items:center}.sideBarButton i{font-size:var(--font-size-22)}.offcanvas-title i{cursor:pointer;margin-right:var(--font-size-10)}.modal-body>div{margin-bottom:var(--font-size-10)}.modal-body label{font-size:var(--font-size-16);display:block;text-align:left}.modal-body select,.modal-footer button{font-size:var(--font-size-16)}.modal-footer .cancel{font-family:verdana-bold;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);border:1px solid #e3e3e3!important;background:#fff;border-radius:var(--font-size-5);color:#474554;margin-right:var(--font-size-20)}.modal-footer .assign{font-family:verdana-bold;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);background:#394a9c;border-radius:var(--font-size-5);color:#fff;border:none}.addfile-inner{height:var(--width-300);padding-right:var(--font-size-20);overflow-y:auto}.ticket-status{padding:var(--font-size-5) var(--font-size-10);border-radius:var(--font-size-90);color:#394a9c;font-family:verdana-bold;font-size:var(--font-size-16);background-color:#f2f2f2;border:1px solid #f2f2f2}.change-status{background-color:#394a9c!important;border:1px solid #394a9c!important;color:#fff!important;border-radius:var(--font-size-5)!important}.update-ticket{font-family:verdana-bold;font-size:var(--font-size-20);line-height:var(--font-size-30);color:#0e1321;margin-bottom:0;text-align:center}.fa-edit{cursor:pointer;font-size:var(--font-size-16)}.tabStatus .edit{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #6d7886;border-radius:var(--font-size-5);display:flex;align-items:center;justify-content:center;text-decoration:none}.tabStatus>div.fdiv>div{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--font-size-12)}.tabStatus>div.fdiv>div span{font-size:var(--font-size-16)}.tabStatus>div.sdiv{display:flex;justify-content:space-between;align-items:space-between;flex-wrap:wrap}.tabStatus>div.sdiv .bold{font-family:verdana-bold}.tabStatus>div.sdiv>div{font-size:var(--font-size-16)}.tabStatus>div.sdiv>span{font-size:var(--font-size-16);display:flex;width:100%;justify-content:flex-start}s #KB.offcanvas.show span,s #KB.offcanvas.show div{font-size:var(--font-size-16)}.offcanvas.show,.offcanvas.showing{background:#fff;min-width:var(--width-400);padding:var(--font-size-30) 0px}.offcanvas.show hr,.offcanvas.showing hr{margin:var(--font-size-15)}.offcanvas.show h1,.offcanvas.showing h1{font-family:roboto600;font-size:var(--font-size-24);line-height:var(--font-size-26);letter-spacing:-.02em;color:#474554}.offcanvas.show .offcanvas-header .btn-close,.offcanvas.showing .offcanvas-header .btn-close{width:var(--font-size-10);height:var(--font-size-10);font-size:var(--font-size-10)}.offcanvas.show .offcanvas-header,.offcanvas.show .offcanvas-body,.offcanvas.showing .offcanvas-header,.offcanvas.showing .offcanvas-body{padding:0px var(--font-size-30)!important}.offcanvas.show .offcanvas-header .cancel-apply,.offcanvas.show .offcanvas-body .cancel-apply,.offcanvas.showing .offcanvas-header .cancel-apply,.offcanvas.showing .offcanvas-body .cancel-apply{background:#ffffff;box-shadow:0 0 15px #00000040;border-radius:0 0 8px 8px;position:absolute;bottom:0;left:0;right:0;padding:var(--font-size-16);display:flex;align-items:center;text-align:center;justify-content:center;gap:var(--font-size-24)}.offcanvas.show .offcanvas-header .cancel-apply button:nth-child(1),.offcanvas.show .offcanvas-body .cancel-apply button:nth-child(1),.offcanvas.showing .offcanvas-header .cancel-apply button:nth-child(1),.offcanvas.showing .offcanvas-body .cancel-apply button:nth-child(1){font-size:var(--font-size-16);text-transform:capitalize;color:#474554;padding:var(--font-size-10) var(--font-size-40);border:1px solid #474554}.offcanvas.show .offcanvas-header .cancel-apply button:nth-child(2),.offcanvas.show .offcanvas-body .cancel-apply button:nth-child(2),.offcanvas.showing .offcanvas-header .cancel-apply button:nth-child(2),.offcanvas.showing .offcanvas-body .cancel-apply button:nth-child(2){color:#fff;background-color:#2b3ca3;font-size:var(--font-size-16);text-transform:capitalize;padding:var(--font-size-10) var(--font-size-40);border:1px solid #2b3ca3}.offcanvas.show .offcanvas-header .mdc-text-field--filled:not(.mdc-text-field--disabled),.offcanvas.show .offcanvas-body .mdc-text-field--filled:not(.mdc-text-field--disabled),.offcanvas.showing .offcanvas-header .mdc-text-field--filled:not(.mdc-text-field--disabled),.offcanvas.showing .offcanvas-body .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f2f2f2;padding:var(--font-size-12) 0px;border-radius:var(--font-size-10)}.offcanvas.show .offcanvas-header .LinkedInSearchMatChip .mat-mdc-form-field,.offcanvas.show .offcanvas-body .LinkedInSearchMatChip .mat-mdc-form-field,.offcanvas.showing .offcanvas-header .LinkedInSearchMatChip .mat-mdc-form-field,.offcanvas.showing .offcanvas-body .LinkedInSearchMatChip .mat-mdc-form-field{width:100%}.offcanvas.show .offcanvas-header .LinkedInSearchMatChip .mdc-evolution-chip-set,.offcanvas.show .offcanvas-body .LinkedInSearchMatChip .mdc-evolution-chip-set,.offcanvas.showing .offcanvas-header .LinkedInSearchMatChip .mdc-evolution-chip-set,.offcanvas.showing .offcanvas-body .LinkedInSearchMatChip .mdc-evolution-chip-set{overflow-y:scroll;height:var(--font-size-80);padding-left:var(--font-size-10);font-size:var(--font-size-16)}.offcanvas.show .offcanvas-header .LinkedInSearchMatChip .mat-mdc-option.mdc-list-item,.offcanvas.show .offcanvas-body .LinkedInSearchMatChip .mat-mdc-option.mdc-list-item,.offcanvas.showing .offcanvas-header .LinkedInSearchMatChip .mat-mdc-option.mdc-list-item,.offcanvas.showing .offcanvas-body .LinkedInSearchMatChip .mat-mdc-option.mdc-list-item{align-items:center}.offcanvas.show .offcanvas-header .LinkedInSearchMatChip .mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled),.offcanvas.show .offcanvas-body .LinkedInSearchMatChip .mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled),.offcanvas.showing .offcanvas-header .LinkedInSearchMatChip .mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled),.offcanvas.showing .offcanvas-body .LinkedInSearchMatChip .mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:#e0e0e0}.offcanvas.show .offcanvas-header .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay,.offcanvas.show .offcanvas-body .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay,.offcanvas.showing .offcanvas-header .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay,.offcanvas.showing .offcanvas-body .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay{inset:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity .15s linear}.offcanvas.show .offcanvas-header .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay,.offcanvas.show .offcanvas-body .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay,.offcanvas.showing .offcanvas-header .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay,.offcanvas.showing .offcanvas-body .LinkedInSearchMatChip .mat-mdc-chip-focus-overlay{background:#000}.offcanvas.show .offcanvas-header .taggedPeople ul,.offcanvas.show .offcanvas-body .taggedPeople ul,.offcanvas.showing .offcanvas-header .taggedPeople ul,.offcanvas.showing .offcanvas-body .taggedPeople ul{padding-left:0;list-style-type:none}.offcanvas.show .offcanvas-header .taggedPeople li,.offcanvas.show .offcanvas-body .taggedPeople li,.offcanvas.showing .offcanvas-header .taggedPeople li,.offcanvas.showing .offcanvas-body .taggedPeople li{margin-bottom:var(--font-size-10)}.offcanvas.show .offcanvas-header label,.offcanvas.show .offcanvas-body label,.offcanvas.showing .offcanvas-header label,.offcanvas.showing .offcanvas-body label{font-weight:500}.offcanvas.show>div label,.offcanvas.showing>div label{text-align:left;font-size:var(--font-size-16);line-height:var(--font-size-22);display:flex;align-items:center;text-transform:capitalize;color:#474554;margin-bottom:var(--font-size-16);font-family:roboto600}.offcanvas.show>div select,.offcanvas.showing>div select{background:#ffffff;border:1.5px solid #e3e3e3;border-radius:4px;margin-bottom:var(--font-size-16);font-size:var(--font-size-16);line-height:22px;color:#474554}.offcanvas-inner>div.active{display:flex;justify-content:space-between;padding:var(--font-size-12) var(--font-size-20);background:rgba(57,74,156,.1);border-radius:8px;align-items:center}.offcanvas-inner>div.active p,.offcanvas-inner>div.active span{font-family:roboto600;font-size:var(--font-size-14);color:#394a9c;margin-bottom:0}.offcanvas-inner>div{margin-bottom:var(--font-size-12);display:flex;justify-content:space-between;padding:var(--font-size-12) var(--font-size-20);background:#fff;border-radius:8px;align-items:center}.offcanvas-inner>div p,.offcanvas-inner>div span{font-family:roboto;font-size:var(--font-size-14);color:#394a9c;margin-bottom:0}.profile{display:flex;gap:var(--font-size-12);align-items:center}.profile>div{position:relative;text-align:left}.profile img:nth-child(1){width:var(--font-size-40);height:var(--font-size-40);object-fit:cover;border-radius:50%}.profile p{font-style:normal;font-weight:400;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#474554;margin-bottom:0}.profile span{font-style:normal;font-weight:400;font-size:var(--font-size-12);line-height:var(--font-size-17);color:#6d7886}::ng-deep .cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) .mdc-menu-surface.mat-mdc-autocomplete-panel{background:white;border:1px solid black;border-radius:10px;margin-top:var(--font-size-24);margin-left:var(--font-size-14)}.viewInfo{margin-top:var(--font-size-18)!important}.viewInfo div{text-align:left;display:flex;margin-bottom:var(--font-size-5);gap:var(--font-size-20)}.viewInfo div div:nth-child(1){width:50%}.viewInfo div div:nth-child(1) div:nth-child(1){width:23%}.viewInfo div div:nth-child(1) div:nth-child(2){width:77%}.viewInfo div div:nth-child(2){width:50%}.viewInfo div div:nth-child(2) div:nth-child(1){width:23%}.viewInfo div div:nth-child(2) div:nth-child(2){width:77%}.viewInfo div span{font-size:var(--font-size-14)}.viewInfo div p{margin-bottom:0;font-weight:600;font-size:var(--font-size-14)}.viewInfo .description div{width:100%!important}.viewInfo .description div div:nth-child(1){width:10%!important}.viewInfo .description div div:nth-child(2){width:89%!important}.viewInfo .description div div:nth-child(2) span{word-break:break-all}.viewTicket div{text-align:left;display:flex;margin-bottom:var(--font-size-5);gap:var(--font-size-10)}.viewTicket div div:nth-child(1){width:45%}.viewTicket div div:nth-child(2){width:55%}.viewTicket div span{font-size:var(--font-size-14);word-break:break-all}.viewTicket div p{margin-bottom:0;font-weight:600;font-size:var(--font-size-14)}.modalTabStatus{text-align:left}.modalTabStatus .fdiv{display:flex;gap:var(--font-size-56)}.modalTabStatus .fdiv span{font-size:var(--font-size-14)}.fileupload li{cursor:pointer}.fileupload li .fileUploadOption{position:relative}.fileupload li .fileUploadOption i{color:#000;margin-right:var(--font-size-10)}.fileupload li .fileUploadOption input{position:absolute;inset:0;opacity:0}.service-header{align-items:center}.service-header h2{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321}.file-services-inner{border:1px solid rgba(0,32,96,.2);border-radius:12px;padding:var(--font-size-24) var(--font-size-20);background-color:#fff}.timeline-holder{width:85%;margin:auto}.timeline-holder>.timeline-inner{height:var(--width-150);position:relative}.timeline-holder>.timeline-inner:after{content:"";background-color:#6f7784;width:2px;position:absolute;top:0;bottom:0;left:50%}.timeline-holder .timeline-even{width:50%;float:right;position:relative}.timeline-holder .timeline-even .timeline-inner{background-color:#dae7ff;position:absolute;padding:var(--font-size-24);width:100%;left:40px;border-radius:5px}.timeline-holder .timeline-even .timeline-inner span{font-family:roboto;font-size:var(--font-size-14);line-height:16px;display:flex;align-items:center;text-align:left;color:#3f424b}.timeline-holder .timeline-even .timeline-inner p{margin-bottom:0;font-family:roboto600;margin-top:var(--font-size-8);font-size:var(--font-size-14);line-height:23px;display:flex;align-items:center;text-align:left;color:#000}.timeline-holder .timeline-even .timeline-inner:after{content:"";width:0px;height:0px;border-right:32px solid #dae7ff;border-left:10px solid transparent;border-top:15px solid transparent;border-bottom:15px solid transparent;position:absolute;left:-40px;top:50%;transform:translateY(-50%)}.timeline-holder .timeline-even .timeline-inner:before{content:"";width:var(--font-size-10);height:var(--font-size-10);top:47%;position:absolute;background-color:#6f7784;left:-43px;border-radius:50%}.timeline-holder .timeline-odd{width:50%;float:left;position:relative}.timeline-holder .timeline-odd .timeline-inner{background-color:#dae7ff;position:absolute;padding:var(--font-size-24);width:100%;right:40px;border-radius:5px}.timeline-holder .timeline-odd .timeline-inner span{font-family:roboto;font-size:var(--font-size-14);line-height:16px;display:flex;align-items:center;text-align:left;color:#3f424b}.timeline-holder .timeline-odd .timeline-inner p{margin-bottom:0;font-family:roboto600;margin-top:var(--font-size-8);font-size:var(--font-size-14);line-height:23px;display:flex;align-items:center;text-align:left;color:#000}.timeline-holder .timeline-odd .timeline-inner:after{content:"";width:0px;height:0px;border-right:15px solid transparent;border-left:32px solid #dae7ff;border-top:15px solid transparent;border-bottom:15px solid transparent;position:absolute;right:-40px;top:50%;transform:translateY(-50%)}.timeline-holder .timeline-odd .timeline-inner:before{content:"";width:var(--font-size-10);height:var(--font-size-10);top:47%;position:absolute;background-color:#6f7784;right:-46px;border-radius:50%}.notebox textarea{width:100%;border:1px solid rgba(0,0,0,.2196078431);min-height:var(--font-size-90);border-radius:var(--font-size-5);padding-left:var(--font-size-10);padding-top:var(--font-size-5);font-size:var(--font-size-12)}.notebox .note{text-align:right;margin-top:var(--font-size-10)}.notebox .note button{padding:var(--font-size-10) var(--font-size-15);font-size:var(--font-size-12);border-radius:var(--font-size-4)}.notebox .noteList{overflow-y:scroll;height:300px}.notebox .noteList>div>div{display:flex;align-items:flex-start;gap:var(--font-size-20);padding:var(--font-size-20);margin-top:var(--font-size-20);box-shadow:#64646f33 0 7px 29px;border-radius:var(--font-size-10)}.notebox .noteList>div>div img{width:var(--font-size-50);height:var(--font-size-50);border-radius:50%}.notebox .noteList>div>div p{text-align:left;margin-bottom:0;font-size:var(--font-size-16);font-family:verdana}.notebox .noteList>div>div span{margin-top:var(--font-size-10);font-family:verdana;display:block;text-align:left;font-size:var(--font-size-14);color:#3f424b}@media screen and (max-width: 991px){.tholder{flex-direction:column}.tholder .tleft.large,.tholder .tright.small,.tholder .tleft.small{width:100%}.textarea button{font-size:var(--font-size-16);padding:8px 12px!important}.sideBarButton i{font-size:18px}.productModal .modal-footer button{margin-bottom:15px}.kbase{height:450px}.conversion-inner span,.conversion-inner p{font-size:12px}.conversion-inner .lpart .nameDesc-inner_right img{width:30px;height:30px}.tleft.large .faDiv{display:none}.addFile form>div{flex-wrap:wrap}.addFile form>div>div{width:48%!important;margin-bottom:15px}.addFile .form-control{padding:0px var(--font-size-12)!important;font-size:var(--font-size-14);height:45px!important}.addFile input[type=file]{height:45px!important}.addFile{padding:0}}@media screen and (max-width: 767px){.offcanvas.show h1,.offcanvas.showing h1{font-size:18px}.input-text div{width:100%}.input-text div button{top:10px}.offcanvas.show>div label,.offcanvas.showing>div label{line-height:normal}.input-text div button img{top:7px}.notebox .noteList>div>div{display:flex;align-items:flex-start;gap:10px;padding:10px}.notebox .noteList>div>div span{margin-top:5px}}@media screen and (max-width: 580px){.chatWindow{height:200px;padding-right:0}.input-text div button{top:10px}.u-add{flex-direction:column}.u-add h2{text-align:left}.c_part>div{width:100%!important}.rightChatBox{padding:6px}.conversion-inner .lpart .nameDesc-inner_right{margin-bottom:10px}}.shareMsg form div{padding:var(--font-size-10) var(--font-size-10)}.shareMsg form div div{padding:0;display:flex;gap:var(--font-size-20);width:100%;margin-bottom:var(--font-size-20)}.shareMsg form div div div{padding:0;display:block}.shareMsg form div div div label{padding-bottom:var(--font-size-5);font-weight:600}.shareMsg form div textarea{padding-left:var(--font-size-10);width:100%}.share{background-color:#394a9c;color:#fff}.share:hover{background-color:#00f;color:#fff}.responsive-tbl{overflow-x:auto;margin-top:var(--font-size-16)}.responsive-tbl table{width:100%;max-width:100%}.responsive-tbl table .eyeIcon{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #5367de;border-radius:2px;display:flex;align-items:center;justify-content:center;text-decoration:none;font-size:var(--font-size-16)}.responsive-tbl table .userImg{width:var(--font-size-40);height:var(--font-size-40);margin-right:var(--font-size-12);border-radius:50%;object-fit:cover}.responsive-tbl table td{padding:var(--font-size-12);font-family:verdana;font-style:normal;font-weight:400;font-size:var(--font-size-14);line-height:var(--font-size-17);color:#6f7784;text-align:left}.responsive-tbl table td div.actiontd{justify-content:center}.responsive-tbl table td div{display:flex;justify-content:flex-start;gap:var(--font-size-12)}.responsive-tbl table td div input[type=checkbox]{width:var(--font-size-14);border:none;accent-color:#219653}.responsive-tbl table td div>*{cursor:pointer}.responsive-tbl table tr:nth-child(odd){background:rgba(0,32,96,.05);border-bottom:1px solid #b3b3b3;border-top:1px solid #b3b3b3;border-radius:4px}.responsive-tbl table thead{background:rgba(0,32,96,.15);border-radius:4px}.responsive-tbl table thead th{padding:var(--font-size-10);text-align:left;font-size:var(--font-size-14)}.responsive-tbl table thead th:last-child{text-align:center}.activeUser div{margin-top:var(--font-size-10)}.activeUser div .userImg{width:var(--font-size-50);height:var(--font-size-50)}.activeUser div .userImg img{width:100%;border-radius:50%}.activeUser div .userDetail{text-align:left;margin-left:var(--font-size-20)}.activeUser div .userDetail p,.activeUser div .userDetail span{margin-bottom:5px;font-size:var(--font-size-16)}.readmore{color:#110062!important;cursor:pointer;font-size:var(--font-size-15)}.backlink{display:flex;justify-content:center;align-items:center;color:#002060;margin-bottom:10px;background:#f2f2f2;width:10%;padding:var(--font-size-5) var(--font-size-10);font-size:var(--font-size-14);border-radius:17px;cursor:pointer}@media screen and (max-width: 991px){.timeline-holder .timeline-even,.timeline-holder .timeline-odd{width:100%}.timeline-holder .timeline-odd .timeline-inner{width:100%;right:0}.timeline-holder .timeline-even .timeline-inner{width:100%;right:0;left:0}.timeline-holder .timeline-even .timeline-inner:after,.timeline-holder .timeline-odd .timeline-inner:after{content:"";width:0px;height:0px;border-right:var(--font-size-30) solid transparent;border-left:var(--font-size-30) solid transparent;border-top:var(--font-size-30) solid #dae7ff;border-bottom:var(--font-size-15) solid transparent;position:absolute;left:50%;top:110%;transform:translateY(-50%)}.timeline-holder>.timeline-inner:after{content:"";background-color:#6f7784;width:2px;position:absolute;top:129px;bottom:0;left:45%;display:none}.timeline-holder .timeline-even .timeline-inner:before{top:110%;left:51%;z-index:999;display:none}.timeline-holder .timeline-odd .timeline-inner:before{top:110%;left:51%;z-index:999;display:none}.timeline-holder .timeline-inner:nth-child(4) .timeline-odd:after{display:none}.timeline-holder .timeline-even .timeline-inner:after,.timeline-holder .timeline-odd .timeline-inner:after{display:none}.timeline-holder .timeline-even .timeline-inner p,.timeline-holder .timeline-odd .timeline-inner p{font-size:16px}.timeline-holder{width:100%}.timeline-holder .timeline-even{float:none}.timeline-holder .timeline-even .timeline-inner{position:relative}.timeline-holder .timeline-odd{float:none}.timeline-holder .timeline-odd .timeline-inner{position:relative}.timeline-holder>.timeline-inner{height:auto;margin-bottom:15px}}@media screen and (max-width: 580px){.timeline-holder .timeline-even .timeline-inner{padding:15px}.timeline-holder>.timeline-inner{height:130px}}@media screen and (max-width: 520px){.addFile form>div{flex-wrap:wrap}.addFile form>div>div{width:100%!important}.addFile form label{margin-top:10px}.notebox .noteList{height:auto}.notebox .noteList>div>div{flex-direction:column}}@media screen and (max-width: 480px){.timeline-holder>.timeline-inner{height:auto}}.u-add.custom{display:block}.u-add.custom .u-add-right select,.u-add.custom .u-add-right input{padding:var(--font-size-15);font-family:verdana;font-size:var(--font-size-14);line-height:var(--font-size-22);color:#949ca9}.u-add.custom .u-add-right *{width:100%}.usersTab{margin-top:2rem}.usersTab.badge:after{content:attr(data-count);position:absolute;inset:0 0 auto auto;display:block;color:#fff;font-weight:600;font-size:.9rem;padding:.5em .6em;aspect-ratio:1;border-radius:.7em;background-color:red;transform:translate(50%,-50%)}.tleft .tabList .active-user-popup{--_pad:1.5rem;display:none;position:absolute;top:0;left:100%;border:1px solid rgba(0,32,96,.2);background-color:#fff;padding:var(--_pad);border-radius:.6em;min-width:20rem}.tleft .tabList .active-user-popup h3{color:#474554;text-align:left;font-size:1.3rem;margin-bottom:2rem;position:relative}.tleft .tabList .active-user-popup h3:after{content:"";position:absolute;bottom:-1rem;left:calc(var(--_pad) * -1);display:block;height:1px;width:calc(100% + var(--_pad) * 2);background-color:#00206033}.tleft .tabList .active-user-popup li{display:flex!important;column-gap:1rem;margin-bottom:0!important;border-radius:.3em}.tleft .tabList .active-user-popup li img{width:2rem!important;height:2rem!important;display:block;object-fit:cover!important;border-radius:50%}.tleft .tabList .active-user-popup li p{margin-bottom:0}.tleft .tabList .active-user-popup.active{display:block}@media (max-width: 900px){.tleft .tabList .active-user-popup{bottom:0;left:100%;transform:translate(-100%);min-height:min-content}}pre{text-overflow:ellipsis;word-break:break-all;margin-bottom:0}.deleteModal .modal-header{display:grid;grid-template-columns:1fr auto 1fr}.deleteModal .modal-header h4{grid-column:2}.deleteModal .modal-header button{grid-column:3}.deleteModal .modal-footer{border:0;padding:0;margin:0;margin-top:1rem;justify-content:center!important}.deleteModal .modal-footer .flexDiv{justify-content:center!important}.deleteModal .modal-footer .flexDiv button{margin-top:0;padding:.5em 1.2em;font-size:.9rem}.deleteModal .modal-footer .flexDiv .delete{color:#fff;border:1px solid var(--clr-red);background:var(--clr-red);font-family:verdana-bold}.deleteModal .modal-footer .flexDiv .cancel{border:1px solid black}.deleteModal .modal-body p{font-size:var(--font-size-16);margin-bottom:var(--font-size-15)}input.hidden{width:0px;height:0px;display:inline-block;visibility:hidden}.pushRight{margin-right:3.6rem}.pushLeft{margin-left:3.6rem}.file-name{font-size:.86rem!important;margin-block:.6em}\n'],encapsulation:2})}return n})();var Ii=c(6262),Fi=c(5143),I=c(3054);function Di(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==(null==e?null:e.name))("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Li(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select vehicle type. "),t.qZA())}function Vi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showMultiselect=!1)}),t._UZ(1,"label",58)(2,"input",76),t.qZA()}}function Ni(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==(null==e?null:e.brand_name))("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.brand_name)}}function Si(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"label",58)(2,"input",77),t.qZA())}function Ji(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==(null==e?null:e.model_name))("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.model_name)}}function Ei(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"label",58)(2,"input",78),t.qZA())}function Ri(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please enter vehicle registration. "),t.qZA())}function Bi(n,s){if(1&n&&(t.TgZ(0,"option",79),t._uU(1),t.qZA()),2&n){const e=s.index,o=t.oxw(2);t.Q6J("value",o.year-e),t.xp6(1),t.hij("",o.year-e," ")}}function Qi(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select vehicle year. "),t.qZA())}function Yi(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please enter vehicle VIN. "),t.qZA())}function ji(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select file type. "),t.qZA())}function $i(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==e)("value",e),t.xp6(1),t.hij(" ",e," ")}}function Hi(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select tuning tool. "),t.qZA())}function Gi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showMultiselect=!1)}),t._UZ(1,"label",58)(2,"input",80),t.qZA()}}function Ki(n,s){1&n&&(t.TgZ(0,"small",81),t._uU(1," Please enter engine size. "),t.qZA())}function Wi(n,s){1&n&&(t.TgZ(0,"small",81),t._uU(1," Please enter valid number ex: (1,22). "),t.qZA())}function Xi(n,s){1&n&&(t.TgZ(0,"small",81),t._uU(1," Please enter valid number ex: (1,2). "),t.qZA())}function tn(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==e)("value",e),t.xp6(1),t.hij(" ",e,"")}}function en(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select transmission. "),t.qZA())}function nn(n,s){1&n&&(t.TgZ(0,"div",30),t._UZ(1,"label",58)(2,"input",82),t.qZA())}function on(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==e)("value",e),t.xp6(1),t.hij(" ",e,"")}}function an(n,s){1&n&&(t.TgZ(0,"div",30),t._UZ(1,"label",58)(2,"input",83),t.qZA())}function sn(n,s){if(1&n&&(t.TgZ(0,"option",79),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ln(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select mileage type. "),t.qZA())}function rn(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please enter mileage. "),t.qZA())}function cn(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==e)("value",e),t.xp6(1),t.hij(" ",e,"")}}function dn(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select control unit. "),t.qZA())}function un(n,s){1&n&&(t.TgZ(0,"div",30),t._UZ(1,"label",58)(2,"input",84),t.qZA())}function fn(n,s){if(1&n&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",null==e?null:e.id)("disabled","Other"==(null==e?null:e.ecu_brand)),t.xp6(1),t.hij("",null==e?null:e.ecu_brand," ")}}function hn(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," ECU Version is required! "),t.qZA())}function _n(n,s){1&n&&(t.TgZ(0,"div",88),t._UZ(1,"input",89),t.qZA())}function pn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"label"),t._uU(2,"ECU Brand"),t.qZA(),t.TgZ(3,"div")(4,"select",85),t.NdJ("change",function(){t.CHM(e);const i=t.oxw(2);return i.setFuelModel(!1),t.KtG(i.showOtherEcuBrand_version("brand"))}),t.TgZ(5,"option",47),t._uU(6,"Select ECU Brand"),t.qZA(),t.YNc(7,fn,2,3,"option",86),t.qZA(),t.YNc(8,hn,2,0,"small",18),t.qZA(),t.YNc(9,_n,2,0,"div",48),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",e.uniqueBrands),t.xp6(1),t.Q6J("ngIf",e.ecuInformation.controls.ecu_brand.touched&&e.ecuInformation.controls.ecu_brand.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.showEcuBrand)}}function gn(n,s){if(1&n&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("disabled","Other"==(null==e?null:e.ecu_version))("value",null==e?null:e.ecu_version),t.xp6(1),t.hij("",null==e?null:e.ecu_version," ")}}function mn(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," ECU Version is required! "),t.qZA())}function vn(n,s){1&n&&(t.TgZ(0,"div",88),t._UZ(1,"input",90),t.qZA())}function bn(n,s){if(1&n&&(t.TgZ(0,"ng-option",79),t._uU(1),t._UZ(2,"img",91),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",null==e?null:e.country),t.xp6(1),t.hij(" ",null==e?null:e.country," "),t.xp6(1),t.Q6J("src",null==e?null:e.flag,t.LSH)}}function Cn(n,s){1&n&&(t.TgZ(0,"small",92),t._uU(1," Please select country. "),t.qZA())}function Tn(n,s){if(1&n&&(t.TgZ(0,"option",79),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function Zn(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select tuning required. "),t.qZA())}function kn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"input",97),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(3);return t.KtG(l.selectAddFun(a))}),t.qZA(),t.TgZ(2,"label",58),t._uU(3),t.qZA()()}if(2&n){const e=s.$implicit,o=s.index,i=t.oxw(3);t.xp6(1),t.Q6J("checked",i.selectAdditionalFun[o]),t.xp6(2),t.Oqu(e)}}function xn(n,s){if(1&n&&(t.TgZ(0,"div",93)(1,"label",94),t._uU(2,"Additional Function"),t.qZA(),t.TgZ(3,"div",95),t.YNc(4,kn,4,2,"div",96),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.additionalFunctionList)}}function yn(n,s){1&n&&(t.TgZ(0,"div",98),t._UZ(1,"label",58)(2,"input",99),t.qZA())}function wn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"p",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showMultiselect=!1)}),t._uU(1,"Drag and Drop the files here "),t.qZA()}}function qn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showMultiselect=!1)}),t._uU(1,"OR"),t.qZA()}}function An(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"p",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showMultiselect=!1)}),t._uU(1,"Browse file"),t.qZA()}}function Mn(n,s){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.fileName)}}function On(n,s){1&n&&(t.TgZ(0,"small",75),t._uU(1," Please select terms & conditions. "),t.qZA())}function Un(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"form",10)(2,"div",11)(3,"div")(4,"div")(5,"label"),t._uU(6,"Associated Customer First Name"),t.qZA(),t.TgZ(7,"div"),t._UZ(8,"input",12),t.qZA()(),t.TgZ(9,"div")(10,"label"),t._uU(11,"Associated Customer Last Name"),t.qZA(),t.TgZ(12,"div"),t._UZ(13,"input",13),t.qZA()()(),t.TgZ(14,"div")(15,"div")(16,"label",14),t._uU(17,"Vehicle Type"),t.qZA(),t.TgZ(18,"div")(19,"select",15),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return i.getVehicleBrands(!1),t.KtG(i.otherVehicleDetailBoxController("vehicleType"))}),t.TgZ(20,"option",16),t._uU(21,"Select Vehicle Type"),t.qZA(),t.YNc(22,Di,2,3,"option",17),t.qZA(),t.YNc(23,Li,2,0,"small",18),t.YNc(24,Vi,3,0,"div",19),t.qZA()(),t.TgZ(25,"div")(26,"label"),t._uU(27," Vehicle Make"),t.qZA(),t.TgZ(28,"div")(29,"select",20),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return i.getBrandModel(),t.KtG(i.otherVehicleDetailBoxController("vehicleMake"))}),t.TgZ(30,"option",16),t._uU(31,"Select Vehicle Make"),t.qZA(),t.YNc(32,Ni,2,3,"option",17),t.qZA()(),t.YNc(33,Si,3,0,"div",9),t.qZA()(),t.TgZ(34,"div")(35,"div")(36,"label"),t._uU(37," Vehicle Model"),t.qZA(),t.TgZ(38,"div")(39,"select",21),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return i.getVehicleControlList(),t.KtG(i.otherVehicleDetailBoxController("model"))}),t.TgZ(40,"option",16),t._uU(41,"Select Vehicle Model"),t.qZA(),t.YNc(42,Ji,2,3,"option",17),t.qZA()(),t.YNc(43,Ei,3,0,"div",9),t.qZA(),t.TgZ(44,"div")(45,"label"),t._uU(46,"Vehicle Registration"),t.qZA(),t.TgZ(47,"div"),t._UZ(48,"input",22),t.YNc(49,Ri,2,0,"small",18),t.qZA()()(),t.TgZ(50,"div")(51,"div")(52,"label"),t._uU(53,"Vehicle Year"),t.qZA(),t.TgZ(54,"div")(55,"select",23)(56,"option",16),t._uU(57,"Select Vehicle Year"),t.qZA(),t.YNc(58,Bi,2,2,"option",24),t.qZA(),t.YNc(59,Qi,2,0,"small",18),t.qZA()(),t.TgZ(60,"div")(61,"label"),t._uU(62,"Vehicle VIN"),t.qZA(),t.TgZ(63,"div"),t._UZ(64,"input",25),t.YNc(65,Yi,2,0,"small",18),t.qZA()()(),t.TgZ(66,"div")(67,"div")(68,"label",14),t._uU(69,"File Type"),t.qZA(),t.TgZ(70,"div")(71,"select",26)(72,"option",16),t._uU(73,"Select File Type"),t.qZA(),t.TgZ(74,"option"),t._uU(75,"Master"),t.qZA(),t.TgZ(76,"option"),t._uU(77,"Client/Slave"),t.qZA()(),t.YNc(78,ji,2,0,"small",18),t.qZA()(),t.TgZ(79,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showMultiselect=!1)}),t.TgZ(80,"label",14),t._uU(81,"Tuning Tool Used"),t.qZA(),t.TgZ(82,"div")(83,"select",28),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.vehicleInformation.controls.other_tuning_tool_used.setValue(""))}),t.TgZ(84,"option",16),t._uU(85,"Select Tuning Tool"),t.qZA(),t.YNc(86,$i,2,3,"option",17),t.qZA(),t.YNc(87,Hi,2,0,"small",18),t.qZA(),t.YNc(88,Gi,3,0,"div",19),t.qZA()()()(),t.TgZ(89,"h5",29),t._uU(90,"Engine information"),t.qZA(),t._UZ(91,"hr"),t.TgZ(92,"form",10)(93,"div",11)(94,"div",30)(95,"label",31),t._uU(96,"Engine Size"),t.qZA(),t.TgZ(97,"div",32)(98,"div",33),t._UZ(99,"input",34),t.YNc(100,Ki,2,0,"small",35),t.YNc(101,Wi,2,0,"small",35),t.qZA(),t._UZ(102,"span",36),t.TgZ(103,"div",33),t._UZ(104,"input",37),t.YNc(105,Xi,2,0,"small",35),t.qZA()()(),t.TgZ(106,"div",38)(107,"label",14),t._uU(108,"Transmission"),t.qZA(),t.TgZ(109,"select",39)(110,"option",16),t._uU(111,"Select Transmission"),t.qZA(),t.YNc(112,tn,2,3,"option",17),t.qZA(),t.YNc(113,en,2,0,"small",18),t.qZA(),t.YNc(114,nn,3,0,"div",40),t.TgZ(115,"div",30)(116,"label",14),t._uU(117,"Fuel Type"),t.qZA(),t.TgZ(118,"select",41),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resetCtrlUnit())}),t.TgZ(119,"option",16),t._uU(120,"Select Fuel Type"),t.qZA(),t.YNc(121,on,2,3,"option",17),t.qZA()(),t.YNc(122,an,3,0,"div",40),t.TgZ(123,"h5",42),t._uU(124,"Mileage information"),t.qZA(),t.TgZ(125,"div")(126,"div")(127,"label",14),t._uU(128,"Mileage type"),t.qZA(),t.TgZ(129,"div")(130,"select",43)(131,"option",16),t._uU(132,"Select Mileage Type"),t.qZA(),t.YNc(133,sn,2,2,"option",24),t.qZA(),t.YNc(134,ln,2,0,"small",18),t.qZA()(),t.TgZ(135,"div")(136,"label"),t._uU(137,"Mileage"),t.qZA(),t.TgZ(138,"div"),t._UZ(139,"input",44),t.YNc(140,rn,2,0,"small",18),t.qZA()()()()(),t.TgZ(141,"h5",29),t._uU(142,"ECU information"),t.qZA(),t._UZ(143,"hr"),t.TgZ(144,"form",10)(145,"div",11)(146,"div",38)(147,"label"),t._uU(148,"Control Unit"),t.qZA(),t.TgZ(149,"select",45),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getTuningRequired(!1))}),t.TgZ(150,"option",16),t._uU(151,"Select Control Unit"),t.qZA(),t.YNc(152,cn,2,3,"option",17),t.qZA(),t.YNc(153,dn,2,0,"small",18),t.qZA(),t.YNc(154,un,3,0,"div",40),t.TgZ(155,"div"),t.YNc(156,pn,10,3,"div",9),t.TgZ(157,"div")(158,"label"),t._uU(159,"ECU Version"),t.qZA(),t.TgZ(160,"div")(161,"select",46),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showOtherEcuBrand_version("version"))}),t.TgZ(162,"option",47),t._uU(163,"Select ECU Version"),t.qZA(),t.YNc(164,gn,2,3,"option",17),t.qZA(),t.YNc(165,mn,2,0,"small",18),t.qZA(),t.YNc(166,vn,2,0,"div",48),t.qZA()()()(),t.TgZ(167,"h5",29),t._uU(168,"Additional information"),t.qZA(),t._UZ(169,"hr"),t.TgZ(170,"form",10)(171,"div",11)(172,"div",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showMultiselect=!1)}),t.TgZ(173,"label",14),t._uU(174,"Country/Location"),t.qZA(),t.TgZ(175,"ng-select",50)(176,"ng-option",51),t._uU(177,"Select Your Country"),t.qZA(),t.YNc(178,bn,3,3,"ng-option",24),t.qZA(),t.YNc(179,Cn,2,0,"small",52),t.qZA(),t.TgZ(180,"div",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showMultiselect=!1)}),t.TgZ(181,"label",14),t._uU(182,"Tuning Required"),t.qZA(),t.TgZ(183,"select",54)(184,"option",16),t._uU(185,"Select Tuning Required"),t.qZA(),t.YNc(186,Tn,2,2,"option",24),t.qZA(),t.YNc(187,Zn,2,0,"small",18),t.qZA(),t.YNc(188,xn,5,1,"div",55),t.YNc(189,yn,3,0,"div",56),t.TgZ(190,"div",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showMultiselect=!1)}),t.TgZ(191,"label",58),t._uU(192,"Additional Info"),t.qZA(),t._UZ(193,"textarea",59),t.qZA(),t.TgZ(194,"div",60)(195,"label",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showMultiselect=!1)}),t._uU(196,"Upload File"),t.qZA(),t.TgZ(197,"div",62),t.YNc(198,wn,2,0,"p",19),t.YNc(199,qn,2,0,"span",19),t.YNc(200,An,2,0,"p",19),t.YNc(201,Mn,2,1,"p",9),t.TgZ(202,"input",63),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.fileUpload(i))}),t.qZA()()(),t.TgZ(203,"div")(204,"div",64)(205,"p"),t._uU(206,"Please find the Previous Uploaded file you can download and attach or upload new file. "),t.TgZ(207,"a",65),t._UZ(208,"i",66),t.qZA()(),t.TgZ(209,"div",67)(210,"input",68),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.acceptTermCond())}),t.qZA(),t.TgZ(211,"p"),t._uU(212,"By clicking Register, you agree to our "),t.TgZ(213,"a",69),t._uU(214,"Terms & conditions "),t.qZA(),t._uU(215," and "),t.TgZ(216,"a",70),t._uU(217,"Privacy Policy."),t.qZA()()(),t.YNc(218,On,2,0,"small",18),t.qZA()(),t.TgZ(219,"div",71)(220,"button",72),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resetForm())}),t._uU(221,"Reset"),t.qZA(),t.TgZ(222,"button",73),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submitForm("finalSubmit"))}),t._uU(223,"Submit"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.vehicleInformation),t.xp6(21),t.Q6J("ngForOf",e.vehicleTypes),t.xp6(1),t.Q6J("ngIf",e.vehicleInformation.controls.vehicle_type.touched&&e.vehicleInformation.controls.vehicle_type.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.showOtherVehicleType),t.xp6(8),t.Q6J("ngForOf",e.vehicleBrandList),t.xp6(1),t.Q6J("ngIf",e.showOtherVehicleMake),t.xp6(9),t.Q6J("ngForOf",e.modelList),t.xp6(1),t.Q6J("ngIf",e.showOtherModel),t.xp6(6),t.Q6J("ngIf",e.vehicleInformation.controls.vehicle_registration.touched&&e.vehicleInformation.controls.vehicle_registration.hasError("required")),t.xp6(9),t.Q6J("ngForOf",e.counter(e.yearCount)),t.xp6(1),t.Q6J("ngIf","Select Vehicle Year"==e.vehicleInformation.value.vehicle_year&&e.showSelectError),t.xp6(6),t.Q6J("ngIf",e.vehicleInformation.controls.vehicle_VIN.touched&&e.vehicleInformation.controls.vehicle_VIN.hasError("required")),t.xp6(13),t.Q6J("ngIf","Select File Type"==e.vehicleInformation.value.file_type&&e.showSelectError),t.xp6(8),t.Q6J("ngForOf",e.tuningToolUsedList),t.xp6(1),t.Q6J("ngIf","Select Tuning Tool"==e.vehicleInformation.value.tuning_tool_used&&e.showSelectError),t.xp6(1),t.Q6J("ngIf","Other"==e.vehicleInformation.controls.tuning_tool_used.value),t.xp6(4),t.Q6J("formGroup",e.engineInformation),t.xp6(8),t.Q6J("ngIf",e.engineInformation.controls.engine_size.touched&&e.engineInformation.controls.engine_size.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.engineInformation.controls.engine_size.dirty&&e.engineInformation.controls.engine_size.hasError("pattern")),t.xp6(4),t.Q6J("ngIf",e.engineInformation.controls.engine_size_deci.dirty&&e.engineInformation.controls.engine_size_deci.hasError("pattern")),t.xp6(7),t.Q6J("ngForOf",null==e.vehicleDetails?null:e.vehicleDetails.transmission),t.xp6(1),t.Q6J("ngIf","Select Transmission"==e.engineInformation.value.transmission&&e.showSelectError),t.xp6(1),t.Q6J("ngIf","Other"==e.engineInformation.controls.transmission.value),t.xp6(7),t.Q6J("ngForOf",null==e.vehicleDetails?null:e.vehicleDetails.fuel_type),t.xp6(1),t.Q6J("ngIf","Other"==e.engineInformation.controls.fuel_type.value),t.xp6(11),t.Q6J("ngForOf",null==e.vehicleDetails?null:e.vehicleDetails.milage),t.xp6(1),t.Q6J("ngIf","Select Mileage Type"==e.engineInformation.value.mileage_type&&e.showSelectError),t.xp6(6),t.Q6J("ngIf",e.engineInformation.controls.mileage.touched&&e.engineInformation.controls.mileage.hasError("required")),t.xp6(4),t.Q6J("formGroup",e.ecuInformation),t.xp6(8),t.Q6J("ngForOf",null==e.vehicleDetails?null:e.vehicleDetails.control_unit),t.xp6(1),t.Q6J("ngIf","Select Control Unit"==e.ecuInformation.value.control_unit&&e.showSelectError),t.xp6(1),t.Q6J("ngIf","Other"==e.ecuInformation.controls.control_unit.value),t.xp6(2),t.Q6J("ngIf",!e.showVehicleTypeInput),t.xp6(8),t.Q6J("ngForOf",e.newECU_versionList),t.xp6(1),t.Q6J("ngIf",e.ecuInformation.controls.ecu_version.touched&&e.ecuInformation.controls.ecu_version.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.showEcuVersion||"Other"==e.ecuInformation.value.ecu_version),t.xp6(4),t.Q6J("formGroup",e.additionalInformation),t.xp6(8),t.Q6J("ngForOf",e.countryData),t.xp6(1),t.Q6J("ngIf","Select Your Country"==e.additionalInformation.value.country&&e.showSelectError),t.xp6(7),t.Q6J("ngForOf",e.tuningRequiredList),t.xp6(1),t.Q6J("ngIf","Select Tuning Required"==e.additionalInformation.value.tuning_required&&e.showSelectError),t.xp6(1),t.Q6J("ngIf",e.showAdditonalFunction),t.xp6(1),t.Q6J("ngIf",e.showAddiInfoOtherBox),t.xp6(9),t.Q6J("ngIf",!e.fileName),t.xp6(1),t.Q6J("ngIf",!e.fileName),t.xp6(1),t.Q6J("ngIf",!e.fileName),t.xp6(1),t.Q6J("ngIf",e.fileName),t.xp6(6),t.Q6J("href",e.downloadFile,t.LSH),t.xp6(11),t.Q6J("ngIf",!e.acceptTermBusi&&e.acceptTermCondCount>0)}}let zn=(()=>{class n{constructor(e,o,i,a,l,d,v,h){this.customer=e,this.crud=o,this.ar=i,this.formBuilder=a,this.toastr=l,this.route=d,this._titleservice=v,this.notification=h,this.vehicle_step=!1,this.engine_step=!1,this.ecu_step=!1,this.additional_step=!1,this.step=1,this.tab="form1",this.countries=c(3376).hW,this.vehicleBrandList=[],this.modelList=[],this.ecuBrandList=[],this.showVehicleTypeInput=!1,this.formData=new FormData,this.formData3=new FormData,this.ticketFormData=new FormData,this.yearCount=0,this.year=0,this.additionalFunctionList=[],this.tuningRequiredList=[],this.showAdditonalFunction=!1,this.ticketCategories=[],this.showMultiselect=!1,this.selectAdditionalFun=[],this.fileCreditRequired=0,this.functionCreditRequired=0,this.filePurchaseRequired=0,this.onlyFileKeyCredit=!0,this.onlyFuntionKeyCredit=!1,this.fileName="",this.acceptTermBusi=!1,this.showSelectError=!1,this.showOtherVehicleType=!1,this.showOtherVehicleMake=!1,this.showOtherModel=!1,this.type=this.ar.queryParams,this.ticketId=this.ar.snapshot.paramMap.get("ids"),this.obj=[{alpha2:"US",name:"United States"},{alpha2:"GB",name:"United Kingdom"}],this.uniqueECUBrand=[],this.unique=[],this.countryData=Ii.Fi,this.newECU_versionList=[],this.a=[],this.showAddiInfoOtherBox=!1,this.newUniqueEcuBrandList=[],this.editEcuBrandVesrsion=!1,this.newTuningRequiredList=[],this.showEcuBrand=!1,this.showEcuVersion=!1,this.fileList=[],this.acceptTermCondCount=0,this._titleservice.setTitle("File Submission"),this.vehicleInformation=this.formBuilder.group({customer_first_name:[""],customer_last_name:[""],vehicle_type:["Select Vehicle Type",r.kI.required],other_vehicle_type:[""],vehicle_make:["Select Vehicle Make",r.kI.required],other_vehicle_make:[""],model:["Select Vehicle Model",r.kI.required],other_model:[""],vehicle_registration:["",r.kI.required],vehicle_year:["Select Vehicle Year",r.kI.required],vehicle_VIN:["",r.kI.required],file_type:["Select File Type",r.kI.required],tuning_tool_used:["Select Tuning Tool",r.kI.required],other_tuning_tool_used:[""]}),this.engineInformation=this.formBuilder.group({engine_size:["",[r.kI.required,r.kI.pattern(/^\d+$/)]],engine_size_deci:["",[r.kI.pattern(/^[0-9]$/)]],transmission:["Select Transmission",r.kI.required],other_transmission:[""],fuel_type:["Select Fuel Type",r.kI.required],other_fuel_type:[""],mileage_type:["Select Mileage Type",r.kI.required],mileage:["",r.kI.required]}),this.ecuInformation=this.formBuilder.group({ecu_brand:["",r.kI.required],other_ecu_brand:[""],ecu_version:["",r.kI.required],other_ecu_version:[""],control_unit:["Select Control Unit",r.kI.required],other_control_unit:["",r.kI.required]}),this.additionalInformation=this.formBuilder.group({country:["Select Your Country",r.kI.required],additional_function:["",r.kI.required],other_additional_function:["",r.kI.required],tuning_required:["Select Tuning Required",r.kI.required],additional_info:["",r.kI.required]}),this.ticketCreateForm=this.formBuilder.group({subject:["",[r.kI.required]],category:["",[r.kI.required]],file_request:["",[]],description:["",[r.kI.required]]})}ngOnInit(){console.log(this.type._value.reqId),this.countryData.sort((o,i)=>o.country>i.country?1:-1),this.obj.forEach(o=>{this.moveCountryOnTop(o.name)}),this.year=(new Date).getFullYear(),this.yearCount=this.year-1980,this.users=JSON.parse(localStorage.getItem("userdetails")||""),this.ar.queryParams.subscribe(o=>{this.submitRequest=o.submitRequest}),this.getTicketCategory(),this.getTypeCount(),this.getVehicleDetail()}getVehicleDetail(){this.crud.getRequest(`file/service/request/detail/${this.type._value.reqId.replace("FR","")}`).then(e=>{e&&(this.vehDetail=e,this.downloadFile=this.vehDetail?.tuning_file,this.getTypeCount(),this.customer.getFileFormData().subscribe(o=>{if(o){this.vehicleDetails=o.data,this.vehicleDetails.control_unit=this.sortEle(this.vehicleDetails.control_unit);let i=this.vehicleDetails.control_unit.indexOf("ECU");-1!==i&&this.vehicleDetails.control_unit.splice(0,0,this.vehicleDetails.control_unit.splice(i,1)[0]),this.vehicleDetails.transmission=this.sortEle(this.vehicleDetails.transmission),this.vehicleDetails.fuel_type=this.sortEle(this.vehicleDetails.fuel_type),this.engineInformation.controls.fuel_type.setValue(this.vehDetail?.fuel_type),this.autotuningListSet(),this.autoEcuBrandVersionSet(),this.moveOtherInLast(this.vehicleDetails.transmission,"Other"),this.moveOtherInLast(this.vehicleDetails.control_unit,"Other"),this.tuningToolUsedList="INDIVIDUAL_CUSTOMER"==this.users.role?this.vehicleDetails.tuning_tool_used.individual:this.vehicleDetails.tuning_tool_used.business,this.tuningToolUsedList=this.sortEle(this.tuningToolUsedList),this.moveOtherInLast(this.tuningToolUsedList,"OTHER"),this.vehDetail?.other_fields&&(this.other_field=this.vehDetail?.other_fields.split(","),this.other_field.forEach(a=>{"fuel_type"==a&&(this.engineInformation.controls.other_fuel_type.setValue(this.vehDetail?.fuel_type),this.engineInformation.controls.fuel_type.setValue("Other"))}))}}),this.crud.getRequest(f.d.getVehicleTypeList).then(o=>{this.vehicleTypes=o,this.vehicleTypes=this.sort(this.vehicleTypes,"name"),this.vehicleTypes.push({id:0,name:"Other"}),this.vehicleTypes.forEach(a=>{a.name==this.vehDetail?.vehicle_type&&(this.vehicleInformation.controls.vehicle_type.setValue(a.id),this.getVehicleBrands(!0))})}),this.vehicleInformation.controls.customer_first_name.setValue(this.vehDetail?.customer_first_name),this.vehicleInformation.controls.customer_last_name.setValue(this.vehDetail?.customer_last_name),this.vehicleInformation.controls.vehicle_registration.setValue(this.vehDetail?.vehicle_registration),this.vehicleInformation.controls.vehicle_year.setValue(this.vehDetail?.vehicle_year),this.vehicleInformation.controls.vehicle_VIN.setValue(this.vehDetail?.vehicle_VIN),this.vehicleInformation.controls.file_type.setValue(this.vehDetail?.file_type),this.vehicleInformation.controls.tuning_tool_used.setValue(this.vehDetail?.tuning_tool_used),this.engineInformation.controls.engine_size.setValue(this.vehDetail?.engine_size.split(".")[0]),this.engineInformation.controls.engine_size_deci.setValue(this.vehDetail?.engine_size.split(".")[1]),this.vehicleInformation.controls.tuning_tool_used.setValue(this.vehDetail?.tuning_tool_used),this.engineInformation.controls.transmission.setValue(this.vehDetail?.transmission),this.engineInformation.controls.mileage_type.setValue(this.vehDetail?.mileage_type),this.engineInformation.controls.mileage.setValue(this.vehDetail?.mileage),this.ecuInformation.controls.ecu_version.setValue(this.vehDetail?.ecu_version),this.ecuInformation.controls.control_unit.setValue(this.vehDetail?.control_unit),this.additionalInformation.controls.country.setValue(this.vehDetail?.country),this.additionalInformation.controls.additional_function.setValue(this.vehDetail?.additional_function),this.additionalInformation.controls.other_additional_function.setValue(this.vehDetail?.other_additional_function),this.additionalInformation.controls.additional_info.setValue(this.vehDetail?.additional_info),this.vehDetail?.other_fields&&(this.other_field=this.vehDetail?.other_fields.split(","),this.other_field.forEach(o=>{"vehicle_type"==o?(this.showOtherVehicleType=!0,this.vehicleBrandList.push({id:0,brand_name:"Other"}),this.vehicleInformation.controls.other_vehicle_type.setValue(this.vehDetail?.vehicle_type),this.vehicleInformation.controls.vehicle_type.setValue(0)):"vehicle_make"==o?(this.showOtherVehicleMake=!0,this.modelList.push({id:0,model_name:"Other",file_key_credit:1}),this.vehicleInformation.controls.other_vehicle_make.setValue(this.vehDetail?.vehicle_make),this.vehicleInformation.controls.vehicle_make.setValue(0)):"model"==o?(this.showOtherModel=!0,this.vehicleInformation.controls.other_model.setValue(this.vehDetail?.model),this.vehicleInformation.controls.model.setValue(0)):"tuning_tool_used"==o?(this.vehicleInformation.controls.other_tuning_tool_used.setValue(this.vehDetail?.tuning_tool_used),this.vehicleInformation.controls.tuning_tool_used.setValue("Other")):"transmission"==o?(this.engineInformation.controls.other_transmission.setValue(this.vehDetail?.transmission),this.engineInformation.controls.transmission.setValue("Other")):"control_unit"==o&&(this.ecuInformation.controls.other_control_unit.setValue(this.vehDetail?.control_unit),this.ecuInformation.controls.control_unit.setValue("Other"))})))})}autotuningListSet(){if(this.newTuningRequiredList=[],"Gasoline Hybrid"==this.engineInformation.controls.fuel_type.value||"Gasoline"==this.engineInformation.controls.fuel_type.value){for(var e in this.tuningRequiredList={...this.vehicleDetails.tuning_required.business.gasoline,...this.vehicleDetails.tuning_required.individual.gasoline},this.tuningRequiredList)this.newTuningRequiredList.push({value:e,name:this.tuningRequiredList[e]});this.tuningRequiredList=this.newTuningRequiredList,console.log(this.tuningRequiredList,"tuning required list/////////////"),this.additionalFunctionList=this.vehicleDetails.additional_functions.gasoline,this.showAdditonalFunction=!0;for(let a=0;a<this.additionalFunctionList.length;a++)this.selectAdditionalFun[a]=!1}else if("Diesel Hybrid"==this.engineInformation.controls.fuel_type.value||"Diesel"==this.engineInformation.controls.fuel_type.value){for(var e in this.tuningRequiredList={...this.vehicleDetails.tuning_required.business.gasoline,...this.vehicleDetails.tuning_required.individual.gasoline},this.tuningRequiredList)this.newTuningRequiredList.push({value:e,name:this.tuningRequiredList[e]});this.tuningRequiredList=this.newTuningRequiredList,this.additionalFunctionList=this.vehicleDetails.additional_functions.diesel,console.log(this.tuningRequiredList,"tuning required list////////////#################/"),this.showAdditonalFunction=!0;for(let a=0;a<this.additionalFunctionList.length;a++)this.selectAdditionalFun[a]=!1}else this.tuningRequiredList=[],this.tuningRequiredList.push({value:"NO TUNE",name:"NO TUNE"}),this.showAdditonalFunction=!1;this.additionalInformation.controls.tuning_required.setValue(this.vehDetail?.tuning_required)}autoEcuBrandVersionSet(){this.newUniqueEcuBrandList=[],this.ecuBrandList.forEach(l=>{"Petrol"!=l.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value||"Diesel"==this.engineInformation.controls.fuel_type.value?("Diesel"==l.fuel_type||"Diesel Hybrid"==l.fuel_type)&&this.newUniqueEcuBrandList.push(l):l.fuel_type==this.engineInformation.controls.fuel_type.value&&this.newUniqueEcuBrandList.push(l):this.newUniqueEcuBrandList.push(l)}),this.uniqueBrands=Object.values(this.newUniqueEcuBrandList.reduce((l,d)=>(l[d.ecu_brand]=d,l),{}));var e=this.uniqueBrands;if(this.uniqueBrands=[],e.forEach(l=>{l.ecu_type==this.ecuInformation.value.control_unit&&this.uniqueBrands.push(l)}),this.uniqueBrands.length>0?(this.editEcuBrandVesrsion=!1,this.showEcuBrand=!1,this.showEcuVersion=!1,this.ecuInformation.controls.other_ecu_brand.setValue(""),this.ecuInformation.controls.other_ecu_version.setValue(""),this.uniqueBrands.push({id:0,ecu_brand:"Other"})):(this.showEcuBrand=!1,this.showEcuVersion=!1,this.editEcuBrandVesrsion=!0,this.uniqueBrands.push({id:0,ecu_brand:"Other"}),this.newECU_versionList=[],this.newECU_versionList.push({ecu_version:"Other"}),this.ecuInformation.controls.ecu_version.setValue("Select ECU Version")),!this.editEcuBrandVesrsion){this.newECU_versionList=[];var a="";this.ecuBrandList.forEach(d=>{d.id==this.ecuInformation.value.ecu_brand&&(a=d.ecu_brand)}),this.ecuBrandList.forEach(d=>{d.ecu_brand==a&&d.fuel_type==this.engineInformation.controls.fuel_type.value?this.newECU_versionList.push(d):d.ecu_brand!=a||"Petrol"!=d.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?d.ecu_brand==a&&("Diesel"==d.fuel_type||"Diesel Hybrid"==d.fuel_type)&&("Diesel"==this.engineInformation.controls.fuel_type.value||"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value)&&this.newECU_versionList.push(d):this.newECU_versionList.push(d)}),this.newECU_versionList=this.sort(this.newECU_versionList,"ecu_version"),this.newECU_versionList.push({ecu_version:"Other"})}this.ecuInformation.controls.ecu_brand.setValue(this.vehDetail?.ecu_brand),this.uniqueBrands.forEach(l=>{l.ecu_brand==this.vehDetail?.ecu_brand&&this.ecuInformation.controls.ecu_brand.setValue(l.id),this.setFuelModel(!1)}),this.vehDetail?.other_fields&&(this.other_field=this.vehDetail?.other_fields.split(","),this.other_field.forEach(l=>{"ecu_brand"==l&&(this.showEcuBrand=!0,this.ecuInformation.controls.other_ecu_brand.setValue(this.vehDetail?.ecu_brand),this.ecuInformation.controls.ecu_brand.setValue(0))}),this.setFuelModel(!0))}sortEle(e){return e.sort((o,i)=>o.toLowerCase().localeCompare(i.toLowerCase()))}sort(e,o){return e.sort((i,a)=>{var l=i[o].toUpperCase(),d=a[o].toUpperCase();return l<d?-1:l>d?1:0})}moveCountryOnTop(e){const o=this.countryData.findIndex(i=>i.country===e);if(-1!==o){const i=this.countryData.splice(o,1)[0];this.countryData.unshift(i)}}getTicketCategory(){this.crud.getRequest(f.d.getTicketCategory).then(e=>{e&&(this.ticketCategories=e.data.results,this.ticketCreateForm.patchValue({category:this.ticketCategories[0].id}))})}getVehicleBrands(e){this.vehicleBrandList=[],0!=this.vehicleInformation.controls.vehicle_type.value&&this.crud.getRequest(`${f.d.getVehicleBrandList}${this.vehicleInformation.controls.vehicle_type.value}`).then(o=>{o&&(this.vehicleBrandList=o,this.vehicleBrandList=this.sort(this.vehicleBrandList,"brand_name"),this.vehicleBrandList.push({id:0,brand_name:"Other"}),e&&this.vehicleBrandList.forEach(a=>{a.brand_name==this.vehDetail?.vehicle_make&&(this.vehicleInformation.controls.vehicle_make.setValue(a.id),this.getBrandModel(!0))}))})}getBrandModel(e){0!=this.vehicleInformation.controls.vehicle_make.value&&this.crud.getRequest(`${f.d.getBrandModal}${this.vehicleInformation.controls.vehicle_make.value}`).then(o=>{o&&(this.modelList=o,this.modelList=this.sort(this.modelList,"model_name"),this.modelList.push({id:0,model_name:"Other",file_key_credit:1}),e&&this.modelList.forEach(a=>{a.model_name==this.vehDetail?.model&&(this.vehicleInformation.controls.model.setValue(a.id),console.log(a.id,this.vehDetail.model,"kkkkkkkkkkkkkkkkkkkkk"),this.getVehicleControlList(!0))}))})}otherVehicleDetailBoxController(e){var i={id:0,model_name:"Other",file_key_credit:1};"model"!=e&&this.modelList.push(i),"vehicleType"==e?(this.vehicleBrandList=[],this.modelList=[],this.showOtherVehicleType=0==this.vehicleInformation.value.vehicle_type,this.showOtherVehicleMake=!1,this.showOtherModel=!1,this.vehicleBrandList.push({id:0,brand_name:"Other"}),this.modelList.push(i),this.vehicleInformation.controls.other_vehicle_type.setValue(""),this.vehicleInformation.controls.other_vehicle_make.setValue(""),this.vehicleInformation.controls.other_model.setValue(""),this.vehicleInformation.controls.vehicle_make.setValue("Select Vehicle Make"),this.vehicleInformation.controls.model.setValue("Select Vehicle Model")):"vehicleMake"==e?(this.modelList=[],this.showOtherVehicleMake=0==this.vehicleInformation.value.vehicle_make,this.showOtherModel=!1,this.modelList.push(i),this.vehicleInformation.controls.model.setValue("Select Vehicle Model"),this.vehicleInformation.controls.other_vehicle_make.setValue(""),this.vehicleInformation.controls.other_model.setValue("")):"model"==e&&(this.showOtherModel=0==this.vehicleInformation.value.model,this.vehicleInformation.controls.other_model.setValue("")),this.resetEcuBrandVersion(!0)}getTypeCount(){this.crud.getRequest(f.d.getCustomerProfile).then(e=>{localStorage.setItem("userdetails",JSON.stringify(e.data)),this.users=JSON.parse(localStorage.getItem("userdetails")||"")})}getVehicleControlList(e){this.crud.getRequest(`${f.d.getVehicleControlList}${this.vehicleInformation.controls.model.value}`).then(o=>{o&&(this.ecuBrandList=o,this.unique=[],this.uniqueECUBrand=[],this.unique=this.ecuBrandList.filter(i=>!this.uniqueECUBrand.includes(i.ecu_brand)&&(this.uniqueECUBrand.push(i.ecu_brand),!0)),this.unique=this.sort(this.unique,"ecu_brand"),e&&this.autoEcuBrandVersionSet())}),e||this.resetEcuBrandVersion(!0)}setFuelModel(e){this.newECU_versionList=[];var o="";this.ecuBrandList.forEach(l=>{console.log(this.ecuInformation.value.ecu_brand,l,"element.id"),l.id==this.ecuInformation.value.ecu_brand&&(o=l.ecu_brand)}),this.ecuBrandList.forEach(l=>{l.ecu_brand==o&&l.fuel_type==this.engineInformation.controls.fuel_type.value?this.newECU_versionList.push(l):l.ecu_brand!=o||"Petrol"!=l.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?l.ecu_brand==o&&("Diesel"==l.fuel_type||"Diesel Hybrid"==l.fuel_type)&&("Diesel"==this.engineInformation.controls.fuel_type.value||"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value)&&this.newECU_versionList.push(l):this.newECU_versionList.push(l)});var i=this.newECU_versionList;this.newECU_versionList=[],i.forEach(l=>{l.ecu_type==this.ecuInformation.value.control_unit&&this.newECU_versionList.push(l)}),this.newECU_versionList=this.sort(this.newECU_versionList,"ecu_version"),this.newECU_versionList.push({ecu_version:"Other"}),e||(this.ecuInformation.controls.ecu_version.setValue("Select ECU Version"),this.ecuInformation.controls.other_ecu_version.setValue(""),this.ecuInformation.controls.other_ecu_brand.setValue(""),this.showEcuVersion=!1),e&&(this.ecuInformation.controls.ecu_version.setValue(this.vehDetail?.ecu_version),this.vehDetail?.other_fields&&(this.other_field=this.vehDetail?.other_fields.split(","),this.other_field.forEach(l=>{"ecu_version"==l&&(this.showEcuVersion=!0,this.ecuInformation.controls.other_ecu_version.setValue(this.vehDetail?.ecu_version),this.ecuInformation.controls.ecu_version.setValue("Other"))})))}resetEcuBrandVersion(e){this.ecuInformation.controls.ecu_brand.setValue("Select ECU Brand"),this.ecuInformation.controls.other_ecu_brand.setValue(""),this.ecuInformation.controls.other_control_unit.setValue(""),this.ecuInformation.controls.ecu_version.setValue("Select ECU Version"),this.ecuInformation.controls.other_ecu_version.setValue(""),this.showEcuBrand=!1,this.showEcuVersion=!1,this.newECU_versionList=[],e&&(this.engineInformation.controls.fuel_type.setValue("Select Fuel Type"),this.ecuInformation.controls.control_unit.setValue("Select Control Unit"),this.engineInformation.controls.other_fuel_type.setValue(""),this.uniqueBrands=[])}resetCtrlUnit(){this.ecuInformation.controls.control_unit.setValue("Select Control Unit"),this.ecuInformation.controls.other_control_unit.setValue(""),this.uniqueBrands=[],this.resetEcuBrandVersion(!1)}selectAddFun(e){if(this.selectAdditionalFun[e]=!this.selectAdditionalFun[e],this.selectAdditionalFun[e]&&"Other"==this.additionalFunctionList[e]?this.showAddiInfoOtherBox=!0:!this.selectAdditionalFun[e]&&"Other"==this.additionalFunctionList[e]&&(this.showAddiInfoOtherBox=!1),this.selectAdditionalFun[e]){this.a.push(this.additionalFunctionList[e]);var o=this.additionalInformation.value.additional_function;this.a.forEach(i=>{this.additionalInformation.patchValue({additional_function:o+(this.additionalInformation.value.additional_function.length>0?", ":"")+i})})}else{this.additionalInformation.controls.additional_function.setValue("");const i=this.a.indexOf(this.additionalFunctionList[e]);i>-1&&this.a.splice(i,1),this.a.forEach(a=>{this.additionalInformation.patchValue({additional_function:this.additionalInformation.value.additional_function+(this.additionalInformation.value.additional_function.length>0?", ":"")+a})})}}getTuningRequired(e){if(!e)if(this.newTuningRequiredList=[],"Gasoline Hybrid"==this.engineInformation.controls.fuel_type.value||"Gasoline"==this.engineInformation.controls.fuel_type.value){for(var o in this.tuningRequiredList={...this.vehicleDetails.tuning_required.business.gasoline,...this.vehicleDetails.tuning_required.individual.gasoline},this.tuningRequiredList)this.newTuningRequiredList.push({value:o,name:this.tuningRequiredList[o]});this.tuningRequiredList=this.newTuningRequiredList,console.log(this.tuningRequiredList,"tuning required list/////////////"),this.additionalFunctionList=this.vehicleDetails.additional_functions.gasoline,this.showAdditonalFunction=!0;for(let u=0;u<this.additionalFunctionList.length;u++)this.selectAdditionalFun[u]=!1}else if("Diesel Hybrid"==this.engineInformation.controls.fuel_type.value||"Diesel"==this.engineInformation.controls.fuel_type.value){for(var o in this.tuningRequiredList={...this.vehicleDetails.tuning_required.business.gasoline,...this.vehicleDetails.tuning_required.individual.gasoline},this.tuningRequiredList)this.newTuningRequiredList.push({value:o,name:this.tuningRequiredList[o]});this.tuningRequiredList=this.newTuningRequiredList,this.additionalFunctionList=this.vehicleDetails.additional_functions.diesel,console.log(this.tuningRequiredList,"tuning required list////////////#################/"),this.showAdditonalFunction=!0;for(let u=0;u<this.additionalFunctionList.length;u++)this.selectAdditionalFun[u]=!1}else this.tuningRequiredList=[],this.tuningRequiredList.push({value:"NO TUNE",name:"NO TUNE"}),this.showAdditonalFunction=!1;this.newUniqueEcuBrandList=[],this.ecuBrandList.forEach(u=>{"Petrol"!=u.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value||"Diesel"==this.engineInformation.controls.fuel_type.value?("Diesel"==u.fuel_type||"Diesel Hybrid"==u.fuel_type)&&this.newUniqueEcuBrandList.push(u):u.fuel_type==this.engineInformation.controls.fuel_type.value&&this.newUniqueEcuBrandList.push(u):this.newUniqueEcuBrandList.push(u)}),this.uniqueBrands=Object.values(this.newUniqueEcuBrandList.reduce((u,_)=>(u[_.ecu_brand]=_,u),{}));var l=this.uniqueBrands;if(this.uniqueBrands=[],l.forEach(u=>{u.ecu_type==this.ecuInformation.value.control_unit&&this.uniqueBrands.push(u)}),this.uniqueBrands.length>0?(this.editEcuBrandVesrsion=!1,this.showEcuBrand=!1,this.showEcuVersion=!1,this.ecuInformation.controls.other_ecu_brand.setValue(""),this.ecuInformation.controls.other_ecu_version.setValue(""),this.uniqueBrands.push({id:0,ecu_brand:"Other"})):(this.showEcuBrand=!1,this.showEcuVersion=!1,this.editEcuBrandVesrsion=!0,this.uniqueBrands.push({id:0,ecu_brand:"Other"}),e||this.ecuInformation.controls.ecu_brand.setValue("Select ECU Brand"),this.newECU_versionList=[],this.newECU_versionList.push({ecu_version:"Other"}),this.ecuInformation.controls.ecu_version.setValue("Select ECU Version")),!this.editEcuBrandVesrsion){this.newECU_versionList=[];var h="";this.ecuBrandList.forEach(_=>{_.id==this.ecuInformation.value.ecu_brand&&(h=_.ecu_brand)}),this.ecuBrandList.forEach(_=>{_.ecu_brand==h&&_.fuel_type==this.engineInformation.controls.fuel_type.value?this.newECU_versionList.push(_):_.ecu_brand!=h||"Petrol"!=_.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?_.ecu_brand==h&&("Diesel"==_.fuel_type||"Diesel Hybrid"==_.fuel_type)&&("Diesel"==this.engineInformation.controls.fuel_type.value||"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value)&&this.newECU_versionList.push(_):this.newECU_versionList.push(_)}),this.newECU_versionList=this.sort(this.newECU_versionList,"ecu_version"),this.newECU_versionList.push({ecu_version:"Other"})}e?(this.ecuInformation.controls.ecu_brand.setValue(this.vehDetail?.ecu_brand),this.uniqueBrands.forEach(u=>{u.ecu_brand==this.vehDetail?.ecu_brand&&this.ecuInformation.controls.ecu_brand.setValue(u.id)}),this.vehDetail?.other_fields&&(this.other_field=this.vehDetail?.other_fields.split(","),this.other_field.forEach(u=>{"ecu_brand"==u&&(this.showEcuBrand=!0,this.ecuInformation.controls.other_ecu_brand.setValue(this.vehDetail?.ecu_brand),this.ecuInformation.controls.ecu_brand.setValue(0))})),this.setFuelModel(!0)):(this.engineInformation.controls.other_fuel_type.setValue(""),this.resetEcuBrandVersion(!1))}ctrlUnitChange(){}showOtherEcuBrand_version(e){"brand"==e&&"0"==this.ecuInformation.value.ecu_brand?this.showEcuBrand=!0:"brand"==e&&"0"!=this.ecuInformation.value.ecu_brand?(this.showEcuBrand=!1,this.showEcuVersion=!1):"version"==e&&"Other"==this.ecuInformation.value.ecu_version?this.showEcuVersion=!0:"version"==e&&"Other"!=this.ecuInformation.value.ecu_version&&(this.showEcuVersion=!1)}markAllControlsAsTouched(e){Object.values(e.controls).forEach(o=>{o.markAsTouched(),o instanceof r.cw&&this.markAllControlsAsTouched(o)})}areFormsValid(){(this.ecuInformation.invalid||this.vehicleInformation.invalid||this.engineInformation.invalid||this.additionalInformation.invalid)&&(this.ecuInformation.markAllAsTouched(),this.vehicleInformation.markAllAsTouched(),this.engineInformation.markAllAsTouched(),this.additionalInformation.markAllAsTouched(),console.log(this.ecuInformation,this.vehicleInformation,this.engineInformation,this.additionalInformation))}submitForm(e){if(this.areFormsValid(),this.formData=new FormData,this.formData3=new FormData,"finalSubmit"==e)if(this.showSelectError="Select Tuning Tool"==this.vehicleInformation.value.tuning_tool_used||"Select File Type"==this.vehicleInformation.value.file_type||"Select Vehicle Year"==this.vehicleInformation.value.vehicle_year||"Select Transmission"==this.engineInformation.value.transmission||"Select Mileage Type"==this.engineInformation.value.mileage_type||"Select Control Unit"==this.ecuInformation.value.control_unit||"Select Tuning Required"==this.additionalInformation.value.tuning_required||"Select Your Country"==this.additionalInformation.value.country,this.acceptTermBusi&&this.vehicleInformation.valid&&this.engineInformation.valid&&0==this.showSelectError){this.vehicleTypes&&this.vehicleTypes.forEach(a=>{this.vehicleInformation.controls.vehicle_type.value==a.id&&(this.formData.append("vehicle_type","Other"==a.name?this.vehicleInformation.controls.other_vehicle_type.value:a.name),this.formData3.append("vehicle_type",a.name),"Other"==a.name&&(this.other_fields="vehicle_type"))}),this.vehicleBrandList&&this.vehicleBrandList.forEach(a=>{this.vehicleInformation.controls.vehicle_make.value==a.id&&(this.formData.append("vehicle_make","Other"==a.name?this.vehicleInformation.controls.other_vehicle_make.value:a.brand_name),this.formData3.append("vehicle_make",a.brand_name),"Other"==a.brand_name&&(this.other_fields=this.other_fields?this.other_fields+",vehicle_make":"vehicle_make"))}),this.modelList&&this.modelList.forEach(a=>{this.vehicleInformation.controls.model.value==a.id&&(this.formData.append("model","Other"==a.name?this.vehicleInformation.controls.other_model.value:a.model_name),this.formData3.append("model",a.model_name),"Other"==a.model_name&&(this.other_fields=this.other_fields?this.other_fields+",model":"model"))});var o="";0==this.editEcuBrandVesrsion?this.ecuBrandList.forEach(a=>{a.id==this.ecuInformation.value.ecu_brand&&(o=a.ecu_brand)}):o=this.ecuInformation.value.ecu_brand;let i="";i=""!=this.engineInformation.controls.engine_size_deci.value?`${this.engineInformation.controls.engine_size.value}.${this.engineInformation.controls.engine_size_deci.value}`:`${this.engineInformation.controls.engine_size.value}.0`,this.formData.append("ecu_brand",this.showEcuBrand?this.ecuInformation.value.other_ecu_brand:o),this.showEcuBrand&&(this.other_fields=this.other_fields?this.other_fields+",ecu_brand":"ecu_brand"),this.formData.append("ecu_version",this.showEcuVersion?this.ecuInformation.value.other_ecu_version:this.ecuInformation.value.ecu_version),this.formData3.append("ecu_brand",o),this.formData3.append("ecu_version",this.ecuInformation.value.ecu_version),this.showEcuVersion&&(this.other_fields=this.other_fields?this.other_fields+",ecu_version":"ecu_version"),this.formData.append("file_key_credit",this.onlyFileKeyCredit?this.fileCreditRequired:0),this.formData.append("function_credit",this.onlyFuntionKeyCredit?this.functionCreditRequired:0),this.formData.append("customer_first_name",this.vehicleInformation.controls.customer_first_name.value),this.formData.append("customer_last_name",this.vehicleInformation.controls.customer_last_name.value),this.formData.append("vehicle_registration",this.vehicleInformation.controls.vehicle_registration.value),this.formData.append("vehicle_year",this.vehicleInformation.controls.vehicle_year.value),this.formData.append("vehicle_VIN",this.vehicleInformation.controls.vehicle_VIN.value),this.formData.append("engine_size",i),this.formData.append("tuning_tool_used","Other"==this.vehicleInformation.controls.tuning_tool_used.value?this.vehicleInformation.controls.other_tuning_tool_used.value:this.vehicleInformation.controls.tuning_tool_used.value),this.formData3.append("tuning_tool_used",this.vehicleInformation.controls.tuning_tool_used.value),"Other"==this.vehicleInformation.controls.tuning_tool_used.value&&(this.other_fields=this.other_fields?this.other_fields+",tuning_tool_used":"tuning_tool_used"),this.formData.append("transmission","Other"==this.engineInformation.controls.transmission.value?this.engineInformation.controls.other_transmission.value:this.engineInformation.controls.transmission.value),this.formData3.append("transmission",this.engineInformation.controls.transmission.value),"Other"==this.engineInformation.controls.transmission.value&&(this.other_fields=this.other_fields?this.other_fields+",transmission":"transmission"),this.formData.append("fuel_type","Other"==this.engineInformation.controls.fuel_type.value?this.engineInformation.controls.other_fuel_type.value:this.engineInformation.controls.fuel_type.value),this.formData3.append("fuel_type",this.engineInformation.controls.fuel_type.value),"Other"==this.engineInformation.controls.fuel_type.value&&(this.other_fields=this.other_fields?this.other_fields+",fuel_type":"fuel_type"),this.formData.append("mileage_type",this.engineInformation.controls.mileage_type.value),this.formData.append("mileage",this.engineInformation.controls.mileage.value),this.formData.append("control_unit","Other"==this.ecuInformation.controls.control_unit.value?this.ecuInformation.controls.other_control_unit.value:this.ecuInformation.controls.control_unit.value),this.formData3.append("control_unit",this.ecuInformation.controls.control_unit.value),"Other"==this.ecuInformation.controls.control_unit.value&&(this.other_fields=this.other_fields?this.other_fields+",control_unit":"control_unit"),this.formData.append("tuning_required",this.additionalInformation.controls.tuning_required.value),this.formData.append("country",this.additionalInformation.controls.country.value),this.formData.append("file_type",this.vehicleInformation.controls.file_type.value),this.formData.append("additional_info",this.additionalInformation.controls.additional_info.value),this.formData3.append("additional_info",this.additionalInformation.controls.additional_info.value),this.formData.append("additional_function","Other"==this.additionalInformation.controls.additional_function.value?this.additionalInformation.controls.other_additional_function.value:this.additionalInformation.controls.additional_function.value),this.formData3.append("additional_function",this.additionalInformation.controls.additional_function.value),this.file&&this.formData.append("tuning_file",this.file),"Other"==this.additionalInformation.controls.additional_function.value&&(this.other_fields=this.other_fields?this.other_fields+",additional_function":"additional_function"),this.formData.append("other_fields",this.other_fields),this.ticketId&&this.formData.append("ticket_id",this.ticketId),this.checkOtherCondition(a=>{a&&this.crud.postRequest(a,this.formData).then(d=>{d&&(this.toastr.success(d.message),this.route.navigate(["/admin/fileservice"],{queryParams:{id:d.data.request_id}}))})})}else this.markAllControlsAsTouched(this.engineInformation),this.markAllControlsAsTouched(this.vehicleInformation),this.acceptTermCondCount=this.acceptTermCondCount+1,this.toastr.error("Please fill all the required field.")}checkOtherCondition(e){let o=0;this.formData3.forEach((a,l)=>{("other"==a||"Other"==a||"OTHER"==a)&&(o=1)}),1==o?(this.toastr.error("Unable to submit the file due to incomplete selection in other fields."),e(!1)):e("file/service/request/create")}fileUpload(e){if(this.file=e.target.files[0],this.fileName=this.file.name,e.target.files&&e.target.files[0]){const o=e.target.files[0];(new FileReader).readAsDataURL(o)}}counter(e){return new Array(e)}ticketCreateFormSubmit(){this.ticketFormData.append("subject",this.ticketCreateForm.value.subject),this.ticketFormData.append("category",this.ticketCreateForm.value.category),this.ticketFormData.append("description",this.ticketCreateForm.value.description),this.crud.postRequest(`${f.d.createTicket}`,this.ticketFormData).then(e=>{e&&this.route.navigateByUrl("/file-service/file-services")})}buyNow(){localStorage.setItem("buyItemDetail",JSON.stringify({vehicleInfo:{customer_first_name:this.vehicleInformation.controls.customer_first_name.value,customer_last_name:this.vehicleInformation.controls.customer_last_name.value,vehicle_type:this.vehicleInformation.controls.vehicle_type.value,other_vehicle_type:this.vehicleInformation.controls.other_vehicle_type.value,vehicle_make:this.vehicleInformation.controls.vehicle_make.value,other_vehicle_make:this.vehicleInformation.controls.other_vehicle_make.value,model:this.vehicleInformation.controls.model.value,other_model:this.vehicleInformation.controls.other_model.value,vehicle_registration:this.vehicleInformation.controls.vehicle_registration.value,vehicle_year:this.vehicleInformation.controls.vehicle_year.value,vehicle_VIN:this.vehicleInformation.controls.vehicle_VIN.value,file_type:this.vehicleInformation.controls.file_type.value,tuning_tool_used:this.vehicleInformation.controls.tuning_tool_used.value,other_tuning_tool_used:this.vehicleInformation.controls.other_tuning_tool_used.value},engineInfo:{engine_size:this.engineInformation.controls.engine_size.value,engine_size_deci:this.engineInformation.controls.engine_size_deci.value,transmission:this.engineInformation.controls.transmission.value,other_transmission:this.engineInformation.controls.other_transmission.value,fuel_type:this.engineInformation.controls.fuel_type.value,other_fuel_type:this.engineInformation.controls.other_fuel_type.value,mileage_type:this.engineInformation.controls.mileage_type.value,mileage:this.engineInformation.controls.mileage.value},ecuInfo:{ecu_brand:this.ecuInformation.controls.ecu_brand.value,ecu_version:this.ecuInformation.controls.ecu_version.value,control_unit:this.ecuInformation.controls.control_unit.value},additionalInfo:{country:this.additionalInformation.controls.country.value,additional_function:this.additionalInformation.controls.additional_function.value,other_additional_function:this.additionalInformation.controls.other_additional_function.value,tuning_required:this.additionalInformation.controls.tuning_required.value,additional_info:this.additionalInformation.controls.additional_info.value},additionalFuncArray:this.a})),this.route.navigate(["/credit/buy-credit"],{queryParams:{type:this.onlyFileKeyCredit?"file credit":"function credit"}})}acceptTermCond(){this.acceptTermCondCount=this.acceptTermCondCount+1,this.acceptTermBusi=!this.acceptTermBusi}resetForm(){this.vehicleInformation.controls.customer_first_name.setValue(""),this.vehicleInformation.controls.customer_last_name.setValue(""),this.vehicleInformation.controls.vehicle_type.setValue("Select Vehicle Type"),this.vehicleInformation.controls.other_vehicle_type.setValue(""),this.vehicleInformation.controls.vehicle_make.setValue("Select Vehicle Make"),this.vehicleInformation.controls.other_vehicle_make.setValue(""),this.vehicleInformation.controls.model.setValue("Select Vehicle Model"),this.vehicleInformation.controls.other_model.setValue(""),this.vehicleInformation.controls.vehicle_registration.setValue(""),this.vehicleInformation.controls.vehicle_year.setValue("Select Vehicle Year"),this.vehicleInformation.controls.vehicle_VIN.setValue(""),this.vehicleInformation.controls.file_type.setValue("Select File Type"),this.vehicleInformation.controls.tuning_tool_used.setValue("Select Tuning Tool"),this.vehicleInformation.controls.other_tuning_tool_used.setValue(""),this.engineInformation.controls.engine_size.setValue(""),this.engineInformation.controls.transmission.setValue("Select Transmission"),this.engineInformation.controls.other_transmission.setValue(""),this.engineInformation.controls.fuel_type.setValue("Select Fuel Type"),this.engineInformation.controls.other_fuel_type.setValue(""),this.engineInformation.controls.mileage_type.setValue("Select Mileage Type"),this.engineInformation.controls.mileage.setValue(""),this.ecuInformation.controls.ecu_brand.setValue("Select ECU Brand"),this.ecuInformation.controls.ecu_version.setValue("Select ECU Version"),this.ecuInformation.controls.control_unit.setValue("Select Control Unit"),this.ecuInformation.controls.other_control_unit.setValue(""),this.additionalInformation.controls.additional_function.setValue(""),this.additionalInformation.controls.other_additional_function.setValue(""),this.additionalInformation.controls.tuning_required.setValue("Select Tuning Required"),this.additionalInformation.controls.additional_info.setValue(""),this.showAdditonalFunction=!1,this.additionalFunctionList=[],this.fileName="",this.formData.delete("tuning_file")}moveOtherInLast(e,o){let i=e.indexOf(o);-1!==i&&(e.splice(i,1),e.push("Other"))}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(Fi.v),t.Y36(M.I),t.Y36(g.gz),t.Y36(r.qu),t.Y36(A._W),t.Y36(g.F0),t.Y36(q.Dx),t.Y36(z.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-request-file"]],decls:19,vars:3,consts:[[1,"file-service-form"],[1,"file-service-inner"],[1,"formFields"],[1,"d-flex","justify-content-between","align-items-center"],[2,"text-align","left"],["routerLink","/admin/tickets",1,"backBtn"],["aria-hidden","true",1,"fa","fa-long-arrow-left"],[1,"d-flex"],["for","",2,"font-weight","600"],[4,"ngIf"],[3,"formGroup"],[1,"form-inner"],["type","text","id","lname","placeholder","Enter Associated Customer First Name","formControlName","customer_first_name",1,"form-control"],["type","text","id","lname","placeholder","Enter Associated Customer Last Name","formControlName","customer_last_name",1,"form-control"],["for","vehicle",1,"form-label"],["formControlName","vehicle_type",1,"form-select",3,"change"],["disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[3,"click",4,"ngIf"],["formControlName","vehicle_make",1,"form-select",3,"change"],["formControlName","model",1,"form-select",3,"change"],["type","text","id","vehReg","placeholder","Vehicle Registration","formControlName","vehicle_registration",1,"form-control"],["formControlName","vehicle_year",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","vehVin","placeholder","Vehicle VIN","formControlName","vehicle_VIN",1,"form-control"],["formControlName","file_type",1,"form-select"],[3,"click"],["formControlName","tuning_tool_used",1,"form-select",3,"change"],[1,"mt-3",2,"text-align","left"],[1,"otherCase"],[1,"form-label"],[2,"display","flex","flex-direction","row","gap","30px","align-items","center"],[2,"width","50%"],["type","number","appRestrictEnumber","","formControlName","engine_size","placeholder","In litres",1,"form-control"],["class","text-danger","style","width: 100%; display: block; text-align: left;",4,"ngIf"],[1,"ldot"],["type","number","appRestrictEnumber","","placeholder","Decimal","formControlName","engine_size_deci",1,"form-control"],[1,"otherCase","fullWidth"],["formControlName","transmission",1,"form-select"],["class","otherCase",4,"ngIf"],["formControlName","fuel_type",1,"form-select",3,"change"],[1,"mt-3",2,"text-align","left","width","100%","border-bottom","1px solid rgb(236, 232, 232)","padding-bottom","15px"],["formControlName","mileage_type",1,"form-select"],["type","number","appRestrictEnumber","","placeholder","Enter Mileage","formControlName","mileage",1,"form-control"],["formControlName","control_unit",1,"form-select",3,"change"],["formControlName","ecu_version",1,"form-select",3,"change"],["disabled","","value",""],["class","mt-4",4,"ngIf"],[1,"otherCase","fullWidth",3,"click"],["formControlName","country",1,"form-control"],["selected","","disabled",""],["class","text-danger","style","top: 48px !important;",4,"ngIf"],[1,"otherCase","fullWidth",2,"margin-top","10px !important",3,"click"],["formControlName","tuning_required",1,"form-select"],["class","otherCase","style","margin-top: 10px !important;",4,"ngIf"],["class","otherCase","click","showMultiselect = false",4,"ngIf"],[1,"w100",2,"margin-top","10px !important",3,"click"],["for",""],["formControlName","additional_info","placeholder","Please list any additional information related to your file. For any DTC removal you must list the DTC and its full description here.",1,"form-control"],[1,"w100","mt-4"],["for","",3,"click"],[1,"reldiv"],["type","file",1,"form-control",3,"change"],[1,"text-center","termcondition",2,"margin","0px","align-items","center !important"],["target","_blank",3,"href"],["title","Download","aria-hidden","true",1,"fa","fa-download"],[2,"justify-content","center","margin-top","10px"],["type","checkbox",3,"click"],["routerLink","/terms-and-conditions","target","_blank"],["target","_blank","routerLink","/privacy"],["click","showMultiselect = false",1,"btnDiv",2,"justify-content","center !important"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[3,"disabled","value"],[1,"text-danger"],["type","text","readonly","","formControlName","other_vehicle_type","placeholder","Enter Vehicle Type",1,"form-control","mt-2"],["type","text","readonly","","formControlName","other_vehicle_make","placeholder","Enter Vehicle Make",1,"form-control","mt-2"],["type","text","readonly","","formControlName","other_model","placeholder","Enter Vehicle Model",1,"form-control","mt-2"],[3,"value"],["type","text","readonly","","formControlName","other_tuning_tool_used","placeholder","Enter Tuning Tool",1,"form-control","mt-2"],[1,"text-danger",2,"width","100%","display","block","text-align","left"],["type","text","readonly","","formControlName","other_transmission","placeholder","Enter Transmission ",1,"form-control","mt-2"],["type","text","readonly","","formControlName","other_fuel_type","placeholder","Enter Fuel Type",1,"form-control","mt-2"],["type","text","readonly","","formControlName","other_control_unit","placeholder","Enter Control Unit",1,"form-control","mt-2"],["formControlName","ecu_brand",1,"form-select",3,"change"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"mt-4"],["type","text","readonly","","formControlName","other_ecu_brand","placeholder","Enter ECU Brand",1,"form-control","mt-2"],["type","text","readonly","","formControlName","other_ecu_version","placeholder","Enter ECU Version",1,"form-control","mt-2"],["width","20px","alt","",3,"src"],[1,"text-danger",2,"top","48px !important"],[1,"otherCase",2,"margin-top","10px !important"],["click","showMultiselect = false","for","password"],[1,"additionalFucntion",2,"padding-top","18px !important"],[4,"ngFor","ngForOf"],["type","checkbox","name","","id","",3,"checked","click"],["click","showMultiselect = false",1,"otherCase"],["type","text","readonly","","formControlName","other_additional_function","placeholder","Enter Additional Function",1,"form-control","mt-2"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Vehicle information"),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"i",6),t.qZA()(),t.TgZ(8,"div",7)(9,"label",8),t._uU(10,"File Request : "),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",8),t._uU(14,"Ticket Id : "),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.qZA()(),t._UZ(17,"hr"),t.YNc(18,Un,224,49,"div",9),t.qZA()()()),2&o&&(t.xp6(12),t.hij("",null==i.vehDetail?null:i.vehDetail.request_id,", \xa0 \xa0"),t.xp6(4),t.Oqu(i.ticketId),t.xp6(2),t.Q6J("ngIf","form1"==i.tab))},dependencies:[p.sg,p.O5,g.rH,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,I.w9,I.jq],styles:['.file-service-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:var(--font-size-24) var(--font-size-20);background-color:#fff}.file-service-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;margin-bottom:var(--font-size-20)}.ldot[_ngcontent-%COMP%]{width:var(--font-size-5);height:var(--font-size-5);background-color:#000;border-radius:50%}.w100[_ngcontent-%COMP%]{width:100%!important}.w100[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:var(--font-size-90);font-size:var(--font-size-12);padding:var(--font-size-12)}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]{width:100%;height:var(--width-150);border:1px dashed #EBEBED;border-radius:var(--font-size-12);position:relative;display:flex;justify-content:center;align-items:center!important;flex-direction:column}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-16);line-height:var(--font-size-20);font-family:roboto;margin-bottom:0}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-16);font-family:verdana-bold}.formFields[_ngcontent-%COMP%]{padding:var(--font-size-20);padding-bottom:var(--font-size-60)}.formFields[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-20)}.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:var(--font-size-50);width:100%!important;gap:var(--font-size-20)}.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.fbtn[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16);background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:1px solid #394A9C}.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.sbtn[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16);background:#fff;border-radius:var(--font-size-12);color:#474554;border:1px solid #474554}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .otherCase[_ngcontent-%COMP%]{width:100%!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .fullWidth[_ngcontent-%COMP%]{position:relative}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .fullWidth[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;top:68px;left:180px}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:3%}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;flex-direction:column;margin:var(--font-size-20) 0px;align-items:flex-start;text-align:left}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:0!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12);display:block;text-align:left;width:25%}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16);margin:var(--font-size-20) 0px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:0}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;font-size:var(--font-size-16);position:relative;width:30%}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";background-color:#fff;width:var(--font-size-18);height:var(--font-size-18);border-radius:50%;border:2px solid #176B6D;top:calc(-1 * var(--font-size-22));position:absolute;left:var(--padding-104);background-size:var(--font-size-12);background-position:center;background-repeat:no-repeat}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background-image:url(smallOk.101fc7c8e1f92d27.png);background-color:#176b6d;top:calc(-1 * var(--font-size-22))}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{background-color:#a7aeb6;top:calc(-1 * var(--font-size-15));left:calc(-1 * var(--font-size-36));right:calc(-1 * var(--font-size-36));height:2px;position:absolute;content:""}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:before{right:var(--font-size-40)}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{background-color:#176b6d;top:calc(-1 * var(--font-size-15));left:34px;right:calc(-1 * var(--font-size-36));height:2px;position:absolute;content:""}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left!important}.responsiveCredit[_ngcontent-%COMP%]{width:100%;overflow:auto}.creditRequired[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:var(--font-size-20);align-items:center}.creditRequired[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-32);line-height:150%;text-align:center;color:#3f424b}.creditRequired[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-60);height:var(--font-size-48);object-fit:cover}.creditbl[_ngcontent-%COMP%]{border-collapse:collapse;margin:var(--font-size-30) 0px var(--font-size-40) 0px;width:100%;max-width:100%}.creditbl[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #CDCDCD;text-align:left;padding:var(--font-size-12) var(--font-size-14);font-size:var(--font-size-14);font-family:roboto600}.creditbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:var(--font-size-12) var(--font-size-14);font-size:var(--font-size-14);font-family:roboto600;border:1px solid #CDCDCD;text-align:left;font-weight:400}.modal-dialog[_ngcontent-%COMP%]{min-width:50%!important}.paynow-btn[_ngcontent-%COMP%]{background-color:#394a9c;padding:var(--font-size-10) var(--font-size-30);font-size:var(--font-size-14);font-family:roboto600;color:#fff!important}hr[_ngcontent-%COMP%]{margin:var(--font-size-10) 0!important}.select-width[_ngcontent-%COMP%]{width:100%!important}@media screen and (max-width: 991px){.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.sbtn[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.fbtn[_ngcontent-%COMP%]{min-width:120px;height:40px;font-size:12px;background:#394A9C;border-radius:10px;color:#fff!important}.btnDiv[_ngcontent-%COMP%]{flex-direction:row!important;gap:12px!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 16px;font-size:12px}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:15px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";top:-22px;width:15px;height:15px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{top:-22px;width:15px;height:15px}.creditbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .creditbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.formFields[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:12px;padding:12px}.w100[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:90px;font-size:10px;padding:12px}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.creditbl[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;white-space:nowrap}}@media screen and (max-width: 767px){.termcondition[_ngcontent-%COMP%]{margin-bottom:10px!important}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:12px;line-height:normal;color:#3f424b;margin-bottom:0;text-align:left;margin-left:10px}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px!important}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;margin:10px 0 5px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:12px;width:100%}.file-service-inner[_ngcontent-%COMP%]{padding:20px 10px}.file-service-form[_ngcontent-%COMP%]{width:100%;margin:auto}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:35px}.breadcrumb[_ngcontent-%COMP%]{padding-bottom:18px}.file-service-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}}@media screen and (max-width: 480px){.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%]{padding-bottom:var(--font-size-64)}}@media screen and (max-width: 390px){.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:10px}.otherCase[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{gap:10px!important}}.add-user-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-16)}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%]{padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48%;margin-bottom:var(--font-size-24);text-align:left}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:var(--width-150)!important}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{width:100%;min-height:var(--width-150)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:var(--font-size-18);padding-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #5367DE;border-radius:2px;text-decoration:none;color:#5367de;margin-right:var(--font-size-12);margin-top:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #6D7886;border-radius:2px;text-decoration:none;color:#6d7886}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   .actiontd[_ngcontent-%COMP%]{margin-bottom:var(--font-size-15)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-30);justify-content:flex-end}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana;color:orange;font-size:var(--font-size-14)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:none}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button.ressetBtn[_ngcontent-%COMP%]{border:1px solid #E3E3E3;border-radius:var(--font-size-10);color:#474554;background-color:#fff}.upload-file[_ngcontent-%COMP%]{width:100%!important}.file-overlay[_ngcontent-%COMP%]{height:var(--width-150);width:100%;position:relative;background:#FFFFFF;border:1px dashed #6F7784;border-radius:8px;text-align:center;padding:var(--font-size-30)}.file-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16);line-height:19px;color:#000;margin-bottom:0}.file-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:19px;color:#000}.file-overlay[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:green;height:100%;position:absolute;opacity:0;left:0;top:0}.mainMulti[_ngcontent-%COMP%]{position:relative}.multipleSelect[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%!important;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:var(--font-size-15);padding:var(--font-size-15) var(--font-size-20);background:white;border:1px solid #ced4da;border-radius:.375rem;box-shadow:#959da533 0 8px 24px;z-index:1}.multipleSelect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-15)}.multipleSelect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0!important}.multipleSelect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0!important;margin-left:var(--font-size-8)!important}.termcondition[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-16);align-items:center}.termcondition[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-top:1px;text-align:left}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:16px;color:#3f424b;margin-bottom:0}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00c0f2}.additionalFucntion[_ngcontent-%COMP%]{padding:.375rem .75rem;border:1px solid #ced4da;border-radius:.375rem;display:flex;width:100%!important;flex-wrap:wrap;margin:auto;flex-direction:row!important;justify-content:flex-start!important}.additionalFucntion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30%!important;gap:10px;display:flex;justify-content:center;align-items:flex-start}.additionalFucntion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;width:100%!important;font-family:verdana-bold;padding-bottom:0}']})}return n})();function Pn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"label",17)(1,"input",18),t.NdJ("change",function(){const a=t.CHM(e).index,l=t.oxw();return t.KtG(l.onChangeTicketStatus(a))}),t.qZA(),t.TgZ(2,"p",19),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()}if(2&n){const e=s.$implicit;t.xp6(1),t.Q6J("checked",e.is_active),t.xp6(2),t.hij(" ",e.ticket_status||"New"," "),t.xp6(2),t.hij(" (",e.count,") ")}}const In=[{path:"",component:Rt,children:[{path:"",component:Et},{path:"view-ticket/:ids/:id",component:Pi},{path:"edit-ticket",component:C},{path:"group-ticket-filter",component:(()=>{class n{constructor(e,o,i,a){this.fb=e,this.toastr=o,this.crud=i,this.ar=a,this.ticketStatus=[],this.ticketIds=[],this.role="",this.type=this.ar.queryParams,this.pageType="Create",this.recentFilterId=this.type._value.id,this.recentFilterId&&(this.pageType="Edit")}ngOnInit(){this.getTicketStatusList()}getTicketStatusList(){this.crud.get("admin/ticket/status/count").subscribe(e=>{e&&(this.ticketStatus=e.count_by_category,this.ticketStatus=this.sort(this.ticketStatus,"ticket_status"),this.ticketStatus.forEach((o,i)=>{this.ticketStatus[i].is_active=!1}))}),this.crud.getRequest(`${m.t.getAdminRolesAndPermission}`).then(e=>{e&&(this.roleList=e.data.results,this.sort(this.roleList,"name"),this.recentFilterId&&this.getFilterGroup())})}getFilterGroup(){this.crud.get(`admin/ticket/group?filter_id=${this.recentFilterId}`).subscribe(e=>{e&&(console.log(e,"res"),this.ticketStatus=e?.data?.filter,this.ticketStatus=this.sort(this.ticketStatus,"ticket_status"),this.role=e?.data?.role_id,this.title=e?.data?.title)})}sort(e,o){return e.sort((i,a)=>{var l=i[o].toUpperCase(),d=a[o].toUpperCase();return l<d?-1:l>d?1:0})}onChangeTicketStatus(e){this.ticketStatus[e].is_active=!this.ticketStatus[e].is_active}saveTicketFilter(){var e=0;if(this.ticketStatus.forEach(o=>{0==o.is_active&&(e+=1)}),this.title)if(e!=this.ticketStatus.length)if(this.recentFilterId)this.editFilter();else{let o={title:this.title,filter:this.ticketStatus};console.log(o,"body payload"),this.crud.postRequest("admin/ticket/group",o).then(i=>{i&&(this.toastr.success(i.message),this.resetFilter())})}else this.toastr.error("Please select atleast one status.");else this.toastr.error("Please fill all the fields.")}editFilter(){this.crud.putRequest("admin/ticket/group",{id:this.recentFilterId,title:this.title,filter:this.ticketStatus}).then(o=>{o&&this.toastr.success(o.message)})}resetFilter(){this.title="",this.role="",this.ticketStatus.forEach((e,o)=>{this.ticketStatus[o].is_active=!1})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(r.qu),t.Y36(A._W),t.Y36(M.I),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-group-ticket-filter"]],decls:24,vars:3,consts:[[1,"ulist-div"],[1,"u-add"],[2,"margin-left","10px"],[1,"u-add-right"],["routerLink","/admin/tickets",1,"backBtn"],["aria-hidden","true",1,"fa","fa-long-arrow-left"],[1,"blockbody",2,"gap","20px"],[1,"d-flex","flex-column","align-items-start"],[1,"form-label"],["type","text","placeholder","Enter Filter Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-column","align-items-start","mt-3"],[1,"form-label",2,"padding-left","25px"],[1,"blockbody"],["class","active d-flex","style","cursor: pointer;",4,"ngFor","ngForOf"],[1,"submitReset","d-flex","justify-content-center","mt-3"],["type","button",1,"ressetBtn",3,"click"],["type","submit",3,"click"],[1,"active","d-flex",2,"cursor","pointer"],["type","checkbox",3,"checked","change"],[1,"mb-0","mx-2"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t._UZ(6,"i",5),t.qZA()()(),t._UZ(7,"hr"),t.TgZ(8,"div")(9,"div",6)(10,"div",7)(11,"label",8),t._uU(12,"Filter Name"),t.qZA(),t.TgZ(13,"input",9),t.NdJ("ngModelChange",function(l){return i.title=l}),t.qZA()()(),t.TgZ(14,"div",10)(15,"label",11),t._uU(16,"Status List"),t.qZA(),t.TgZ(17,"div",12),t.YNc(18,Pn,6,3,"label",13),t.qZA()(),t.TgZ(19,"div",14)(20,"button",15),t.NdJ("click",function(){return i.resetFilter()}),t._uU(21,"Reset"),t.qZA(),t.TgZ(22,"button",16),t.NdJ("click",function(){return i.saveTicketFilter()}),t._uU(23,"Submit"),t.qZA()()()()),2&o&&(t.xp6(3),t.hij("",i.pageType," Filter"),t.xp6(10),t.Q6J("ngModel",i.title),t.xp6(5),t.Q6J("ngForOf",i.ticketStatus))},dependencies:[p.sg,g.rH,r.Fj,r.JJ,r.On],styles:[".blockbody[_ngcontent-%COMP%]{display:grid;justify-content:space-between;flex-wrap:wrap;grid-template-columns:repeat(auto-fill,46%);width:95%;margin:auto}.form-label[_ngcontent-%COMP%]{font-weight:600}.submitReset[_ngcontent-%COMP%]{gap:var(--font-size-30);overflow:auto}.submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:var(--width-150);height:var(--font-size-48);font-size:var(--font-size-16);padding:var(--font-size-10) var(--font-size-20)}.submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:none}.submitReset[_ngcontent-%COMP%] > button.ressetBtn[_ngcontent-%COMP%]{border:1px solid #E3E3E3;border-radius:var(--font-size-10);color:#474554;background-color:#fff}.u-add[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.u-add[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-24);line-height:var(--font-size-30);color:#0e1321}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-18);align-items:center;width:80%;justify-content:end}"]})}return n})()},{path:"request-file/:ids",component:zn}]}];let Fn=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(In),g.Bz]})}return n})();var Dn=c(1267),Ln=c(7309),Vn=c(6090),Nn=c(3311),Sn=c(4954);let Jn=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[p.ez,Q.Rq,Fn,r.u5,r.UX,y.Hi,Y.lN,j.Ps,Dn.c,P.Bb,x.JX,I.A0,L.z8.forRoot(),$.d,Ln.n,Vn.q,Nn.a,Sn.wc.forRoot()]})}return n})()}}]);
//# sourceMappingURL=868.274ae1df3a9b1dc4.js.map