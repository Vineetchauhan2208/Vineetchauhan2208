(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[39],{5143:(at,a,R)=>{"use strict";R.d(a,{v:()=>Y});var r=R(2340),z=R(2560),q=R(8987);let Y=(()=>{class J{constructor(t){this._http=t,this.baseUrl=r.N.baseUrl}getCustomers(t){return this._http.get(this.baseUrl+"/api/v1/admin/customer",{params:t})}getCustomerByUuid(t){return this._http.get(`${this.baseUrl}/api/v1/admin/customer/${t}`)}createFileServiceRequest(t){return this._http.post(`${this.baseUrl}/api/v1/file/service/request`,t)}getFileFormData(){return this._http.get(`${this.baseUrl}/api/v1/file/service/get/file_form_data`)}static#t=this.\u0275fac=function(A){return new(A||J)(z.LFG(q.eN))};static#e=this.\u0275prov=z.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})()},2039:(at,a,R)=>{"use strict";R.r(a),R.d(a,{SupportModule:()=>Ye});var r=R(4666),z=R(2508),q=R(5465),Y=R(6262),J=R(3691),D=R(8347),t=R(2560),A=R(4497),g=R(2595),b=R(4817),x=R(3927),B=R(5143),p=R(196),c=R(8909),P=R(3280),h=R(253),v=R(2957),u=R(8951),s=R(1989),o=R(116),m=R(7787),T=R.t(m,2),w=R(638),I=R.t(w,2);const U=["pdfViewerContainer"];function O(L,st,n){L[st]=n}function N(){return typeof window>"u"}N()||O(T,"verbosity",m.VerbosityLevel.INFOS);var V=(()=>{return(L=V||(V={}))[L.DISABLED=0]="DISABLED",L[L.ENABLED=1]="ENABLED",L[L.ENHANCED=2]="ENHANCED",V;var L})();let S=(()=>{class L{constructor(n,E){if(this.element=n,this.ngZone=E,this.isVisible=!1,this._cMapsUrl=typeof T<"u"?`https://unpkg.com/pdfjs-dist@${m.version}/cmaps/`:null,this._imageResourcesPath=typeof T<"u"?`https://unpkg.com/pdfjs-dist@${m.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=V.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new h.x,this.afterLoadComplete=new t.vpe,this.pageRendered=new t.vpe,this.pageInitialized=new t.vpe,this.textLayerRendered=new t.vpe,this.onError=new t.vpe,this.onProgress=new t.vpe,this.pageChange=new t.vpe(!0),N())return;let y;const nt=m.version;y=window[`pdfWorkerSrc${nt}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${nt}/legacy/build/pdf.worker.min.js`),O(m.GlobalWorkerOptions,"workerSrc",y)}set cMapsUrl(n){this._cMapsUrl=n}set page(n){const E=n=parseInt(n,10)||1;this._pdf&&(n=this.getValidPageNumber(n)),this._page=n,E!==n&&this.pageChange.emit(n)}set renderText(n){this._renderText=n}set renderTextMode(n){this._renderTextMode=n}set originalSize(n){this._originalSize=n}set showAll(n){this._showAll=n}set stickToPage(n){this._stickToPage=n}set zoom(n){n<=0||(this._zoom=n)}get zoom(){return this._zoom}set zoomScale(n){this._zoomScale=n}get zoomScale(){return this._zoomScale}set rotation(n){"number"==typeof n&&n%90==0?this._rotation=n:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(n){this._externalLinkTarget=n}set autoresize(n){this._canAutoResize=Boolean(n)}set fitToPage(n){this._fitToPage=Boolean(n)}set showBorders(n){this._showBorders=Boolean(n)}static getLinkTarget(n){switch(n){case"blank":return w.LinkTarget.BLANK;case"none":return w.LinkTarget.NONE;case"self":return w.LinkTarget.SELF;case"parent":return w.LinkTarget.PARENT;case"top":return w.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const n=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=n?!1===this.isVisible&&null!=n&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(n){if(!N()&&this.isVisible)if("src"in n)this.loadPDF();else if(this._pdf){if("renderText"in n?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:V.DISABLED,this.resetPdfDocument()):"showAll"in n&&(this.setupViewer(),this.resetPdfDocument()),"page"in n){const{page:E}=n;if(E.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,v.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,u.R)(this.destroy$)).subscribe({next:n=>{const E=this._rotation+n.rotate,y=n.getViewport({scale:this._zoom,rotation:E}).width*L.CSS_UNITS;let nt=this._zoom,gt=!0;if(!this._originalSize||this._fitToPage&&y>this.pdfViewerContainer.nativeElement.clientWidth){const xt=n.getViewport({scale:1,rotation:E});nt=this.getScale(xt.width,xt.height),gt=!this._stickToPage}this.pdfViewer._setScale(nt,gt)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const n=L.getLinkTarget(this._externalLinkTarget);return n?{externalLinkTarget:n}:{}}initEventBus(){this.eventBus=function d(L,st){const n=new L.EventBus;return function k(L,st){(0,P.R)(L,"documentload").pipe((0,u.R)(st)).subscribe(()=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(n)}),(0,P.R)(L,"pagerendered").pipe((0,u.R)(st)).subscribe(({pageNumber:n,cssTransform:E,source:y})=>{const nt=document.createEvent("CustomEvent");nt.initCustomEvent("pagerendered",!0,!0,{pageNumber:n,cssTransform:E}),y.div.dispatchEvent(nt)}),(0,P.R)(L,"textlayerrendered").pipe((0,u.R)(st)).subscribe(({pageNumber:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:n}),E.textLayerDiv.dispatchEvent(y)}),(0,P.R)(L,"pagechanging").pipe((0,u.R)(st)).subscribe(({pageNumber:n,source:E})=>{const y=document.createEvent("UIEvents");y.initEvent("pagechanging",!0,!0),y.pageNumber=n,E.container.dispatchEvent(y)}),(0,P.R)(L,"pagesinit").pipe((0,u.R)(st)).subscribe(({source:n})=>{const E=document.createEvent("CustomEvent");E.initCustomEvent("pagesinit",!0,!0,null),n.container.dispatchEvent(E)}),(0,P.R)(L,"pagesloaded").pipe((0,u.R)(st)).subscribe(({pagesCount:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("pagesloaded",!0,!0,{pagesCount:n}),E.container.dispatchEvent(y)}),(0,P.R)(L,"scalechange").pipe((0,u.R)(st)).subscribe(({scale:n,presetValue:E,source:y})=>{const nt=document.createEvent("UIEvents");nt.initEvent("scalechange",!0,!0),nt.scale=n,nt.presetValue=E,y.container.dispatchEvent(nt)}),(0,P.R)(L,"updateviewarea").pipe((0,u.R)(st)).subscribe(({location:n,source:E})=>{const y=document.createEvent("UIEvents");y.initEvent("updateviewarea",!0,!0),y.location=n,E.container.dispatchEvent(y)}),(0,P.R)(L,"find").pipe((0,u.R)(st)).subscribe(({source:n,type:E,query:y,phraseSearch:nt,caseSensitive:gt,highlightAll:xt,findPrevious:St})=>{if(n===window)return;const Mt=document.createEvent("CustomEvent");Mt.initCustomEvent("find"+E,!0,!0,{query:y,phraseSearch:nt,caseSensitive:gt,highlightAll:xt,findPrevious:St}),window.dispatchEvent(Mt)}),(0,P.R)(L,"attachmentsloaded").pipe((0,u.R)(st)).subscribe(({attachmentsCount:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:n}),E.container.dispatchEvent(y)}),(0,P.R)(L,"sidebarviewchanged").pipe((0,u.R)(st)).subscribe(({view:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("sidebarviewchanged",!0,!0,{view:n}),E.outerContainer.dispatchEvent(y)}),(0,P.R)(L,"pagemode").pipe((0,u.R)(st)).subscribe(({mode:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("pagemode",!0,!0,{mode:n}),E.pdfViewer.container.dispatchEvent(y)}),(0,P.R)(L,"namedaction").pipe((0,u.R)(st)).subscribe(({action:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("namedaction",!0,!0,{action:n}),E.pdfViewer.container.dispatchEvent(y)}),(0,P.R)(L,"presentationmodechanged").pipe((0,u.R)(st)).subscribe(({active:n,switchInProgress:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("presentationmodechanged",!0,!0,{active:n,switchInProgress:E}),window.dispatchEvent(y)}),(0,P.R)(L,"outlineloaded").pipe((0,u.R)(st)).subscribe(({outlineCount:n,source:E})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("outlineloaded",!0,!0,{outlineCount:n}),E.container.dispatchEvent(y)})}(n,st),n}(I,this.destroy$),(0,P.R)(this.eventBus,"pagerendered").pipe((0,u.R)(this.destroy$)).subscribe(n=>{this.pageRendered.emit(n)}),(0,P.R)(this.eventBus,"pagesinit").pipe((0,u.R)(this.destroy$)).subscribe(n=>{this.pageInitialized.emit(n)}),(0,P.R)(this.eventBus,"pagechanging").pipe((0,u.R)(this.destroy$)).subscribe(({pageNumber:n})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=n,this.pageChange.emit(n)},100)}),(0,P.R)(this.eventBus,"textlayerrendered").pipe((0,u.R)(this.destroy$)).subscribe(n=>{this.textLayerRendered.emit(n)})}initPDFServices(){this.pdfLinkService=new w.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new w.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:V.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){O(T,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new w.PDFViewer(this.getPDFOptions()):new w.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(n){return n<1?1:n>this._pdf.numPages?this._pdf.numPages:n}getDocumentParams(){const n=typeof this.src;if(!this._cMapsUrl)return this.src;const E={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===n?E.url=this.src:"object"===n&&(void 0!==this.src.byteLength?E.data=this.src:Object.assign(E,this.src)),E}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=m.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=E=>{this.onProgress.emit(E)};const n=this.src;(0,v.D)(this.loadingTask.promise).pipe((0,u.R)(this.destroy$)).subscribe({next:E=>{this._pdf=E,this.lastLoaded=n,this.afterLoadComplete.emit(E),this.resetPdfDocument(),this.update()},error:E=>{this.lastLoaded=null,this.onError.emit(E)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(n,E){const y=this._showBorders?2*L.BORDER_WIDTH:0,nt=this.pdfViewerContainer.nativeElement.clientWidth-y,gt=this.pdfViewerContainer.nativeElement.clientHeight-y;if(0===gt||0===E||0===nt||0===n)return 1;let xt=1;switch(this._zoomScale){case"page-fit":xt=Math.min(gt/E,nt/n);break;case"page-height":xt=gt/E;break;default:xt=nt/n}return this._zoom*xt/L.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){N()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){N()||this.ngZone.runOutsideAngular(()=>{(0,P.R)(window,"resize").pipe((0,s.b)(100),(0,o.h)(()=>this._canAutoResize&&!!this._pdf),(0,u.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return L.CSS_UNITS=96/72,L.BORDER_WIDTH=9,L.\u0275fac=function(n){return new(n||L)(t.Y36(t.SBq),t.Y36(t.R0b))},L.\u0275cmp=t.Xpm({type:L,selectors:[["pdf-viewer"]],viewQuery:function(n,E){if(1&n&&t.Gf(U,5),2&n){let y;t.iGM(y=t.CRH())&&(E.pdfViewerContainer=y.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[t.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(n,E){1&n&&(t.TgZ(0,"div",0,1),t._UZ(2,"div",2),t.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),L})(),Z=(()=>{class L{}return L.\u0275fac=function(n){return new(n||L)},L.\u0275mod=t.oAB({type:L}),L.\u0275inj=t.cJS({}),L})();var j=R(3054);function Q(L,st){1&L&&(t.TgZ(0,"small",42),t._uU(1," Please enter ticket subject. "),t.qZA())}function it(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.s9C("value",n.id),t.xp6(1),t.Oqu(n.name)}}function M(L,st){1&L&&(t.TgZ(0,"small",42),t._uU(1," Please enter ticket description. "),t.qZA())}function e(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"a",50),t.NdJ("click",function(){t.CHM(n);const y=t.oxw().index,nt=t.oxw(2);return t.KtG(nt.previewPdfModal(y))}),t._UZ(1,"i",51),t.qZA()}}function i(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",46),t.YNc(7,e,2,0,"a",47),t.TgZ(8,"a",48),t.NdJ("click",function(){const nt=t.CHM(n).index,gt=t.oxw(2);return t.KtG(gt.removeFile(nt))}),t._UZ(9,"i",49),t.qZA()()()()}if(2&L){const n=st.$implicit;t.xp6(2),t.hij(" ",n.name||"NA"," "),t.xp6(2),t.hij(" ",n.size||"NA"," "),t.xp6(3),t.Q6J("ngIf","application/pdf"==n.type||"image/jpeg"==n.type)}}function l(L,st){if(1&L&&(t.TgZ(0,"div",15)(1,"h5"),t._uU(2,"Attachments"),t.qZA(),t.TgZ(3,"table",44)(4,"thead")(5,"th"),t._uU(6,"File Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8," Size "),t.qZA(),t.TgZ(9,"th"),t._uU(10," Action "),t.qZA()(),t.YNc(11,i,10,3,"tr",45),t.qZA()()),2&L){const n=t.oxw();t.xp6(11),t.Q6J("ngForOf",n.fileList)}}function _(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.createReq())}),t._uU(1,"Submit"),t.qZA()}}function f(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.updateTicket())}),t._uU(1,"Update"),t.qZA()}}function C(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function F(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select vehicle type. "),t.qZA())}function H(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",68),t.NdJ("click",function(){t.CHM(n);const y=t.oxw(2);return t.KtG(y.showMultiselect=!1)}),t._UZ(1,"label",102)(2,"input",110),t.qZA()}}function W(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij("",null==n?null:n.brand_name," ")}}function G(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select vehicle make. "),t.qZA())}function $(L,st){1&L&&(t.TgZ(0,"div"),t._UZ(1,"label",102)(2,"input",111),t.qZA())}function tt(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.model_name)}}function ct(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please enter vehicle model. "),t.qZA())}function ht(L,st){1&L&&(t.TgZ(0,"div"),t._UZ(1,"label",102)(2,"input",112),t.qZA())}function et(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please enter vehicle registration. "),t.qZA())}function rt(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.index,E=t.oxw(2);t.Q6J("value",E.year-n),t.xp6(1),t.hij("",E.year-n," ")}}function ut(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select vehicle year. "),t.qZA())}function dt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please enter vehicle VIN. "),t.qZA())}function lt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select file type. "),t.qZA())}function _t(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function mt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select tuning tool. "),t.qZA())}function ft(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",68),t.NdJ("click",function(){t.CHM(n);const y=t.oxw(2);return t.KtG(y.showMultiselect=!1)}),t._UZ(1,"label",102)(2,"input",113),t.qZA()}}function Pt(L,st){1&L&&(t.TgZ(0,"small",114),t._uU(1," Please enter engine size. "),t.qZA())}function At(L,st){1&L&&(t.TgZ(0,"small",114),t._uU(1," Please enter valid number ex: (1,22). "),t.qZA())}function Ct(L,st){1&L&&(t.TgZ(0,"small",114),t._uU(1," Please enter valid number ex: (1,2). "),t.qZA())}function Ot(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n,"")}}function Lt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select transmission. "),t.qZA())}function Ft(L,st){1&L&&(t.TgZ(0,"div",84),t._UZ(1,"label",102)(2,"input",115),t.qZA())}function wt(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function Rt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select fuel type. "),t.qZA())}function ot(L,st){1&L&&(t.TgZ(0,"div",84),t._UZ(1,"label",102)(2,"input",116),t.qZA())}function X(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function K(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select mileage type. "),t.qZA())}function pt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please enter mileage. "),t.qZA())}function vt(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function bt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select control unit. "),t.qZA())}function yt(L,st){1&L&&(t.TgZ(0,"div",84),t._UZ(1,"label",102)(2,"input",117),t.qZA())}function Dt(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij("",null==n?null:n.ecu_brand," ")}}function Nt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select ecu brand. "),t.qZA())}function zt(L,st){1&L&&(t.TgZ(0,"div",119),t._UZ(1,"input",120),t.qZA())}function Et(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div")(1,"label"),t._uU(2,"ECU Brand"),t.qZA(),t.TgZ(3,"div")(4,"select",118),t.NdJ("change",function(){t.CHM(n);const y=t.oxw(2);return y.setFuelModel(!0),t.KtG(y.showOtherEcuBrand_version("brand"))}),t.TgZ(5,"option",57),t._uU(6,"Select ECU Brand"),t.qZA(),t.YNc(7,Dt,2,2,"option",12),t.qZA(),t.YNc(8,Nt,2,0,"small",58),t.qZA(),t.YNc(9,zt,2,0,"div",92),t.qZA()}if(2&L){const n=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",n.uniqueBrands),t.xp6(1),t.Q6J("ngIf",n.ecuInformation.controls.ecu_brand.touched&&n.ecuInformation.controls.ecu_brand.invalid),t.xp6(1),t.Q6J("ngIf",n.showEcuBrand)}}function Bt(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",null==n?null:n.ecu_version),t.xp6(1),t.hij("",null==n?null:n.ecu_version," ")}}function Ut(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select ecu version. "),t.qZA())}function Vt(L,st){1&L&&(t.TgZ(0,"div",119),t._UZ(1,"input",121),t.qZA())}function Tt(L,st){if(1&L&&(t.TgZ(0,"ng-option",43),t._uU(1),t._UZ(2,"img",122),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",null==n?null:n.country),t.xp6(1),t.hij(" ",null==n?null:n.country," "),t.xp6(1),t.Q6J("src",null==n?null:n.flag,t.LSH)}}function Zt(L,st){1&L&&(t.TgZ(0,"small",123),t._uU(1," Please select country. "),t.qZA())}function Ht(L,st){if(1&L&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.name)}}function Gt(L,st){1&L&&(t.TgZ(0,"small",109),t._uU(1," Please select tuning required. "),t.qZA())}function Jt(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div")(1,"input",127),t.NdJ("click",function(){const nt=t.CHM(n).index,gt=t.oxw(3);return t.KtG(gt.selectAddFun(nt))})("keypress.enter",function(){const nt=t.CHM(n).index,gt=t.oxw(3);return t.KtG(gt.selectAddFun(nt))}),t.qZA(),t.TgZ(2,"label",102),t._uU(3),t.qZA()()}if(2&L){const n=st.$implicit,E=st.index,y=t.oxw(3);t.xp6(1),t.s9C("name",n),t.Q6J("checked",y.selectAdditionalFun[E]),t.xp6(2),t.Oqu(n)}}function qt(L,st){if(1&L&&(t.TgZ(0,"div",124)(1,"label",125),t._uU(2,"Additional Function"),t.qZA(),t.TgZ(3,"div",126),t.YNc(4,Jt,4,3,"div",45),t.qZA()()),2&L){const n=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",n.additionalFunctionList)}}function It(L,st){1&L&&(t.TgZ(0,"div",128),t._UZ(1,"label",102)(2,"input",129),t.qZA())}function jt(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div")(1,"form",53)(2,"div",54)(3,"div")(4,"div")(5,"label",55),t._uU(6,"Vehicle Type"),t.qZA(),t.TgZ(7,"div")(8,"select",56),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return y.getVehicleBrands(),t.KtG(y.otherVehicleDetailBoxController("vehicleType"))}),t.TgZ(9,"option",57),t._uU(10,"Select Vehicle Type"),t.qZA(),t.YNc(11,C,2,2,"option",12),t.qZA(),t.YNc(12,F,2,0,"small",58),t.YNc(13,H,3,0,"div",59),t.qZA()(),t.TgZ(14,"div")(15,"label"),t._uU(16," Vehicle Make"),t.qZA(),t.TgZ(17,"div")(18,"select",60),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return y.getBrandModel(),t.KtG(y.otherVehicleDetailBoxController("vehicleMake"))}),t.TgZ(19,"option",57),t._uU(20,"Select Vehicle Make"),t.qZA(),t.YNc(21,W,2,2,"option",12),t.qZA(),t.YNc(22,G,2,0,"small",58),t.qZA(),t.YNc(23,$,3,0,"div",34),t.qZA()(),t.TgZ(24,"div")(25,"div")(26,"label"),t._uU(27," Vehicle Model"),t.qZA(),t.TgZ(28,"div")(29,"select",61),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return y.getVehicleControlList(),t.KtG(y.otherVehicleDetailBoxController("model"))}),t.TgZ(30,"option",57),t._uU(31,"Select Vehicle Model"),t.qZA(),t.YNc(32,tt,2,2,"option",12),t.qZA(),t.YNc(33,ct,2,0,"small",58),t.qZA(),t.YNc(34,ht,3,0,"div",34),t.qZA(),t.TgZ(35,"div")(36,"label"),t._uU(37,"Vehicle Registration"),t.qZA(),t.TgZ(38,"div"),t._UZ(39,"input",62),t.YNc(40,et,2,0,"small",58),t.qZA()()(),t.TgZ(41,"div")(42,"div")(43,"label"),t._uU(44,"Vehicle Year"),t.qZA(),t.TgZ(45,"div")(46,"select",63)(47,"option",57),t._uU(48,"Select Vehicle Year"),t.qZA(),t.YNc(49,rt,2,2,"option",12),t.qZA(),t.YNc(50,ut,2,0,"small",58),t.qZA()(),t.TgZ(51,"div")(52,"label"),t._uU(53,"Vehicle VIN"),t.qZA(),t.TgZ(54,"div"),t._UZ(55,"input",64),t.YNc(56,dt,2,0,"small",58),t.qZA()()(),t.TgZ(57,"div")(58,"div")(59,"label",55),t._uU(60,"File Type"),t.qZA(),t.TgZ(61,"div")(62,"select",65)(63,"option",57),t._uU(64,"Select File Type"),t.qZA(),t.TgZ(65,"option",66),t._uU(66,"Master"),t.qZA(),t.TgZ(67,"option",67),t._uU(68,"Client/Slave"),t.qZA()(),t.YNc(69,lt,2,0,"small",58),t.qZA()(),t.TgZ(70,"div",68),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.showMultiselect=!1)}),t.TgZ(71,"label",55),t._uU(72,"Tuning Tool Used"),t.qZA(),t.TgZ(73,"div")(74,"select",69),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.vehicleInformation.controls.other_tuning_tool_used.setValue(""))}),t.TgZ(75,"option",57),t._uU(76,"Select Tuning Tool"),t.qZA(),t.YNc(77,_t,2,2,"option",12),t.qZA(),t.YNc(78,mt,2,0,"small",58),t.qZA(),t.YNc(79,ft,3,0,"div",59),t.qZA()()()(),t.TgZ(80,"h5",70),t._uU(81,"Engine Information"),t.qZA(),t.TgZ(82,"form",71)(83,"div",54)(84,"div",72)(85,"label",73),t._uU(86,"Engine Size"),t.qZA(),t.TgZ(87,"div",74)(88,"div",75),t._UZ(89,"input",76),t.YNc(90,Pt,2,0,"small",77),t.YNc(91,At,2,0,"small",77),t.qZA(),t._UZ(92,"span",78),t.TgZ(93,"div",75),t._UZ(94,"input",79),t.YNc(95,Ct,2,0,"small",77),t.qZA()()(),t.TgZ(96,"div",80)(97,"label",55),t._uU(98,"Transmission"),t.qZA(),t.TgZ(99,"div",81)(100,"select",82)(101,"option",57),t._uU(102,"Select Transmission"),t.qZA(),t.YNc(103,Ot,2,2,"option",12),t.qZA(),t.YNc(104,Lt,2,0,"small",58),t.qZA()(),t.YNc(105,Ft,3,0,"div",83),t.TgZ(106,"div",84)(107,"label",55),t._uU(108,"Fuel Type"),t.qZA(),t.TgZ(109,"div",81)(110,"select",85),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.resetCtrlUnit())}),t.TgZ(111,"option",57),t._uU(112,"Select Fuel Type"),t.qZA(),t.YNc(113,wt,2,2,"option",12),t.qZA(),t.YNc(114,Rt,2,0,"small",58),t.qZA()(),t.YNc(115,ot,3,0,"div",83),t.TgZ(116,"h5",86),t._uU(117,"Mileage Information"),t.qZA(),t.TgZ(118,"div")(119,"div")(120,"label",55),t._uU(121,"Mileage type"),t.qZA(),t.TgZ(122,"div")(123,"select",87)(124,"option",57),t._uU(125,"Select Mileage Type"),t.qZA(),t.YNc(126,X,2,2,"option",12),t.qZA(),t.YNc(127,K,2,0,"small",58),t.qZA()(),t.TgZ(128,"div")(129,"label"),t._uU(130,"Mileage"),t.qZA(),t.TgZ(131,"div"),t._UZ(132,"input",88),t.YNc(133,pt,2,0,"small",58),t.qZA()()()()(),t.TgZ(134,"h5",70),t._uU(135,"ECU Information"),t.qZA(),t.TgZ(136,"form",71)(137,"div",54)(138,"div",89)(139,"label"),t._uU(140,"Control Unit"),t.qZA(),t.TgZ(141,"div",81)(142,"select",90),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.getTuningRequired())}),t.TgZ(143,"option",57),t._uU(144,"Select Control Unit"),t.qZA(),t.YNc(145,vt,2,2,"option",12),t.qZA(),t.YNc(146,bt,2,0,"small",58),t.qZA()(),t.YNc(147,yt,3,0,"div",83),t.TgZ(148,"div"),t.YNc(149,Et,10,3,"div",34),t.TgZ(150,"div")(151,"label"),t._uU(152,"ECU Version"),t.qZA(),t.TgZ(153,"div")(154,"select",91),t.NdJ("change",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.showOtherEcuBrand_version("version"))}),t.TgZ(155,"option",57),t._uU(156,"Select ECU Version"),t.qZA(),t.YNc(157,Bt,2,2,"option",12),t.qZA(),t.YNc(158,Ut,2,0,"small",58),t.qZA(),t.YNc(159,Vt,2,0,"div",92),t.qZA()()()(),t.TgZ(160,"h5",70),t._uU(161,"Additional Information"),t.qZA(),t.TgZ(162,"div",71)(163,"div",54)(164,"div",93),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.showMultiselect=!1)}),t.TgZ(165,"label",55),t._uU(166,"Country/Location"),t.qZA(),t.TgZ(167,"div",81)(168,"ng-select",94)(169,"ng-option",95),t._uU(170,"Select Your Country"),t.qZA(),t.YNc(171,Tt,3,3,"ng-option",12),t.qZA(),t.YNc(172,Zt,2,0,"small",96),t.qZA()(),t.TgZ(173,"div",97),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.showMultiselect=!1)}),t.TgZ(174,"label",55),t._uU(175,"Tuning Required"),t.qZA(),t.TgZ(176,"div",81)(177,"select",98)(178,"option",57),t._uU(179,"Select Tuning Required"),t.qZA(),t.YNc(180,Ht,2,2,"option",12),t.qZA(),t.YNc(181,Gt,2,0,"small",58),t.qZA()(),t.YNc(182,qt,5,1,"div",99),t.YNc(183,It,3,0,"div",100),t.TgZ(184,"div",101),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.showMultiselect=!1)}),t.TgZ(185,"label",102),t._uU(186,"Additional Info"),t.qZA(),t._UZ(187,"textarea",103),t.qZA(),t.TgZ(188,"div",104)(189,"button",105),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.resetForm())}),t._uU(190,"Cancel"),t.qZA(),t.TgZ(191,"button",106),t.NdJ("click",function(){t.CHM(n);const y=t.MAs(194),nt=t.oxw();return t.KtG(nt.submitVehicleDetails(y))}),t._uU(192,"Submit"),t.qZA()(),t.TgZ(193,"button",107,108),t._uU(195,"Submit"),t.qZA()()()()}if(2&L){const n=t.oxw();t.xp6(1),t.Q6J("formGroup",n.vehicleInformation),t.xp6(10),t.Q6J("ngForOf",n.vehicleTypes),t.xp6(1),t.Q6J("ngIf",n.vehicleInformation.controls.vehicle_type.touched&&n.vehicleInformation.controls.vehicle_type.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.showOtherVehicleType),t.xp6(8),t.Q6J("ngForOf",n.vehicleBrandList),t.xp6(1),t.Q6J("ngIf",n.vehicleInformation.controls.vehicle_make.touched&&n.vehicleInformation.controls.vehicle_make.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.showOtherVehicleMake),t.xp6(9),t.Q6J("ngForOf",n.modelList),t.xp6(1),t.Q6J("ngIf",n.vehicleInformation.controls.model.touched&&n.vehicleInformation.controls.model.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.showOtherModel),t.xp6(6),t.Q6J("ngIf",n.vehicleInformation.controls.vehicle_registration.touched&&n.vehicleInformation.controls.vehicle_registration.hasError("required")),t.xp6(9),t.Q6J("ngForOf",n.counter(n.yearCount)),t.xp6(1),t.Q6J("ngIf",n.vehicleInformation.controls.vehicle_year.touched&&n.vehicleInformation.controls.vehicle_year.hasError("required")),t.xp6(6),t.Q6J("ngIf",n.vehicleInformation.controls.vehicle_VIN.touched&&n.vehicleInformation.controls.vehicle_VIN.hasError("required")),t.xp6(13),t.Q6J("ngIf",n.vehicleInformation.controls.file_type.touched&&n.vehicleInformation.controls.file_type.hasError("required")),t.xp6(8),t.Q6J("ngForOf",n.tuningToolUsedList),t.xp6(1),t.Q6J("ngIf",n.vehicleInformation.controls.tuning_tool_used.touched&&n.vehicleInformation.controls.tuning_tool_used.hasError("required")),t.xp6(1),t.Q6J("ngIf","Other"==n.vehicleInformation.controls.tuning_tool_used.value),t.xp6(3),t.Q6J("formGroup",n.engineInformation),t.xp6(8),t.Q6J("ngIf",n.engineInformation.controls.engine_size.touched&&n.engineInformation.controls.engine_size.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.engineInformation.controls.engine_size.dirty&&n.engineInformation.controls.engine_size.hasError("pattern")),t.xp6(4),t.Q6J("ngIf",n.engineInformation.controls.engine_size_deci.dirty&&n.engineInformation.controls.engine_size_deci.hasError("pattern")),t.xp6(8),t.Q6J("ngForOf",null==n.vehicleDetails?null:n.vehicleDetails.transmission),t.xp6(1),t.Q6J("ngIf",n.engineInformation.controls.transmission.touched&&n.engineInformation.controls.transmission.invalid),t.xp6(1),t.Q6J("ngIf","Other"==n.engineInformation.controls.transmission.value),t.xp6(8),t.Q6J("ngForOf",null==n.vehicleDetails?null:n.vehicleDetails.fuel_type),t.xp6(1),t.Q6J("ngIf",n.engineInformation.controls.fuel_type.touched&&n.engineInformation.controls.fuel_type.invalid),t.xp6(1),t.Q6J("ngIf","Other"==n.engineInformation.controls.fuel_type.value),t.xp6(11),t.Q6J("ngForOf",null==n.vehicleDetails?null:n.vehicleDetails.milage),t.xp6(1),t.Q6J("ngIf",n.engineInformation.controls.mileage_type.touched&&n.engineInformation.controls.mileage_type.invalid),t.xp6(6),t.Q6J("ngIf",n.engineInformation.controls.mileage.touched&&n.engineInformation.controls.mileage.hasError("required")),t.xp6(3),t.Q6J("formGroup",n.ecuInformation),t.xp6(9),t.Q6J("ngForOf",null==n.vehicleDetails?null:n.vehicleDetails.control_unit),t.xp6(1),t.Q6J("ngIf",n.ecuInformation.controls.control_unit.touched&&n.ecuInformation.controls.control_unit.invalid),t.xp6(1),t.Q6J("ngIf","Other"==n.ecuInformation.controls.control_unit.value),t.xp6(2),t.Q6J("ngIf",!n.showVehicleTypeInput),t.xp6(8),t.Q6J("ngForOf",n.newECU_versionList),t.xp6(1),t.Q6J("ngIf",n.ecuInformation.controls.ecu_version.touched&&n.ecuInformation.controls.ecu_version.invalid),t.xp6(1),t.Q6J("ngIf",n.showEcuVersion||"Other"==n.ecuInformation.value.ecu_version),t.xp6(3),t.Q6J("formGroup",n.additionalInformation),t.xp6(9),t.Q6J("ngForOf",n.countryData),t.xp6(1),t.Q6J("ngIf",(n.additionalInformation.controls.country.invalid||"Select Your Country"==n.additionalInformation.value.country)&&n.additionalInformation.controls.country.touched),t.xp6(8),t.Q6J("ngForOf",n.tuningRequiredList),t.xp6(1),t.Q6J("ngIf",(n.additionalInformation.controls.tuning_required.invalid||"Select Tuning Required"==n.additionalInformation.value.tuning_required)&&n.additionalInformation.controls.tuning_required.touched),t.xp6(1),t.Q6J("ngIf",n.showAdditonalFunction),t.xp6(1),t.Q6J("ngIf",n.showAddiInfoOtherBox),t.xp6(10),t.Q6J("disabled",n.vehicleInformation.invalid)}}let Wt=(()=>{class L{constructor(n,E,y,nt,gt,xt,St,Mt,kt,$t){this.fb=n,this._titleservice=E,this.router=y,this.activatedRoute=nt,this._ticketservice=gt,this.toastr=xt,this.crud=St,this.customer=Mt,this.noti=kt,this.xorService=$t,this.fileList=[],this.formData2=new FormData,this.obj=[{alpha2:"US",name:"United States"},{alpha2:"GB",name:"United Kingdom"}],this.vehicle_step=!1,this.engine_step=!1,this.ecu_step=!1,this.additional_step=!1,this.step=1,this.tab="form1",this.countries=R(3376).hW,this.modelList=[],this.showVehicleTypeInput=!1,this.formData=new FormData,this.formData3=new FormData,this.ticketFormData=new FormData,this.yearCount=0,this.year=0,this.additionalFunctionList=[],this.tuningRequiredList=[],this.showAdditonalFunction=!1,this.ticketCategories=[],this.showMultiselect=!1,this.selectAdditionalFun=[],this.fileCreditRequired=0,this.functionCreditRequired=0,this.filePurchaseRequired=0,this.onlyFileKeyCredit=!0,this.onlyFuntionKeyCredit=!1,this.fileName="",this.acceptTermBusi=!1,this.showSelectError=!1,this.showOtherVehicleType=!1,this.showOtherVehicleMake=!1,this.showOtherModel=!1,this.uniqueECUBrand=[],this.unique=[],this.countryData=Y.Fi,this.showAddiInfoOtherBox=!1,this.a=[],this.newUniqueEcuBrandList=[],this.editEcuBrandVesrsion=!1,this.newTuningRequiredList=[],this.showEcuBrand=!1,this.showEcuVersion=!1,this.newECU_versionList=[],this.body={},this.other_fields=[],this.isDTCSelected=!1,this._titleservice.setTitle("Create Ticket"),this.ticketCreateForm=this.fb.group({subject:["",[z.kI.required]],category:["",[z.kI.required]],file_request:["",[]],description:["",[z.kI.required]]}),this.ticketCreateForm.get("category")?.valueChanges.subscribe(Qt=>{14==Qt&&this.toastr.warning("Please complete the vehicle details in full for an in house booking.")}),this.vehicleInformation=this.fb.group({customer_first_name:[""],customer_last_name:[""],vehicle_type:["",z.kI.required],other_vehicle_type:[""],vehicle_make:["",z.kI.required],other_vehicle_make:[""],model:["",z.kI.required],other_model:[""],vehicle_registration:["",z.kI.required],vehicle_year:["",z.kI.required],vehicle_VIN:["",z.kI.required],file_type:["",z.kI.required],tuning_tool_used:["",z.kI.required],other_tuning_tool_used:[""]}),this.engineInformation=this.fb.group({engine_size:["",[z.kI.required,z.kI.pattern(/^\d+$/)]],engine_size_deci:["",[z.kI.pattern(/^[0-9]$/)]],transmission:["",z.kI.required],other_transmission:[""],fuel_type:["",z.kI.required],other_fuel_type:[""],mileage_type:["",z.kI.required],mileage:["",z.kI.required]}),this.ecuInformation=this.fb.group({ecu_brand:["",z.kI.required],other_ecu_brand:[""],ecu_version:["",z.kI.required],other_ecu_version:[""],control_unit:["",z.kI.required],other_control_unit:[""]}),this.additionalInformation=this.fb.group({country:["",z.kI.required],additional_function:[""],other_additional_function:[""],tuning_required:["",z.kI.required],additional_info:[""]})}submitVehicleDetails(n){this.isVehicleDetailsFormValid()?(this.vehicleInformation.markAllAsTouched(),this.engineInformation.markAllAsTouched(),this.ecuInformation.markAllAsTouched(),this.additionalInformation.markAllAsTouched(),this.toastr.warning("Invalid form details")):n.click()}isVehicleDetailsFormValid(){return this.vehicleInformation.invalid||this.engineInformation.invalid||this.ecuInformation.invalid||this.additionalInformation.invalid}resetForm(){this.setAllFormValues(this.vehicleInformation,""),this.setAllFormValues(this.engineInformation,""),this.setAllFormValues(this.ecuInformation,""),this.setAllFormValues(this.additionalInformation,""),this.showOtherVehicleMake=!1,this.showOtherVehicleType=!1,this.showOtherModel=!1}setAllFormValues(n,E){Object.keys(n.controls).forEach(y=>{const nt=n.get(y);nt instanceof z.NI?nt.setValue(E):nt instanceof z.cw&&this.setAllFormValues(nt,E)})}ngOnInit(){this.activatedRoute.paramMap.subscribe(E=>{E.has("id")&&E.has("ids")&&(this.ticketID=this.xorService.xorEncryptDecrypt(E.get("id")),this.ticketHashID=this.xorService.xorEncryptDecrypt(E.get("ids")))}),this.year=(new Date).getFullYear(),this.yearCount=this.year-1980,this.countries.all.sort((E,y)=>E.name>y.name?1:-1),this.obj.forEach(E=>{this.moveCountryOnTop(E.name)}),this.users=JSON.parse(localStorage.getItem("userdetails")||""),this.getTicketCategory(),this.customer.getFileFormData().subscribe(E=>{if(E){this.vehicleDetails=E.data,this.vehicleDetails.control_unit=this.sortEle(this.vehicleDetails.control_unit);let y=this.vehicleDetails.control_unit.indexOf("ECU");-1!==y&&this.vehicleDetails.control_unit.splice(0,0,this.vehicleDetails.control_unit.splice(y,1)[0]),this.vehicleDetails.transmission=this.sortEle(this.vehicleDetails.transmission),this.vehicleDetails.fuel_type=this.sortEle(this.vehicleDetails.fuel_type),this.moveOtherInLast(this.vehicleDetails.transmission,"Other"),this.moveOtherInLast(this.vehicleDetails.control_unit,"Other"),this.tuningToolUsedList="INDIVIDUAL_CUSTOMER"==this.users.role?this.vehicleDetails.tuning_tool_used.individual:this.vehicleDetails.tuning_tool_used.business,this.tuningToolUsedList=this.sortEle(this.tuningToolUsedList),this.moveOtherInLast(this.tuningToolUsedList,"OTHER")}}),this.crud.getRequest(J.d.getVehicleTypeList).then(E=>{this.vehicleTypes=E,this.vehicleTypes=this.sort(this.vehicleTypes,"name"),this.vehicleTypes.push({id:0,name:"Other"})})}getTicketDetail(){this.crud.getRequest(`${D.t.getTicketDetail}${this.ticketID}`).then(n=>{if(n){const E=n.data;this.ticketDetails=E;const y=this.ticketCategories.find(nt=>nt.name===E.category);this.ticketCreateForm.controls.subject.setValue(E.subject),this.ticketCreateForm.controls.category.setValue(y.id),this.ticketCreateForm.controls.description.setValue(E.description),this.patchVehicleDetailsForm(E.vehicle_details)}})}patchVehicleDetailsForm(n){const E=this.vehicleTypes.find(xt=>xt.name===n.vehicle_type),y={...n,vehicle_type:E.id};this.vehicleInformation.patchValue(y),this.vehicleInformation.controls.vehicle_type.setValue(E.id),this.getVehicleBrands(),this.otherVehicleDetailBoxController("vehicleType"),this.ecuInformation.patchValue(n);const nt=Math.trunc(n.engine_size),gt=Number(String(n.engine_size).split(".")[1]||0);this.engineInformation.patchValue(n),this.engineInformation.controls.engine_size.setValue(nt),this.engineInformation.controls.engine_size_deci.setValue(gt),this.additionalInformation.patchValue(n)}getVehicleControlList(){this.crud.getRequest(`${J.d.getVehicleControlList}${this.vehicleInformation.controls.model.value}`).then(n=>{n&&(this.ecuBrandList=n,this.unique=[],this.uniqueECUBrand=[],this.unique=this.ecuBrandList.filter(E=>!this.uniqueECUBrand.includes(E.ecu_brand)&&(this.uniqueECUBrand.push(E.ecu_brand),!0)),this.unique=this.sort(this.unique,"ecu_brand"),this.ticketID&&this.getTuningRequired())})}getVehicleBrands(){this.vehicleBrandList=[],0!=this.vehicleInformation.controls.vehicle_type.value&&this.crud.getRequest(`${J.d.getVehicleBrandList}${this.vehicleInformation.controls.vehicle_type.value}`).then(n=>{if(n&&(this.vehicleBrandList=n,this.vehicleBrandList=this.sort(this.vehicleBrandList,"brand_name"),this.vehicleBrandList.push({id:0,brand_name:"Other"}),this.ticketID)){const y=this.ticketDetails.vehicle_details.vehicle_make,nt=this.vehicleBrandList.find(gt=>gt.brand_name==y);nt&&setTimeout(()=>{this.vehicleInformation.controls.vehicle_make.setValue(nt.id),this.getBrandModel()},0)}})}getBrandModel(){0!=this.vehicleInformation.controls.vehicle_make.value&&this.crud.getRequest(`${J.d.getBrandModal}${this.vehicleInformation.controls.vehicle_make.value}`).then(n=>{if(n&&(this.modelList=n,this.modelList=this.sort(this.modelList,"model_name"),this.modelList.push({id:0,model_name:"Other",file_key_credit:1}),this.ticketID)){const y=this.ticketDetails.vehicle_details.model,gt=this.modelList.find(xt=>xt.model_name==y);gt&&setTimeout(()=>{this.vehicleInformation.controls.model.setValue(gt.id.toString()),this.getVehicleControlList()},0)}})}otherVehicleDetailBoxController(n){var y={id:0,model_name:"Other",file_key_credit:1};"model"!=n&&this.modelList.push(y),"vehicleType"==n?(this.vehicleBrandList=[],this.modelList=[],this.showOtherVehicleType=0==this.vehicleInformation.value.vehicle_type,this.showOtherVehicleMake=!1,this.showOtherModel=!1,this.vehicleBrandList.push({id:0,brand_name:"Other"}),this.modelList.push(y),this.vehicleInformation.controls.other_vehicle_type.setValue(""),this.vehicleInformation.controls.other_vehicle_make.setValue(""),this.vehicleInformation.controls.other_model.setValue(""),this.vehicleInformation.controls.vehicle_make.setValue(""),this.vehicleInformation.controls.model.setValue("")):"vehicleMake"==n?(this.modelList=[],this.showOtherVehicleMake=0==this.vehicleInformation.value.vehicle_make,this.showOtherModel=!1,this.modelList.push(y),this.vehicleInformation.controls.model.setValue(""),this.vehicleInformation.controls.other_vehicle_make.setValue(""),this.vehicleInformation.controls.other_model.setValue("")):"model"==n&&(this.showOtherModel=0==this.vehicleInformation.value.model,this.vehicleInformation.controls.other_model.setValue("")),this.resetEcuBrandVersion(!0)}selectAddFun(n){if(this.selectAdditionalFun[n]=!this.selectAdditionalFun[n],this.checkForSelectedDTC(n),this.selectAdditionalFun[n]&&"Other"==this.additionalFunctionList[n]?this.showAddiInfoOtherBox=!0:!this.selectAdditionalFun[n]&&"Other"==this.additionalFunctionList[n]&&(this.showAddiInfoOtherBox=!1),this.selectAdditionalFun[n]){this.a.push(this.additionalFunctionList[n]);var E=this.additionalInformation.value.additional_function;this.a.forEach(y=>{this.additionalInformation.patchValue({additional_function:E+(this.additionalInformation.value.additional_function.length>0?", ":"")+y})})}else{this.additionalInformation.controls.additional_function.setValue("");const y=this.a.indexOf(this.additionalFunctionList[n]);y>-1&&this.a.splice(y,1),this.a.forEach(nt=>{this.additionalInformation.patchValue({additional_function:this.additionalInformation.value.additional_function+(this.additionalInformation.value.additional_function.length>0?", ":"")+nt})})}}getTuningRequired(){if(this.newTuningRequiredList=[],"Gasoline Hybrid"==this.engineInformation.controls.fuel_type.value||"Gasoline"==this.engineInformation.controls.fuel_type.value){for(var n in this.tuningRequiredList="INDIVIDUAL_CUSTOMER"==this.users.role?this.vehicleDetails.tuning_required.individual.gasoline:this.vehicleDetails.tuning_required.business.gasoline,this.tuningRequiredList)this.newTuningRequiredList.push({value:n,name:this.tuningRequiredList[n]});this.tuningRequiredList=this.newTuningRequiredList,this.additionalFunctionList=this.vehicleDetails.additional_functions.gasoline,this.showAdditonalFunction=!0;for(let Mt=0;Mt<this.additionalFunctionList.length;Mt++)this.selectAdditionalFun[Mt]=!1}else if("Diesel Hybrid"==this.engineInformation.controls.fuel_type.value||"Diesel"==this.engineInformation.controls.fuel_type.value){for(var n in this.tuningRequiredList="INDIVIDUAL_CUSTOMER"==this.users.role?this.vehicleDetails.tuning_required.individual.diesel:this.vehicleDetails.tuning_required.business.diesel,this.tuningRequiredList)this.newTuningRequiredList.push({value:n,name:this.tuningRequiredList[n]});this.tuningRequiredList=this.newTuningRequiredList,this.additionalFunctionList=this.vehicleDetails.additional_functions.diesel,this.showAdditonalFunction=!0;for(let Mt=0;Mt<this.additionalFunctionList.length;Mt++)this.selectAdditionalFun[Mt]=!1}else this.tuningRequiredList=[],this.tuningRequiredList.push({value:"NO TUNE",name:"NO TUNE"}),this.showAdditonalFunction=!1;this.newUniqueEcuBrandList=[],this.ecuBrandList.forEach(Mt=>{"Petrol"!=Mt.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value||"Diesel"==this.engineInformation.controls.fuel_type.value?("Diesel"==Mt.fuel_type||"Diesel Hybrid"==Mt.fuel_type)&&this.newUniqueEcuBrandList.push(Mt):Mt.fuel_type==this.engineInformation.controls.fuel_type.value&&this.newUniqueEcuBrandList.push(Mt):this.newUniqueEcuBrandList.push(Mt)}),this.uniqueBrands=Object.values(this.newUniqueEcuBrandList.reduce((Mt,kt)=>(Mt[kt.ecu_brand]=kt,Mt),{}));var nt=this.uniqueBrands;if(this.uniqueBrands=[],nt.forEach(Mt=>{Mt.ecu_type==this.ecuInformation.value.control_unit&&this.uniqueBrands.push(Mt)}),this.uniqueBrands.length>0?(this.editEcuBrandVesrsion=!1,this.showEcuBrand=!1,this.showEcuVersion=!1,this.ecuInformation.controls.other_ecu_brand.setValue(""),this.ecuInformation.controls.other_ecu_version.setValue(""),this.uniqueBrands.push({id:0,ecu_brand:"Other"})):(this.showEcuBrand=!1,this.showEcuVersion=!1,this.editEcuBrandVesrsion=!0,this.uniqueBrands.push({id:0,ecu_brand:"Other"}),this.ecuInformation.controls.ecu_brand.setValue("Select ECU Brand"),this.newECU_versionList=[],this.newECU_versionList.push({ecu_version:"Other"}),this.ecuInformation.controls.ecu_version.setValue("Select ECU Version")),!this.editEcuBrandVesrsion){this.newECU_versionList=[];var St="";this.ecuBrandList.forEach(kt=>{kt.id==this.ecuInformation.value.ecu_brand&&(St=kt.ecu_brand)}),this.ecuBrandList.forEach(kt=>{kt.ecu_brand==St&&kt.fuel_type==this.engineInformation.controls.fuel_type.value?this.newECU_versionList.push(kt):kt.ecu_brand!=St||"Petrol"!=kt.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?kt.ecu_brand==St&&("Diesel"==kt.fuel_type||"Diesel Hybrid"==kt.fuel_type)&&("Diesel"==this.engineInformation.controls.fuel_type.value||"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value)&&this.newECU_versionList.push(kt):this.newECU_versionList.push(kt)}),this.newECU_versionList=this.sort(this.newECU_versionList,"ecu_version"),this.newECU_versionList.push({ecu_version:"Other"})}if(this.ticketID){const Mt=this.uniqueBrands.find(kt=>kt.ecu_brand===this.ecuInformation.value.ecu_brand);Mt&&setTimeout(()=>{this.ecuInformation.controls.ecu_brand.setValue(Mt.id),console.log(this.newECU_versionList,"version"),this.setFuelModel(!0)},0)}this.engineInformation.controls.other_fuel_type.setValue(""),this.resetEcuBrandVersion(!1)}resetEcuBrandVersion(n){this.ecuInformation.controls.ecu_brand.setValue(""),this.ecuInformation.controls.other_ecu_brand.setValue(""),this.ecuInformation.controls.other_control_unit.setValue(""),this.ecuInformation.controls.ecu_version.setValue(""),this.ecuInformation.controls.other_ecu_version.setValue(""),this.showEcuBrand=!1,this.showEcuVersion=!1,this.newECU_versionList=[],n&&(this.engineInformation.controls.fuel_type.setValue(""),this.ecuInformation.controls.control_unit.setValue(""),this.engineInformation.controls.other_fuel_type.setValue(""),this.uniqueBrands=[])}resetCtrlUnit(){this.ecuInformation.controls.control_unit.setValue(""),this.ecuInformation.controls.other_control_unit.setValue(""),this.uniqueBrands=[],this.resetEcuBrandVersion(!1)}setFuelModel(n){this.newECU_versionList=[];var E="";this.ecuBrandList.forEach(gt=>{gt.id==this.ecuInformation.value.ecu_brand&&(E=gt.ecu_brand)}),this.ecuBrandList.forEach(gt=>{gt.ecu_brand==E&&gt.fuel_type==this.engineInformation.controls.fuel_type.value?this.newECU_versionList.push(gt):gt.ecu_brand!=E||"Petrol"!=gt.fuel_type||"Gasoline Hybrid"!=this.engineInformation.value.fuel_type&&"Gasoline"!=this.engineInformation.value.fuel_type?gt.ecu_brand==E&&("Diesel"==gt.fuel_type||"Diesel Hybrid"==gt.fuel_type)&&("Diesel"==this.engineInformation.controls.fuel_type.value||"Diesel Hybrid"==this.engineInformation.controls.fuel_type.value)&&this.newECU_versionList.push(gt):this.newECU_versionList.push(gt)});var y=this.newECU_versionList;if(this.newECU_versionList=[],y.forEach(gt=>{gt.ecu_type==this.ecuInformation.value.control_unit&&this.newECU_versionList.push(gt)}),this.newECU_versionList=this.sort(this.newECU_versionList,"ecu_version"),this.newECU_versionList.push({ecu_version:"Other"}),this.ecuInformation.controls.ecu_version.setValue(""),this.ticketID){const gt=this.ticketDetails.vehicle_details.ecu_version,xt=this.newECU_versionList.find(St=>St.ecu_version===gt);setTimeout(()=>{this.ecuInformation.controls.ecu_version.setValue(xt.ecu_version),console.log(this.ecuInformation.value,"ecu"),console.log(xt,"ver")},0)}this.ecuInformation.controls.other_ecu_version.setValue(""),this.ecuInformation.controls.other_ecu_brand.setValue(""),this.showEcuVersion=!1}showOtherEcuBrand_version(n){"brand"==n&&"0"==this.ecuInformation.value.ecu_brand?this.showEcuBrand=!0:"brand"==n&&"0"!=this.ecuInformation.value.ecu_brand?(this.showEcuBrand=!1,this.showEcuVersion=!1):"version"==n&&"Other"==this.ecuInformation.value.ecu_version?this.showEcuVersion=!0:"version"==n&&"Other"!=this.ecuInformation.value.ecu_version&&(this.showEcuVersion=!1)}counter(n){return new Array(n)}createReq(){this.ticketCreateFormSubmit()}updateTicket(){if(this.ticketCreateForm.valid){this.body={},this.vehicleTypes&&this.vehicleTypes.forEach(nt=>{this.vehicleInformation.controls.vehicle_type.value==nt.id&&(this.other_fields=[],"Other"==nt.name&&this.other_fields.push("Vehicle Type"),this.body.vehicle_type="Other"==nt.name?this.vehicleInformation.controls.other_vehicle_type.value:nt.name)}),this.vehicleBrandList&&this.vehicleBrandList.forEach(nt=>{this.vehicleInformation.controls.vehicle_make.value==nt.id&&("Other"==nt.brand_name&&this.other_fields.push("Vehicle Make"),this.body.vehicle_make="Other"==nt.brand_name?this.vehicleInformation.controls.other_vehicle_make.value:nt.brand_name)}),this.modelList&&this.modelList.forEach(nt=>{this.vehicleInformation.controls.model.value==nt.id&&("Other"==nt.model_name&&this.other_fields.push("Model"),this.body.model="Other"==nt.model_name?this.vehicleInformation.controls.other_model.value:nt.model_name)});var n="";0==this.editEcuBrandVesrsion&&this.ecuBrandList?this.ecuBrandList.forEach(nt=>{nt.id==this.ecuInformation.value.ecu_brand&&(n=nt.ecu_brand)}):n=this.ecuInformation.value.ecu_brand;let y="";for(var E in y=this.engineInformation.controls.engine_size.value?`${this.engineInformation.controls.engine_size.value}.${this.engineInformation.controls.engine_size_deci.value}`:`${this.engineInformation.controls.engine_size.value}.0`,this.body.ecu_brand=this.showEcuBrand?this.ecuInformation.value.other_ecu_brand:n,this.showEcuBrand&&this.other_fields.push("ECU Brand"),this.body.ecu_version=this.showEcuVersion?this.ecuInformation.value.other_ecu_version:this.ecuInformation.value.ecu_version,this.showEcuVersion&&this.other_fields.push("ECU Version"),this.body.vehicle_registration=this.vehicleInformation.controls.vehicle_registration.value,this.body.vehicle_year=this.vehicleInformation.controls.vehicle_year.value,this.body.vehicle_VIN=this.vehicleInformation.controls.vehicle_VIN.value,this.body.engine_size=y,this.body.tuning_tool_used="Other"==this.vehicleInformation.controls.tuning_tool_used.value?this.vehicleInformation.controls.other_tuning_tool_used.value:this.vehicleInformation.controls.tuning_tool_used.value,"Other"==this.vehicleInformation.controls.tuning_tool_used.value&&this.other_fields.push("Tuning Tool Used"),this.body.transmission="Other"==this.engineInformation.controls.transmission.value?this.engineInformation.controls.other_transmission.value:this.engineInformation.controls.transmission.value,"Other"==this.engineInformation.controls.transmission.value&&this.other_fields.push("Transmission"),this.body.fuel_type="Other"==this.engineInformation.controls.fuel_type.value?this.engineInformation.controls.other_fuel_type.value:this.engineInformation.controls.fuel_type.value,"Other"==this.engineInformation.controls.fuel_type.value&&this.other_fields.push("Fuel Type"),this.body.mileage_type=this.engineInformation.controls.mileage_type.value,this.body.mileage=this.engineInformation.controls.mileage.value,this.body.control_unit="Other"==this.ecuInformation.controls.control_unit.value?this.ecuInformation.controls.other_control_unit.value:this.ecuInformation.controls.control_unit.value,"Other"==this.ecuInformation.controls.control_unit.value&&this.other_fields.push("Control Unit"),this.body.tuning_required=this.additionalInformation.controls.tuning_required.value,this.body.country=this.additionalInformation.controls.country.value,this.body.file_type=this.vehicleInformation.controls.file_type.value,this.body.additional_info=this.additionalInformation.controls.additional_info.value,this.additionalInformation.controls.additional_info.value&&this.other_fields.push("additional_info"),this.body.additional_function="Other"==this.additionalInformation.controls.additional_function.value?this.additionalInformation.controls.other_additional_function.value:this.additionalInformation.controls.additional_function.value,"Other"==this.additionalInformation.controls.additional_function.value&&this.other_fields.push("Additional function"),this.body)this.body.hasOwnProperty(E)&&("mileage"==E||this.body[E].includes("Select")&&(this.body[E]=""));".0"==this.body.engine_size&&(this.body.engine_size=""),this.body.other_fields=this.other_fields.join(", "),this.other_fields=[],this.formData.append("subject",this.ticketCreateForm.value.subject),this.formData.append("category",this.ticketCreateForm.value.category),this.formData.append("description",this.ticketCreateForm.value.description),this.formData.append("vehicle_details",JSON.stringify(this.body)),this._ticketservice.updateTicketFromCustomer(this.formData,this.ticketHashID).subscribe(nt=>{this.toastr.success("Ticket created successfully.","",{timeOut:4e3}),this.router.navigate(["support"])},nt=>{this.toastr.error(nt.error.detail,"",{timeOut:4e3}),this.formData=new FormData,this.formData.append("files",this.fileDetails,this.fileDetails.name)})}else this.markAllControlsAsTouched(this.ticketCreateForm)}ticketCreateFormSubmit(){if(this.ticketCreateForm.valid){this.body={},this.vehicleTypes&&this.vehicleTypes.forEach(nt=>{this.vehicleInformation.controls.vehicle_type.value==nt.id&&(this.other_fields=[],"Other"==nt.name&&this.other_fields.push("Vehicle Type"),this.body.vehicle_type="Other"==nt.name?this.vehicleInformation.controls.other_vehicle_type.value:nt.name)}),this.vehicleBrandList&&this.vehicleBrandList.forEach(nt=>{this.vehicleInformation.controls.vehicle_make.value==nt.id&&("Other"==nt.brand_name&&this.other_fields.push("Vehicle Make"),this.body.vehicle_make="Other"==nt.brand_name?this.vehicleInformation.controls.other_vehicle_make.value:nt.brand_name)}),this.modelList&&this.modelList.forEach(nt=>{this.vehicleInformation.controls.model.value==nt.id&&("Other"==nt.model_name&&this.other_fields.push("Model"),this.body.model="Other"==nt.model_name?this.vehicleInformation.controls.other_model.value:nt.model_name)});var n="";0==this.editEcuBrandVesrsion&&this.ecuBrandList?this.ecuBrandList.forEach(nt=>{nt.id==this.ecuInformation.value.ecu_brand&&(n=nt.ecu_brand)}):n=this.ecuInformation.value.ecu_brand;let y="";for(var E in y=this.engineInformation.controls.engine_size.value?`${this.engineInformation.controls.engine_size.value}.${this.engineInformation.controls.engine_size_deci.value}`:`${this.engineInformation.controls.engine_size.value}.0`,this.body.ecu_brand=this.showEcuBrand?this.ecuInformation.value.other_ecu_brand:n,this.showEcuBrand&&this.other_fields.push("ECU Brand"),this.body.ecu_version=this.showEcuVersion?this.ecuInformation.value.other_ecu_version:this.ecuInformation.value.ecu_version,this.showEcuVersion&&this.other_fields.push("ECU Version"),this.body.vehicle_registration=this.vehicleInformation.controls.vehicle_registration.value,this.body.vehicle_year=this.vehicleInformation.controls.vehicle_year.value,this.body.vehicle_VIN=this.vehicleInformation.controls.vehicle_VIN.value,this.body.engine_size=y,this.body.tuning_tool_used="Other"==this.vehicleInformation.controls.tuning_tool_used.value?this.vehicleInformation.controls.other_tuning_tool_used.value:this.vehicleInformation.controls.tuning_tool_used.value,"Other"==this.vehicleInformation.controls.tuning_tool_used.value&&this.other_fields.push("Tuning Tool Used"),this.body.transmission="Other"==this.engineInformation.controls.transmission.value?this.engineInformation.controls.other_transmission.value:this.engineInformation.controls.transmission.value,"Other"==this.engineInformation.controls.transmission.value&&this.other_fields.push("Transmission"),this.body.fuel_type="Other"==this.engineInformation.controls.fuel_type.value?this.engineInformation.controls.other_fuel_type.value:this.engineInformation.controls.fuel_type.value,"Other"==this.engineInformation.controls.fuel_type.value&&this.other_fields.push("Fuel Type"),this.body.mileage_type=this.engineInformation.controls.mileage_type.value,this.body.mileage=this.engineInformation.controls.mileage.value,this.body.control_unit="Other"==this.ecuInformation.controls.control_unit.value?this.ecuInformation.controls.other_control_unit.value:this.ecuInformation.controls.control_unit.value,"Other"==this.ecuInformation.controls.control_unit.value&&this.other_fields.push("Control Unit"),this.body.tuning_required=this.additionalInformation.controls.tuning_required.value,this.body.country=this.additionalInformation.controls.country.value,this.body.file_type=this.vehicleInformation.controls.file_type.value,this.body.additional_info=this.additionalInformation.controls.additional_info.value,this.additionalInformation.controls.additional_info.value&&this.other_fields.push("additional_info"),this.body.additional_function="Other"==this.additionalInformation.controls.additional_function.value?this.additionalInformation.controls.other_additional_function.value:this.additionalInformation.controls.additional_function.value,"Other"==this.additionalInformation.controls.additional_function.value&&this.other_fields.push("Additional function"),this.body)this.body.hasOwnProperty(E)&&("mileage"==E||this.body[E].includes("Select")&&(this.body[E]=""));".0"==this.body.engine_size&&(this.body.engine_size=""),this.body.other_fields=this.other_fields.join(", "),this.other_fields=[],this.formData.append("subject",this.ticketCreateForm.value.subject),this.formData.append("category",this.ticketCreateForm.value.category),this.formData.append("description",this.ticketCreateForm.value.description),this.formData.append("vehicle_details",JSON.stringify(this.body)),this._ticketservice.createTicket(this.formData).subscribe(nt=>{this.toastr.success("Ticket created successfully.","",{timeOut:4e3}),this.router.navigate(["support"])},nt=>{this.toastr.error(nt.error.detail,"",{timeOut:4e3})})}else this.markAllControlsAsTouched(this.ticketCreateForm)}markAllControlsAsTouched(n){Object.values(n.controls).forEach(E=>{E.markAsTouched(),E instanceof z.cw&&this.markAllControlsAsTouched(E)})}checkForSelectedDTC(n){Number.isInteger(n)&&(this.selectAdditionalFun[n]&&"DTC"==this.additionalFunctionList[n]&&(this.toastr.warning("Please put the full Fault Code and description in the additional information box below"),this.isDTCSelected=!0),!this.selectAdditionalFun[n]&&"DTC"==this.additionalFunctionList[n]&&(this.isDTCSelected=!1))}onFileChange(n){if(this.newFileList=Array.from(n.target.files),this.newFileList.length>0)for(let E of this.newFileList)this.fileList.push({name:E.name,type:E.type,size:E.size/1e3+"KB",file:E}),this.fileDetails=E,this.formData.append("files",E,E.name)}removeFile(n){if(this.fileList=[],this.newFileList.splice(n,1),this.formData.delete("files"),this.newFileList.length>0)for(let E of this.newFileList)this.fileList.push({name:E.name,type:E.type,size:E.size/1e3+"KB",file:E}),this.formData.append("files",E,E.name)}previewPdfModal(n){var E=new FileReader;E.onload=y=>{this.previewSrc=y.target.result},E.readAsDataURL(this.fileList[n].file)}getTicketCategory(){this.crud.getRequest(J.d.getTicketCategory).then(n=>{n&&(this.ticketCategories=n.data.results.filter(y=>{if("Manual Handle"!=y.name&&"Processing"!=y.name)return y}),this.ticketCreateForm.patchValue({category:this.ticketCategories[0].id}),this.ticketID&&this.getTicketDetail())})}moveCountryOnTop(n){const E=this.countryData.findIndex(y=>y.country===n);if(-1!==E){const y=this.countryData.splice(E,1)[0];this.countryData.unshift(y)}}moveOtherInLast(n,E){let y=n.indexOf(E);-1!==y&&(n.splice(y,1),n.push("Other"))}sortEle(n){return n.sort((E,y)=>E.toLowerCase().localeCompare(y.toLowerCase()))}sort(n,E){return n.sort((y,nt)=>{var gt=y[E].toUpperCase(),xt=nt[E].toUpperCase();return gt<xt?-1:gt>xt?1:0})}static#t=this.\u0275fac=function(E){return new(E||L)(t.Y36(z.qu),t.Y36(A.Dx),t.Y36(q.F0),t.Y36(q.gz),t.Y36(g.w),t.Y36(b._W),t.Y36(x.I),t.Y36(B.v),t.Y36(p.T),t.Y36(c.G))};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-create-ticket"]],decls:66,vars:20,consts:[[1,"add-user-inner"],[1,"main-title","after-seperator"],[1,"formFields"],["id","ticketCreateFormid",3,"formGroup"],[1,"d-flex","flex-column","flex-md-row","justify-content-between",2,"width","100%","gap","30px"],[1,"flex-fill"],["for","first_name",1,"form-label"],["type","text","formControlName","subject","placeholder","Enter Ticket Subject ",1,"form-control","bg-input"],["class","text-danger mt-2",4,"ngIf"],["for","role",1,"form-label"],["formControlName","category",1,"form-select","bg-input"],[3,"disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","jusify-content-start","align-items-start"],["type","submit","data-bs-toggle","modal","data-bs-target","#vehicleDetailModal",1,"btn-primary"],[1,"des"],["for","des",1,"form-label"],["formControlName","description","placeholder","Enter Ticket Description",1,"form-control","bg-input"],[1,"upload-file"],[1,"file-overlay"],["type","file","multiple","",3,"change"],["class","des",4,"ngIf"],[1,"submitReset"],["type","button","routerLink","/support",1,"btn-secondary"],["type","submit","class","btn-primary",3,"click",4,"ngIf"],["id","vehicleDetailModal",1,"modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content","mt-3",2,"min-width","0"],[1,"modal-header"],[1,"modal-title","main-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body",2,"overflow-y","scroll","height","80vh"],[1,"formFields","rounded","border","mt-0","p-md-4","p-3",2,"overflow-x","clip"],[1,"sub-title","after-seperator","mb-md-3"],[4,"ngIf"],["id","deleteModal",1,"modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-title"],[1,"modal-body"],["title","",3,"src"],[3,"src","render-text","original-size"],[1,"text-danger","mt-2"],[3,"value"],["width","100%"],[4,"ngFor","ngForOf"],[1,"actiontd"],["class","eyeIcon","data-bs-toggle","modal","data-bs-target","#deleteModal",3,"click",4,"ngIf"],["title","Delete",1,"eyeIcon","delIcon",3,"click"],[1,"fa","fa-trash"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"eyeIcon",3,"click"],["title","View",1,"fa","fa-eye"],["type","submit",1,"btn-primary",3,"click"],[3,"formGroup"],[1,"form-inner"],["for","vehicle",1,"form-label"],["formControlName","vehicle_type",1,"form-select",3,"change"],["disabled","","value",""],["class","text-danger",4,"ngIf"],[3,"click",4,"ngIf"],["formControlName","vehicle_make",1,"form-select",3,"change"],["formControlName","model",1,"form-select",3,"change"],["type","text","id","vehReg","placeholder","Vehicle Registration","formControlName","vehicle_registration",1,"form-control"],["formControlName","vehicle_year",1,"form-select"],["type","text","id","vehVin","placeholder","Vehicle VIN","formControlName","vehicle_VIN",1,"form-control"],["formControlName","file_type",1,"form-select"],["value","Master"],["value","Client/Slave"],[3,"click"],["formControlName","tuning_tool_used",1,"form-select",3,"change"],[1,"sub-title","after-seperator","mt-5","mb-md-3"],[1,"pt-3",3,"formGroup"],[1,"otherCase","mb-3"],[1,"form-label"],[1,"d-flex","mt-0",2,"flex-direction","row","gap","30px","align-items","center"],[2,"width","50%"],["type","number","appRestrictEnumber","","formControlName","engine_size","placeholder","In litres",1,"form-control"],["class","text-danger","style","width: 100%; display: block; text-align: left;",4,"ngIf"],[1,"ldot"],["type","number","appRestrictEnumber","","placeholder","Decimal","formControlName","engine_size_deci",1,"form-control"],[1,"otherCase","fullWidth","mb-3"],[1,"mt-0","mt-md-3"],["formControlName","transmission",1,"form-select","my-0"],["class","otherCase",4,"ngIf"],[1,"otherCase"],["formControlName","fuel_type",1,"form-select","my-0",3,"change"],[1,"sub-title","after-seperator","mt-5","w-100","mb-md-3"],["formControlName","mileage_type",1,"form-select"],["type","number","appRestrictEnumber","","placeholder","Enter Mileage","formControlName","mileage",1,"form-control"],[1,"otherCase","fullWidth"],["formControlName","control_unit",1,"form-select","my-0",3,"change"],["formControlName","ecu_version",1,"form-select",3,"change"],["class","mt-4",4,"ngIf"],[1,"otherCase","fullWidth",3,"click"],["formControlName","country",1,"form-control","custom"],["selected","","disabled","","value",""],["class","text-danger mt-2","style","top: 48px !important;",4,"ngIf"],[1,"otherCase","fullWidth","mt-3",3,"click"],["formControlName","tuning_required",1,"form-select","my-0"],["class","otherCase","style","margin-top: 10px !important;",4,"ngIf"],["class","otherCase","click","showMultiselect = false",4,"ngIf"],[1,"w100",2,"margin-top","10px !important",3,"click"],["for",""],["formControlName","additional_info","placeholder","Please list any additional information related to your file. For any DTC removal you must list the DTC and its full description here.",1,"form-control","mt-3"],[1,"btnDiv",2,"justify-content","center !important"],["data-bs-dismiss","modal","type","button",1,"btn-secondary","ms-auto",3,"click"],["type","button",1,"btn-primary",3,"click"],["data-bs-dismiss","modal",1,"absolute-hidden",3,"disabled"],["modalClose",""],[1,"text-danger"],["type","text","formControlName","other_vehicle_type","placeholder","Enter Vehicle Type",1,"form-control","mt-2"],["type","text","formControlName","other_vehicle_make","placeholder","Enter Vehicle Make",1,"form-control","mt-2"],["type","text","formControlName","other_model","placeholder","Enter Vehicle Model",1,"form-control","mt-2"],["type","text","formControlName","other_tuning_tool_used","placeholder","Enter Tuning Tool",1,"form-control","mt-2"],[1,"text-danger",2,"width","100%","display","block","text-align","left"],["type","text","formControlName","other_transmission","placeholder","Enter Transmission ",1,"form-control","mt-2"],["type","text","formControlName","other_fuel_type","placeholder","Enter Fuel Type",1,"form-control","mt-2"],["type","text","formControlName","other_control_unit","placeholder","Enter Control Unit",1,"form-control","mt-2"],["formControlName","ecu_brand",1,"form-select",3,"change"],[1,"mt-4"],["type","text","formControlName","other_ecu_brand","placeholder","Enter ECU Brand",1,"form-control","mt-2"],["type","text","formControlName","other_ecu_version","placeholder","Enter ECU Version",1,"form-control","mt-2"],["width","20px","alt","",3,"src"],[1,"text-danger","mt-2",2,"top","48px !important"],[1,"otherCase",2,"margin-top","10px !important"],["click","showMultiselect = false","for","password"],[1,"additionalFucntion","mt-0","mt-md-3",2,"padding-top","18px !important"],["type","checkbox","name","","id","",3,"name","checked","click","keypress.enter"],["click","showMultiselect = false",1,"otherCase"],["type","text","formControlName","other_additional_function","placeholder","Enter Additional Function",1,"form-control","mt-2"]],template:function(E,y){1&E&&(t.TgZ(0,"section",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8,"Ticket Subject "),t.qZA(),t._UZ(9,"input",7),t.YNc(10,Q,2,0,"small",8),t.qZA(),t.TgZ(11,"div",5)(12,"label",9),t._uU(13,"Ticket Category"),t.qZA(),t.TgZ(14,"select",10)(15,"option",11),t._uU(16,"Select Category"),t.qZA(),t.YNc(17,it,2,2,"option",12),t.qZA()(),t.TgZ(18,"div",13)(19,"button",14),t._uU(20,"Vehicle Details"),t.qZA()()(),t.TgZ(21,"div",15)(22,"label",16),t._uU(23," Ticket Description "),t.qZA(),t._UZ(24,"textarea",17),t.YNc(25,M,2,0,"small",8),t.qZA(),t.TgZ(26,"div",18)(27,"label"),t._uU(28,"Upload File"),t.qZA(),t.TgZ(29,"div",19)(30,"input",20),t.NdJ("change",function(gt){return y.onFileChange(gt)}),t.qZA(),t.TgZ(31,"p"),t._uU(32,"Drag and Drop the files here"),t.qZA(),t.TgZ(33,"span"),t._uU(34,"OR"),t.qZA(),t.TgZ(35,"p"),t._uU(36,"Browse file"),t.qZA()()(),t.YNc(37,l,12,1,"div",21),t.TgZ(38,"div",22)(39,"div")(40,"button",23),t._uU(41,"Cancel"),t.qZA(),t.YNc(42,_,2,0,"button",24),t.YNc(43,f,2,0,"button",24),t.qZA()()()()(),t.TgZ(44,"div",25)(45,"div",26)(46,"div",27)(47,"div",28)(48,"h4",29),t._uU(49,"Vehicle Details"),t.qZA(),t._UZ(50,"button",30),t.qZA(),t.TgZ(51,"div",31)(52,"div",32)(53,"h5",33),t._uU(54,"Vehicle Information"),t.qZA(),t.YNc(55,jt,196,47,"div",34),t.qZA()()()()(),t.TgZ(56,"div",35)(57,"div",36)(58,"div",37)(59,"div",28)(60,"h4",38),t._uU(61,"Preview Attachment"),t.qZA(),t._UZ(62,"button",30),t.qZA(),t.TgZ(63,"div",39),t._UZ(64,"img",40)(65,"pdf-viewer",41),t.qZA()()()()),2&E&&(t.xp6(2),t.hij("",y.ticketID?"Edit":"Create"," Ticket"),t.xp6(2),t.Q6J("formGroup",y.ticketCreateForm),t.xp6(5),t.ekj("is-invalid",y.ticketCreateForm.controls.subject.invalid&&y.ticketCreateForm.controls.subject.touched),t.xp6(1),t.Q6J("ngIf",y.ticketCreateForm.controls.subject.touched&&y.ticketCreateForm.controls.subject.hasError("required")),t.xp6(4),t.ekj("is-invalid",y.ticketCreateForm.controls.category.invalid&&y.ticketCreateForm.controls.category.touched),t.xp6(1),t.Q6J("disabled",!0),t.xp6(2),t.Q6J("ngForOf",y.ticketCategories),t.xp6(7),t.ekj("is-invalid",y.ticketCreateForm.controls.description.invalid&&y.ticketCreateForm.controls.description.touched),t.xp6(1),t.Q6J("ngIf",y.ticketCreateForm.controls.description.touched&&y.ticketCreateForm.controls.description.hasError("required")),t.xp6(12),t.Q6J("ngIf",0!=y.fileList.length),t.xp6(5),t.Q6J("ngIf",!y.ticketID),t.xp6(1),t.Q6J("ngIf",y.ticketID),t.xp6(12),t.Q6J("ngIf","form1"==y.tab),t.xp6(9),t.Q6J("src",y.previewSrc,t.LSH),t.xp6(1),t.Q6J("src",y.previewSrc)("render-text",!0)("original-size",!1))},dependencies:[r.sg,r.O5,q.rH,z._Y,z.YN,z.Kr,z.Fj,z.wV,z.EJ,z.JJ,z.JL,z.sg,z.u,S,j.w9,j.jq],styles:['.add-user-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-16);padding:1.5rem;overflow-x:clip}.formFields[_ngcontent-%COMP%]{margin-top:2rem}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-30);justify-content:space-between}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana;color:orange;font-size:var(--font-size-14)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > button.ressetBtn[_ngcontent-%COMP%]{border:1px solid #E3E3E3;border-radius:var(--font-size-10);color:#474554;background-color:#fff}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(1){justify-content:flex-end}.file-overlay[_ngcontent-%COMP%]{height:var(--width-150);width:100%;position:relative;background:#FFFFFF;border:1px dashed #6F7784;border-radius:var(--font-size-8);text-align:center;padding:var(--font-size-30)}.file-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#000;margin-bottom:0}.file-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#000}@media screen and (max-width: 767px){.submitReset[_ngcontent-%COMP%]{flex-wrap:wrap!important}.submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}}@media screen and (max-width: 480px){.submitReset[_ngcontent-%COMP%]{gap:15px!important}.submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.upload-pic[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding-top:0}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:10px 20px}}form[_ngcontent-%COMP%]   .form-innerr[_ngcontent-%COMP%]{overflow:scroll;height:450px}form[_ngcontent-%COMP%]   .form-innerr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:var(--font-size-14)}form[_ngcontent-%COMP%]   .form-innerr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:48%;gap:10px;align-items:center;text-align:start}form[_ngcontent-%COMP%]   .form-innerr[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left;margin-bottom:0!important}.vehDetailTable[_ngcontent-%COMP%]{display:flex;width:100%!important;flex-wrap:wrap;margin:auto;justify-content:flex-start!important}.vehDetailTable[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.vehDetailTable[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1607843137);padding:8px 10px;width:100%}.vehDetailTable[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:verdana-bold}.vehDetailTable[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.chngemil[_ngcontent-%COMP%]{background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:none;width:90px;height:35px}.modal-content[_ngcontent-%COMP%]{position:absolute;top:43%;transform:translate(-50%,-50%)}.modal-header[_ngcontent-%COMP%]{padding-bottom:var(--font-size-10)!important}.btnDivv[_ngcontent-%COMP%]{display:flex;align-items:center}.btnDivv[_ngcontent-%COMP%]   .fbtn[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16);background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:1px solid #394A9C}.file-service-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);background-color:#fff}.file-service-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;margin-bottom:var(--font-size-20)}.ldot[_ngcontent-%COMP%]{width:var(--font-size-5);height:var(--font-size-5);background-color:#000;border-radius:50%}.w100[_ngcontent-%COMP%]{width:100%!important}.w100[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:var(--font-size-90);font-size:var(--font-size-12);padding:var(--font-size-12)}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]{width:100%;height:var(--width-150);border:1px dashed #EBEBED;border-radius:var(--font-size-12);position:relative;display:flex;justify-content:center;align-items:center!important;flex-direction:column}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-16);line-height:var(--font-size-20);font-family:roboto;margin-bottom:0}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-16);font-family:verdana-bold}.formFields[_ngcontent-%COMP%]{padding-bottom:var(--font-size-60)}.formFields[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-20)}.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:var(--font-size-50);width:100%!important;gap:var(--font-size-20)}.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.fbtn[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16);background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:1px solid #394A9C}.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.sbtn[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16);background:#fff;border-radius:var(--font-size-12);color:#474554;border:1px solid #474554}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .otherCase[_ngcontent-%COMP%]{width:100%!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .fullWidth[_ngcontent-%COMP%]{position:relative}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:3%}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;flex-direction:column;margin:var(--font-size-20) 0 0;align-items:flex-start;text-align:left}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:0!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:var(--ff-primary);font-weight:600;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12);display:block;text-align:left;width:25%}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16);margin:var(--font-size-20) 0px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:0}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;font-size:var(--font-size-16);position:relative;width:30%}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";background-color:#fff;width:var(--font-size-18);height:var(--font-size-18);border-radius:50%;border:2px solid #176B6D;top:calc(-1 * var(--font-size-22));position:absolute;left:var(--padding-104);background-size:var(--font-size-12);background-position:center;background-repeat:no-repeat}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background-image:url(smallOk.101fc7c8e1f92d27.png);background-color:#176b6d;top:calc(-1 * var(--font-size-22))}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{background-color:#a7aeb6;top:calc(-1 * var(--font-size-15));left:calc(-1 * var(--font-size-36));right:calc(-1 * var(--font-size-36));height:2px;position:absolute;content:""}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:before{right:var(--font-size-40)}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{background-color:#176b6d;top:calc(-1 * var(--font-size-15));left:34px;right:calc(-1 * var(--font-size-36));height:2px;position:absolute;content:""}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left!important}.responsiveCredit[_ngcontent-%COMP%]{width:100%;overflow:auto}.creditRequired[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:var(--font-size-20);align-items:center}.creditRequired[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-32);line-height:150%;text-align:center;color:#3f424b}.creditRequired[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-60);height:var(--font-size-48);object-fit:cover}.creditbl[_ngcontent-%COMP%]{border-collapse:collapse;margin:var(--font-size-30) 0px var(--font-size-40) 0px;width:100%;max-width:100%}.creditbl[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #CDCDCD;text-align:left;padding:var(--font-size-12) var(--font-size-14);font-size:var(--font-size-14);font-family:roboto600}.creditbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:var(--font-size-12) var(--font-size-14);font-size:var(--font-size-14);font-family:roboto600;border:1px solid #CDCDCD;text-align:left;font-weight:400}.modal-dialog[_ngcontent-%COMP%]{min-width:50%!important}.paynow-btn[_ngcontent-%COMP%]{background-color:#394a9c;padding:var(--font-size-10) var(--font-size-30);font-size:var(--font-size-14);font-family:roboto600;color:#fff!important}hr[_ngcontent-%COMP%]{margin:var(--font-size-10) 0!important}.select-width[_ngcontent-%COMP%]{width:100%!important}@media screen and (max-width: 991px){.formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.sbtn[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]   button.fbtn[_ngcontent-%COMP%]{min-width:120px;height:40px;font-size:12px;background:#394A9C;border-radius:10px;color:#fff!important}.btnDiv[_ngcontent-%COMP%]{flex-direction:row!important;gap:12px!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 16px;font-size:12px}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:15px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";top:-22px;width:15px;height:15px}.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{top:-22px;width:15px;height:15px}.creditbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .creditbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.formFields[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:12px;padding:12px}.w100[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:90px;font-size:10px;padding:12px}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.creditbl[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;white-space:nowrap}}@media screen and (max-width: 767px){.termcondition[_ngcontent-%COMP%]{margin-bottom:10px!important}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:12px;line-height:normal;color:#3f424b;margin-bottom:0;text-align:left;margin-left:10px}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px!important}.w100[_ngcontent-%COMP%]   .reldiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal!important}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column}.formFields[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;margin:10px 0 5px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:12px;width:100%}.file-service-inner[_ngcontent-%COMP%]{padding:20px 10px}.file-service-form[_ngcontent-%COMP%]{width:100%;margin:auto}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:35px}.breadcrumb[_ngcontent-%COMP%]{padding-bottom:18px}.file-service-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}}@media screen and (max-width: 480px){.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%]{padding-bottom:var(--font-size-64)}}@media screen and (max-width: 390px){.formFields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:10px}.otherCase[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{gap:10px!important}}.add-user-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:.5em}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48%;margin-bottom:var(--font-size-24);text-align:left}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:var(--width-150)!important}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{width:100%;min-height:var(--width-150)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:var(--font-size-18);padding-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #5367DE;border-radius:2px;text-decoration:none;color:#5367de;margin-right:var(--font-size-12);margin-top:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #6D7886;border-radius:2px;text-decoration:none;color:#6d7886}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   .actiontd[_ngcontent-%COMP%]{margin-bottom:var(--font-size-15)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-30);justify-content:flex-end}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana;color:orange;font-size:var(--font-size-14)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16)}.upload-file[_ngcontent-%COMP%]{width:100%!important}.file-overlay[_ngcontent-%COMP%]{height:var(--width-150);width:100%;position:relative;background:#FFFFFF;border:1px dashed #6F7784;border-radius:8px;text-align:center;padding:var(--font-size-30)}.file-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16);line-height:19px;color:#000;margin-bottom:0}.file-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:19px;color:#000}.file-overlay[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:green;height:100%;position:absolute;opacity:0;left:0;top:0}.mainMulti[_ngcontent-%COMP%]{position:relative}.multipleSelect[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%!important;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:var(--font-size-15);padding:var(--font-size-15) var(--font-size-20);background:white;border:1px solid #ced4da;border-radius:.375rem;box-shadow:#959da533 0 8px 24px;z-index:1}.multipleSelect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--font-size-15)}.multipleSelect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0!important}.multipleSelect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0!important;margin-left:var(--font-size-8)!important}.termcondition[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-16);align-items:center}.termcondition[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-top:1px;text-align:left}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:16px;color:#3f424b;margin-bottom:0}.termcondition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00c0f2}.additionalFucntion[_ngcontent-%COMP%]{padding:.375rem .75rem;border:1px solid #ced4da;border-radius:.375rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(0,15ch));width:100%!important;flex-wrap:wrap;margin:auto;flex-direction:row!important;justify-content:flex-start!important}.additionalFucntion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30%!important;gap:10px;display:flex;justify-content:center;align-items:flex-start;padding:.3em;border-radius:.3em}.additionalFucntion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--clr-secondary)}.additionalFucntion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-block:0px!important;width:100%!important;font-family:verdana-bold;padding-bottom:0}.button-wrapper[_ngcontent-%COMP%]{width:min-content!important}.cancel[_ngcontent-%COMP%]{border:1px solid #E3E3E3!important;border-radius:var(--font-size-10)!important;color:#474554!important;background-color:#fff!important}@media screen and (max-width: 991px){.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:10px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:15px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;padding-bottom:15px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{margin-right:15px}.file-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.file-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:40px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px;font-size:12px}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:140px!important}.file-overlay[_ngcontent-%COMP%]{height:150px}.file-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:24px!important}}.sub-title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:var(--ff-primary);font-weight:700;color:var(--txt-500);margin-bottom:0}[_nghost-%COMP%]     .formFields form :is(input, select[_ngcontent-%COMP%], textarea)[_ngcontent-%COMP%]{background-color:#00206005!important}[_nghost-%COMP%]     .ng-select-container{padding:10px 6px!important;background-color:#00206005!important}']})}return L})(),Kt=(()=>{class L{static#t=this.\u0275fac=function(E){return new(E||L)};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-support"]],decls:1,vars:0,template:function(E,y){1&E&&t._UZ(0,"router-outlet")},dependencies:[q.lC]})}return L})();var Yt=R(2302),te=R(489),ee=R(4864);function ne(L,st){if(1&L&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Request Id"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Customer Name"),t.qZA(),t.TgZ(7,"div",6)(8,"span"),t._uU(9),t.qZA()(),t.BQk()),2&L){const n=t.oxw();t.xp6(4),t.hij(" ",(null==n.vehicleDetails?null:n.vehicleDetails.request_id)||"NA",""),t.xp6(5),t.AsE(" ",null==n.vehicleDetails?null:n.vehicleDetails.customer_first_name," ",null==n.vehicleDetails?null:n.vehicleDetails.customer_last_name," ")}}let Xt=(()=>{class L{constructor(){this.isStandaloneTicket=!1,this.matchUnderScore=/_/g}static#t=this.\u0275fac=function(E){return new(E||L)};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-vehicle-details"]],inputs:{vehicleDetails:"vehicleDetails",isStandaloneTicket:"isStandaloneTicket"},decls:92,vars:24,consts:[["id","vehicleDetail",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","after-seperator","pb-0"],[1,"offcanvas-title","main-title"],["type","button","id","closefilterconvas","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-body","viewTicket","mt-3"],[4,"ngIf"],[2,"display","block"]],template:function(E,y){1&E&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Vehicle Details"),t.qZA(),t._UZ(4,"button",3),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,ne,10,3,"ng-container",5),t.TgZ(7,"p"),t._uU(8,"Vehicle Type"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12,"Vehicle Make"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA(),t.TgZ(15,"p"),t._uU(16,"Vehicle Model"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA(),t.TgZ(19,"p"),t._uU(20,"Vehicle Registration"),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA(),t.TgZ(23,"p"),t._uU(24,"Vehicle Year"),t.qZA(),t.TgZ(25,"span"),t._uU(26),t.qZA(),t.TgZ(27,"p"),t._uU(28,"Vehicle VIN"),t.qZA(),t.TgZ(29,"span"),t._uU(30),t.qZA(),t.TgZ(31,"p"),t._uU(32,"File Type"),t.qZA(),t.TgZ(33,"span"),t._uU(34),t.qZA(),t.TgZ(35,"p"),t._uU(36,"Engine Size"),t.qZA(),t.TgZ(37,"span"),t._uU(38),t.qZA(),t.TgZ(39,"p"),t._uU(40,"Transmission"),t.qZA(),t.TgZ(41,"span"),t._uU(42),t.qZA(),t.TgZ(43,"p"),t._uU(44,"Fuel Type"),t.qZA(),t.TgZ(45,"span"),t._uU(46),t.qZA(),t.TgZ(47,"p"),t._uU(48,"Mileage Type"),t.qZA(),t.TgZ(49,"span"),t._uU(50),t.qZA(),t.TgZ(51,"p"),t._uU(52,"Mileage"),t.qZA(),t.TgZ(53,"span"),t._uU(54),t.qZA(),t.TgZ(55,"p"),t._uU(56,"ECU Brand"),t.qZA(),t.TgZ(57,"span"),t._uU(58),t.qZA(),t.TgZ(59,"p"),t._uU(60,"ECU Version"),t.qZA(),t.TgZ(61,"span"),t._uU(62),t.qZA(),t.TgZ(63,"p"),t._uU(64,"Control Unit"),t.qZA(),t.TgZ(65,"span"),t._uU(66),t.qZA(),t.TgZ(67,"p"),t._uU(68,"Country"),t.qZA(),t.TgZ(69,"span"),t._uU(70),t.qZA(),t.TgZ(71,"p"),t._uU(72,"Tuning Tool Used"),t.qZA(),t.TgZ(73,"span"),t._uU(74),t.qZA(),t.TgZ(75,"p"),t._uU(76,"Tuning Required"),t.qZA(),t.TgZ(77,"span"),t._uU(78),t.qZA(),t.TgZ(79,"p"),t._uU(80,"Additional Function"),t.qZA(),t.TgZ(81,"span"),t._uU(82),t.qZA(),t.TgZ(83,"p"),t._uU(84,"Additional Info."),t.qZA(),t.TgZ(85,"span"),t._uU(86),t.qZA(),t.TgZ(87,"p"),t._uU(88,"Other Fields"),t.qZA(),t.TgZ(89,"span"),t._uU(90),t.ALo(91,"titlecase"),t.qZA()()()),2&E&&(t.xp6(6),t.Q6J("ngIf",!y.isStandaloneTicket),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.vehicle_type)||"NA"),t.xp6(4),t.hij(" ",(null==y.vehicleDetails?null:y.vehicleDetails.vehicle_make)||"NA",""),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.model)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.vehicle_registration)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.vehicle_year)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.vehicle_VIN)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.file_type)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.engine_size)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.transmission)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.fuel_type)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.mileage_type)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.mileage)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.ecu_brand)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.ecu_version)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.control_unit)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.country)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.tuning_tool_used)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.tuning_required)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.additional_function)||"NA"),t.xp6(4),t.Oqu((null==y.vehicleDetails?null:y.vehicleDetails.additional_info)||"NA"),t.xp6(4),t.Oqu(null!=y.vehicleDetails&&y.vehicleDetails.other_fields?t.lcZ(91,22,null==y.vehicleDetails?null:y.vehicleDetails.other_fields.replace(y.matchUnderScore," ")):"NA"))},dependencies:[r.O5,r.rS],styles:["#vehicleDetail[_ngcontent-%COMP%]{overflow-x:clip;background-color:var(--clr-light)}#vehicleDetail[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}#vehicleDetail[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-family:var(--ff-secondary-bold);font-weight:400}#vehicleDetail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #vehicleDetail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:15ch;white-space:wrap;font-family:var(--ff-secondary);font-size:var(--fs-400)}#vehicleDetail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--ff-secondary-bold)}"]})}return L})();function ie(L,st){1&L&&(t.TgZ(0,"span"),t._uU(1,"NA"),t.qZA())}function se(L,st){if(1&L&&(t.TgZ(0,"div",68)(1,"div",69)(2,"span",70),t._uU(3),t.qZA()()()),2&L){const n=t.oxw().$implicit;t.xp6(3),t.AsE("",n.assigned_to.first_name||"NA"," ",n.assigned_to.last_name||"NA"," ")}}function re(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"a",63),t.NdJ("click",function(){t.CHM(n);const y=t.oxw().$implicit,nt=t.oxw();return t.KtG(nt.navigateToEditTicket(y))}),t._UZ(1,"i",71),t.qZA()}}function oe(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"tr")(1,"td",57),t.NdJ("click",function(){const nt=t.CHM(n).$implicit,gt=t.oxw();return t.KtG(gt.navigateToTicket(nt.ids,nt.id))}),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,ie,2,0,"span",58),t.YNc(5,se,4,2,"ng-template",null,59,t.W1O),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",60),t._uU(16),t.qZA(),t.TgZ(17,"td",61)(18,"div",62)(19,"a",63),t.NdJ("click",function(){const nt=t.CHM(n).$implicit,gt=t.oxw();return gt.getTicketDetail(nt),t.KtG(gt.navigateToTicket(nt.ids,nt.id))}),t._UZ(20,"i",64),t.qZA(),t.YNc(21,re,2,0,"a",65),t.TgZ(22,"a",66),t.NdJ("click",function(){const nt=t.CHM(n).$implicit,gt=t.oxw();return t.KtG(gt.getVehicleDetail(nt))}),t._UZ(23,"i",67),t.qZA()()()()}if(2&L){const n=st.$implicit,E=t.MAs(6),y=t.oxw();t.xp6(2),t.hij(" ",n.ids||"NA"," "),t.xp6(2),t.Q6J("ngIf",null===n.assigned_to)("ngIfElse",E),t.xp6(4),t.Oqu(y.noti.formatDate(n.created_at)),t.xp6(2),t.Oqu(y.noti.formatDate(n.updated_at)),t.xp6(2),t.Oqu(n.category),t.xp6(2),t.Oqu((null==n.ticket_status?null:n.ticket_status.display_user_status)||"New"),t.xp6(1),t.Q6J("title",n.subject),t.xp6(1),t.hij(" ",y.truncateText(null==n?null:n.subject,20)," "),t.xp6(5),t.Q6J("ngIf",!(null!=n&&n.request_id))}}function ae(L,st){1&L&&(t.TgZ(0,"p",72)(1,"span"),t._uU(2,"Records not found"),t.qZA()())}function le(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"pagination-controls",73),t.NdJ("pageChange",function(y){t.CHM(n);const nt=t.oxw();return t.KtG(nt.handlePageChange(y))}),t.qZA()}}function ce(L,st){if(1&L&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.s9C("value",n.id),t.xp6(1),t.hij(" ",n.ticket_status||"New"," ")}}function de(L,st){if(1&L&&(t.TgZ(0,"option",74),t._uU(1),t.qZA()),2&L){const n=st.$implicit;t.s9C("value",n.id),t.xp6(1),t.hij(" ",n.name||""," ")}}function he(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",75)(1,"input",76),t.NdJ("change",function(){const nt=t.CHM(n).$implicit,gt=t.oxw();return t.KtG(gt.onChangeTicketStatus(nt.id))}),t.qZA(),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()}if(2&L){const n=st.$implicit;t.xp6(3),t.Oqu(n.ticket_status||"New"),t.xp6(2),t.hij(" ",n.count," ")}}const ue=function(L,st,n){return{itemsPerPage:L,currentPage:st,totalItems:n}};let fe=(()=>{class L{constructor(n,E,y,nt,gt,xt,St,Mt){this.fb=n,this._ticketservice=E,this._titleservice=y,this.toastr=nt,this.crud=gt,this.noti=xt,this.router=St,this.xorEncryption=Mt,this.showFilter=!1,this.ticketCategories=[],this.addi_info=!1,this.ctrl_unit=!1,this.country=!1,this.engine_size=!1,this.asso_custo=!1,this.fuel_type=!1,this.mileage=!1,this.mileage_type=!1,this.model=!1,this.transmission=!1,this.tuning_required=!1,this.vehicle_VIN=!1,this.vehicle_make=!1,this.vehicle_registration=!1,this.vehicle_year=!1,this.showError=!1,this.ticketStatus=[],this.tickets=[],this.page=1,this.pageSize=20,this.title="",this.status="",this.category="",this.created_at="",this.ticketIds=[],this.matchUnderScore=/_/g,this.isStandaloneTicket=!1,this._titleservice.setTitle("Support"),this.filterTicketForm=this.fb.group({status:["",z.kI.required],category:["",z.kI.required],created_at:["",z.kI.required]})}ngOnInit(){console.log("build update"),this.retrieveTickets(),this.getTicketCategory(),this.getCountByCategory(),this.handleLiveTicketUpdates()}handleLiveTicketUpdates(){this.noti.onTicketUpdats.subscribe(n=>{if(!n||!this.tickets?.length)return;const E=this.tickets.find(y=>y.ids==n.ticket_id);E&&(E.conversation_count=n.ticket_conversation,E.updated_at=n.ticket_modified_time,E.ticket_status.team_status=n.ticket_status,E.ticket_status.display_user_status=n.ticket_status,E.assigned_to.first_name=n.ticket_assigned,E.assigned_to.last_name=" ",console.log(E,"updated ticket"))})}navigateToTicket(n,E){this.router.navigateByUrl(`/support/view-ticket/${this.xorEncryption.xorEncryptDecrypt(n)}/${this.xorEncryption.xorEncryptDecrypt(E)}`)}navigateToEditTicket(n){this.router.navigateByUrl(`/support/create/${this.xorEncryption.xorEncryptDecrypt(n.ids)}/${this.xorEncryption.xorEncryptDecrypt(n.id)}`)}getTicketCategory(){this.crud.getRequest(`${D.t.getTicketCategory}`).then(n=>{n&&(this.ticketCategories=n.data.results),this.ticketCategories=this.ticketCategories.filter(E=>{if("Manual Handle"!=E.name)return E})})}getTicketDetail(n){localStorage.setItem("ticketsharedata",JSON.stringify({assigned_to_name:n.assigned_to?.first_name,assigned_to_email:n.assigned_to?.email,status:null!=n.ticket_status?n.ticket_status.team_status:"New"}))}getRequestParams(n,E,y,nt,gt,xt){let St={};return n&&(St.search=n),E&&(St.page=E),y&&(St.page_size=y),nt&&(St.status=nt),gt&&(St.category=gt),xt&&(St.created_at=xt),St}searchTicketResult(){this.searchKey.length>0?this.crud.getRequest(`customer/ticket/search?search=${this.searchKey}`).then(n=>{const E="data"in n?n.data:n;this.tickets=E?.results,this.totalTicket=E?.count,this.showError=0==this.tickets.length}):this.retrieveTickets()}retrieveTickets(n,E){const y=this.getRequestParams(this.title,this.page,this.pageSize,this.status,this.category,this.created_at),nt=this.searchKey?`search?search=${this.searchKey}`:"";n&&(this.sortField=n,this.sortOrder=E),this.sortField&&(y.field=this.sortField,y.order_in=this.sortOrder),this._ticketservice.getTicket(y,nt).subscribe(gt=>{this.tickets=gt?.results,this.totalTicket=gt?.count,this.showError=0==this.tickets.length},gt=>{this.toastr.error(gt.error.detail,"",{timeOut:4e3})})}getCountByCategory(){this.crud.get("admin/ticket/status/count").subscribe(n=>{n&&this.filterTicketResult(n)})}filterTicketResult(n){0==this.ticketStatus.length&&n.count_by_category.forEach((E,y)=>{null!=E.id?this.ticketStatus.push(E):this.ticketStatus.unshift({id:null,count:E.count,ticket_status:null})})}handlePageChange(n){this.page=n,this.retrieveTickets()}onKeyUp(n){this.title=n,this.page=1,this.retrieveTickets()}filterTicketFormSubmit(){this.page=1,this.category=this.filterTicketForm.value.category,this.status=this.filterTicketForm.value.status,this.created_at=this.filterTicketForm.value.created_at,this.getTicketByFilter(),document.getElementById("closefilterconvas")?.click()}getTicketByFilter(){let n={};this.status&&(n.status=this.status),this.category&&(n.category=this.category),this.created_at&&(n.created_at=this.created_at),this._ticketservice.getTicketOnFilter(n).subscribe(E=>{this.tickets=E?.data?.results,this.totalTicket=E?.data?.count},E=>{this.toastr.error(E.error.detail,"",{timeOut:4e3})})}filterByStatus(){this.status=this.ticketIds.toString(),this.page=1,this.status?this.getTicketFilterByTicketStatus():this.retrieveTickets(),document.getElementById("closefiltermodal")?.click()}getTicketFilterByTicketStatus(){this.crud.getRequest(`admin/ticket/filter_by_status?status=${this.status}`).then(n=>{this.tickets=n?.data?.results,this.totalTicket=n?.data?.count})}onChangeTicketStatus(n){if(this.ticketIds.includes(n)){const E=this.ticketIds.indexOf(n);E>-1&&this.ticketIds.splice(E,1)}else this.ticketIds.push(n)}truncateText(n,E){return n?.trim().length>E?n.substring(0,E)+"...":n}getVehicleDetail(n){this.isStandaloneTicket=!n?.request_id,n?.request_id?this.crud.getRequest(`file/service/request/detail/${n?.request_id.replace("FR","")}`).then(E=>{this.vehicleDetails=E,"other_fields"in this.vehicleDetails&&this.vehicleDetails.other_fields&&(this.vehicleDetails.other_fields=this.vehicleDetails.other_fields.replaceAll("_"," ").replaceAll(",",", "))}):this.vehicleDetails=n?.vehicle_details}static#t=this.\u0275fac=function(E){return new(E||L)(t.Y36(z.qu),t.Y36(g.w),t.Y36(A.Dx),t.Y36(b._W),t.Y36(x.I),t.Y36(p.T),t.Y36(q.F0),t.Y36(c.G))};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-ticket-list"]],decls:139,vars:16,consts:[[1,"user-list"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/support","routerLinkActive","active"],[1,"ulist-div"],[1,"u-add","after-seperator"],[1,"main-title"],[1,"u-add-right","justify-content-end"],[3,"onSearch"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#filter",1,"btn-secondary"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"vertical-align","sub"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill-rule","evenodd","clip-rule","evenodd","d","M15 10.5A3.502 3.502 0 0 0 18.355 8H21a1 1 0 1 0 0-2h-2.645a3.502 3.502 0 0 0-6.71 0H3a1 1 0 0 0 0 2h8.645A3.502 3.502 0 0 0 15 10.5zM3 16a1 1 0 1 0 0 2h2.145a3.502 3.502 0 0 0 6.71 0H21a1 1 0 1 0 0-2h-9.145a3.502 3.502 0 0 0-6.71 0H3z","fill","currentColor"],["type","button","title","Filter By Ticket Status","data-bs-toggle","offcanvas","data-bs-target","#ticketStatus",1,"btn-secondary"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.22657 2C2.50087 2 1.58526 4.03892 2.73175 5.32873L8.99972 12.3802V19C8.99972 19.3788 9.21373 19.725 9.55251 19.8944L13.5525 21.8944C13.8625 22.0494 14.2306 22.0329 14.5255 21.8507C14.8203 21.6684 14.9997 21.3466 14.9997 21V12.3802L21.2677 5.32873C22.4142 4.03893 21.4986 2 19.7729 2H4.22657Z","fill","#000000"],["routerLink","create",1,"btn-primary"],["viewBox","0 0 24.00 24.00","width","20px","xmlns","http://www.w3.org/2000/svg","fill","#fff",2,"vertical-align","sub"],["id","Complete"],["data-name","add","id","add-2"],["fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","12","x2","12","y1","19","y2","5"],["fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","x1","5","x2","19","y1","12","y2","12"],[1,"responsive-tbl"],[1,"d-flex","align-items-center"],[1,"mb-0"],[3,"onSort"],[1,"tableHeadAction"],[4,"ngFor","ngForOf"],["class","errcls",4,"ngIf"],["class","pagination-crl","previousLabel","Prev","nextLabel","Next",3,"pageChange",4,"ngIf"],["id","filter",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas",1,"btn-close"],[1,"offcanvas-body"],[3,"formGroup","ngSubmit"],["formControlName","status",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","category",1,"form-select"],["formControlName","created_at",1,"form-select"],["value","today"],["value","yesterday"],["value","week"],["value","month"],[1,"cancel-apply"],["type","button","id","closefilterconvas","data-bs-dismiss","offcanvas",1,"btn"],["type","submit",1,"btn","btn-secondary"],["id","ticketStatus",1,"offcanvas","offcanvas-end"],[1,"offcanvas-inner"],["class","active",4,"ngFor","ngForOf"],["type","button","id","closefiltermodal","data-bs-dismiss","offcanvas",1,"btn"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"vehicleDetails","isStandaloneTicket"],[1,"pointer",2,"color","blue",3,"click"],[4,"ngIf","ngIfElse"],["fulldetail",""],[3,"title"],[1,"tableBodyAction"],[1,"actiontd"],[1,"eyeIcon",3,"click"],["title","View",1,"fa","fa-eye"],["class","eyeIcon",3,"click",4,"ngIf"],["data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail",1,"eyeIcon",3,"click"],["aria-hidden","true",1,"fa","fa-car"],[1,"tdholder"],[1,"tdinner"],[2,"cursor","auto"],["title","Edit",1,"fa","fa-pencil"],[1,"errcls"],["previousLabel","Prev","nextLabel","Next",1,"pagination-crl",3,"pageChange"],[3,"value"],[1,"active"],["type","checkbox",3,"change"]],template:function(E,y){1&E&&(t.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),t._uU(4,"Home"),t.qZA()(),t.TgZ(5,"li",2)(6,"a",4),t._uU(7,"Tickets "),t.qZA()()(),t.TgZ(8,"div",5)(9,"div",6)(10,"h2",7),t._uU(11,"Ticket"),t.qZA(),t.TgZ(12,"div",8)(13,"smart-search",9),t.NdJ("onSearch",function(gt){return y.searchKey=gt,y.page=1,y.searchTicketResult()}),t.qZA(),t.TgZ(14,"button",10),t.O4$(),t.TgZ(15,"svg",11),t._UZ(16,"g",12)(17,"g",13),t.TgZ(18,"g",14),t._UZ(19,"path",15),t.qZA()(),t._uU(20," Filter "),t.qZA(),t.kcU(),t.TgZ(21,"button",16),t.O4$(),t.TgZ(22,"svg",17),t._UZ(23,"g",12)(24,"g",13),t.TgZ(25,"g",14),t._UZ(26,"path",18),t.qZA()()(),t.kcU(),t.TgZ(27,"a",19),t.O4$(),t.TgZ(28,"svg",20),t._UZ(29,"g",12)(30,"g",13),t.TgZ(31,"g",14),t._UZ(32,"title"),t.TgZ(33,"g",21)(34,"g",22)(35,"g"),t._UZ(36,"line",23)(37,"line",24),t.qZA()()()()(),t._uU(38," Create "),t.qZA()()(),t.kcU(),t.TgZ(39,"div",25)(40,"table")(41,"thead")(42,"th")(43,"div",26)(44,"p",27),t._uU(45,"Ticket ID"),t.qZA(),t.TgZ(46,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("ids",gt)}),t.qZA()()(),t.TgZ(47,"th")(48,"div",26)(49,"p",27),t._uU(50,"Assign To"),t.qZA(),t.TgZ(51,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("assigned_to",gt)}),t.qZA()()(),t.TgZ(52,"th")(53,"div",26)(54,"p",27),t._uU(55,"Created"),t.qZA(),t.TgZ(56,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("created_at",gt)}),t.qZA()()(),t.TgZ(57,"th")(58,"div",26)(59,"p",27),t._uU(60,"Modified"),t.qZA(),t.TgZ(61,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("updated_at",gt)}),t.qZA()()(),t.TgZ(62,"th")(63,"div",26)(64,"p",27),t._uU(65,"Category"),t.qZA(),t.TgZ(66,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("category",gt)}),t.qZA()()(),t.TgZ(67,"th")(68,"div",26)(69,"p",27),t._uU(70,"Status"),t.qZA(),t.TgZ(71,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("ticket_status",gt)}),t.qZA()()(),t.TgZ(72,"th")(73,"div",26)(74,"p",27),t._uU(75,"Subject"),t.qZA(),t.TgZ(76,"sort-button",28),t.NdJ("onSort",function(gt){return y.retrieveTickets("subject",gt)}),t.qZA()()(),t.TgZ(77,"th",29),t._uU(78,"Action"),t.qZA()(),t.YNc(79,oe,24,10,"tr",30),t.ALo(80,"paginate"),t.qZA(),t.YNc(81,ae,3,0,"p",31),t.qZA(),t.YNc(82,le,1,0,"pagination-controls",32),t.qZA()(),t.TgZ(83,"div",33)(84,"div",34)(85,"h1",35),t._uU(86,"Filter"),t.qZA(),t._UZ(87,"button",36),t.qZA(),t._UZ(88,"hr"),t.TgZ(89,"div",37)(90,"form",38),t.NdJ("ngSubmit",function(){return y.filterTicketFormSubmit()}),t.TgZ(91,"div")(92,"label"),t._uU(93,"Ticket Status"),t.qZA(),t.TgZ(94,"select",39)(95,"option",40),t._uU(96,"Select status"),t.qZA(),t.YNc(97,ce,2,2,"option",41),t.qZA()(),t.TgZ(98,"div")(99,"label"),t._uU(100,"Ticket Category"),t.qZA(),t.TgZ(101,"select",42)(102,"option",40),t._uU(103,"Select ticket category"),t.qZA(),t.YNc(104,de,2,2,"option",41),t.qZA()(),t.TgZ(105,"div")(106,"label"),t._uU(107,"Request Date"),t.qZA(),t.TgZ(108,"select",43)(109,"option",40),t._uU(110,"Select Date"),t.qZA(),t.TgZ(111,"option",44),t._uU(112,"Today"),t.qZA(),t.TgZ(113,"option",45),t._uU(114,"Yesterday"),t.qZA(),t.TgZ(115,"option",46),t._uU(116,"Past 7 days"),t.qZA(),t.TgZ(117,"option",47),t._uU(118,"This month"),t.qZA()()(),t.TgZ(119,"div",48)(120,"button",49),t._uU(121," Cancel "),t.qZA(),t.TgZ(122,"button",50),t._uU(123,"Apply Filters"),t.qZA()()()()(),t.TgZ(124,"div",51)(125,"div",34)(126,"h1",35),t._uU(127,"Ticket Status"),t.qZA(),t._UZ(128,"button",36),t.qZA(),t._UZ(129,"hr"),t.TgZ(130,"div",37)(131,"div",52),t.YNc(132,he,6,2,"div",53),t.TgZ(133,"div",48)(134,"button",54),t._uU(135," Cancel "),t.qZA(),t.TgZ(136,"button",55),t.NdJ("click",function(){return y.filterByStatus()}),t._uU(137," Apply Filters "),t.qZA()()()()(),t._UZ(138,"app-vehicle-details",56)),2&E&&(t.xp6(79),t.Q6J("ngForOf",t.xi3(80,9,y.tickets,t.kEZ(12,ue,y.pageSize,y.page,y.totalTicket))),t.xp6(2),t.Q6J("ngIf",y.showError),t.xp6(1),t.Q6J("ngIf",0!=(null==y.tickets?null:y.tickets.length)),t.xp6(8),t.Q6J("formGroup",y.filterTicketForm),t.xp6(7),t.Q6J("ngForOf",y.ticketStatus),t.xp6(7),t.Q6J("ngForOf",y.ticketCategories),t.xp6(28),t.Q6J("ngForOf",y.ticketStatus),t.xp6(6),t.Q6J("vehicleDetails",y.vehicleDetails)("isStandaloneTicket",y.isStandaloneTicket))},dependencies:[r.sg,r.O5,q.rH,q.Od,z._Y,z.YN,z.Kr,z.EJ,z.JJ,z.JL,z.sg,z.u,Yt.LS,te.A,ee.a,Xt,Yt._s],styles:['.breadcrumb[_ngcontent-%COMP%]{padding-bottom:var(--font-size-18)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{background-image:url(breadcrumb.af64ae9333209c41.png);background-size:var(--font-size-10) var(--font-size-10);display:inline-block;width:var(--font-size-10);height:var(--font-size-10);content:"";margin:var(--font-size-10) var(--font-size-17) 0px var(--font-size-17)}.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:verdana;font-size:var(--font-size-12);line-height:var(--font-size-15);color:#6f7784;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0e1321}.ulist-div[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);width:100%;padding:var(--font-size-24) var(--font-size-20)}.responsive-tbl[_ngcontent-%COMP%]{overflow-x:auto;margin-top:var(--font-size-16);max-height:60vh}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;max-width:100%}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{z-index:2;position:sticky;top:0;background-color:#d8dde7!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #5367DE;border-radius:2px;display:flex;align-items:center;justify-content:center;text-decoration:none}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #6D7886;border-radius:2px;display:flex;align-items:center;justify-content:center;text-decoration:none}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit1[_ngcontent-%COMP%]{width:var(--font-size-20);height:var(--font-size-20);padding:var(--font-size-5);border:1px solid #219653;border-radius:2px;display:flex;align-items:center;justify-content:center}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .edit1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:var(--font-size-10)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .userImg[_ngcontent-%COMP%]{width:var(--font-size-40);height:var(--font-size-40);margin-right:var(--font-size-12);border-radius:50%;object-fit:cover}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--font-size-12);font-family:verdana;font-size:var(--font-size-14);line-height:var(--font-size-17);color:#6f7784;text-align:center;white-space:nowrap}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.actiontd[_ngcontent-%COMP%]{justify-content:center}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:var(--font-size-12)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:var(--font-size-14);border:none;accent-color:#219653}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{cursor:pointer}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgba(0,32,96,.05);border-bottom:1px solid #B3B3B3;border-top:1px solid #B3B3B3;border-radius:4px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   .tableBodyAction[_ngcontent-%COMP%]{background:#F3F3F7!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:rgba(0,32,96,.15);border-radius:4px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:var(--font-size-10);text-align:center;font-size:var(--font-size-14)}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){text-align:left;padding-left:var(--font-size-12)}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left;display:flex;margin-bottom:7px}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){width:35%}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:65%}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:600}.u-add[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.5rem;align-items:center}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{width:var(--font-size-30);height:var(--font-size-30);margin-right:var(--font-size-12)}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:var(--font-size-20);height:var(--font-size-20);object-fit:cover}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16);margin-right:var(--font-size-12)}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2) a   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16);margin-right:var(--font-size-12)}.u-add[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.u-add[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff}.activecls[_ngcontent-%COMP%]{background:rgba(33,150,83,.1);border:.5px solid rgba(190,202,217,.2);border-radius:var(--font-size-20);font-family:verdana;font-size:var(--font-size-10);line-height:var(--font-size-12);color:#219653;padding:var(--font-size-5) var(--font-size-12)}.Inactivecls[_ngcontent-%COMP%]{background:rgba(255,0,0,.2);border:.5px solid rgba(255,0,0,.1);border-radius:20px;font-family:verdana;font-size:var(--font-size-10);line-height:var(--font-size-12);color:red;padding:var(--font-size-5) var(--font-size-12)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:none;height:100vh;position:relative}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:none;gap:var(--font-size-20)}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){font-family:verdana;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);background:#394A9C;border-radius:5px;color:#fff;border:none}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){font-family:verdana;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);border:1px solid #E3E3E3!important;background:#fff;border-radius:5px;color:#474554;border:none}.modal-header[_ngcontent-%COMP%]{border-bottom:0px!important;margin-bottom:var(--font-size-30);padding:0;justify-content:center!important}.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:verdana;font-size:var(--font-size-18);line-height:var(--font-size-20);text-align:center;color:#000}.modal-content[_ngcontent-%COMP%]{padding:var(--font-size-48);min-width:var(--width-640);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:var(--font-size-30);right:var(--font-size-30);font-size:var(--font-size-12)}.productModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{justify-content:flex-start!important;padding-left:0!important}.productModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding-left:0!important}.productModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana-bold!important;font-size:var(--font-size-16)!important;line-height:var(--font-size-20);display:flex;align-items:center;color:#2a3042!important;margin-bottom:var(--font-size-16)}.productModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:block;margin-bottom:var(--font-size-17)!important}.productModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:verdana-bold!important;font-size:var(--font-size-24)!important;line-height:var(--font-size-30)!important;text-align:left;color:#474554!important}.offcanvas.show[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]{background:#fff;padding:var(--font-size-30) 0px;min-width:var(--width-400)}.offcanvas.show[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-24);line-height:var(--font-size-30);letter-spacing:-.02em;color:#474554}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:var(--font-size-10);height:var(--font-size-10)}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%], .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{padding:0px var(--font-size-30)!important}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%], .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 0 15px #00000040;border-radius:0 0 8px 8px;position:absolute;bottom:0;left:0;right:0;padding:var(--font-size-16);display:flex;align-items:center;text-align:center;justify-content:center;gap:var(--font-size-24)}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){font-size:var(--font-size-16);text-transform:capitalize;color:#474554;padding:var(--font-size-10) var(--font-size-40);border:1px solid #474554;border-radius:var(--font-size-5)}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .offcanvas.showing[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]   .cancel-apply[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){color:#fff;background-color:#2b3ca3;font-size:var(--font-size-16);text-transform:capitalize;padding:var(--font-size-10) var(--font-size-40);border:1px solid #2B3CA3}.offcanvas.show[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left;font-size:var(--font-size-16);line-height:var(--font-size-24);display:flex;align-items:center;text-transform:capitalize;color:#474554;margin-bottom:var(--font-size-16);font-family:roboto600}.offcanvas.show[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .offcanvas.showing[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#FFFFFF;border:1.5px solid #E3E3E3;border-radius:4px;margin-bottom:var(--font-size-16);font-size:var(--font-size-16);line-height:var(--font-size-24);color:#474554}.offcanvas-inner[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:var(--font-size-12) var(--font-size-20);background:rgba(57,74,156,.1);border-radius:var(--font-size-5);align-items:center}.offcanvas-inner[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .offcanvas-inner[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);color:#394a9c;margin-bottom:0}.offcanvas-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:var(--font-size-12);display:flex;justify-content:space-between;padding:var(--font-size-12) var(--font-size-20);background:#fff;border-radius:var(--font-size-5);align-items:center}.offcanvas-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .offcanvas-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);color:#394a9c;margin-bottom:0}.creatediv[_ngcontent-%COMP%]{text-align:right}.creatediv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block}.creatediv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16);margin-right:var(--font-size-12)}.offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:var(--font-size-5)}@media screen and (max-width: 991px){.u-add[_ngcontent-%COMP%]{flex-direction:column;gap:2rem}.u-add[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left;font-size:1.2rem!important;align-self:start}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   select[_ngcontent-%COMP%]{max-width:100%;width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   input[_ngcontent-%COMP%]{background-position:top 12px right 20px;background-size:12px;padding:10px}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .eyeIcon[_ngcontent-%COMP%]{width:20px;height:20px;padding:5px}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.creatediv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.creatediv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;font-size:12px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.responsive-tbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto}}@media screen and (max-width: 490px){.tdholder[_ngcontent-%COMP%]   .tdinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{width:20px!important;height:20px!important}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){border:1px solid rgba(128,128,128,.3294117647);padding:5px;border-radius:5px}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1) button, .u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3) button{padding:0}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   p[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)   p[_ngcontent-%COMP%]{margin-bottom:0}}@media screen and (max-width: 991px){.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px!important;line-height:24px}}@media screen and (max-width: 767px){.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px!important}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px!important;width:100%}}.dropDownList[_ngcontent-%COMP%]{background:white;border:1px solid black;border-radius:10px;padding:10px;z-index:1;position:absolute;min-width:var(--width-260);right:0}.dropDownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;text-align:left}.dropDownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}']})}return L})();var ge=R(7769),pe=R(2563),_e=R(9623);const me=["scroll"];function ve(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.getVehicleDetail())}),t._UZ(1,"i",29),t.qZA()}}const Ce=function(L,st){return["/support/create",L,st]};function be(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",30),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.navigateToEditTicket(y.ticketDetail))}),t._UZ(1,"i",31),t.qZA()}if(2&L){const n=t.oxw();t.Q6J("routerLink",t.WLB(1,Ce,null==n.ticketDetail?null:n.ticketDetail.ids,null==n.ticketDetail?null:n.ticketDetail.id))}}function Pe(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.vehDetail=null!=y.ticketDetail&&null!=y.ticketDetail.file_request&&y.ticketDetail.file_request.request_id?y.ticketDetail.file_request:y.ticketDetail.vehicle_details)}),t._UZ(1,"i",29),t.qZA()}}function ye(L,st){if(1&L&&(t.TgZ(0,"a",65),t._UZ(1,"img",66),t.qZA()),2&L){const n=t.oxw(2).$implicit;t.Q6J("href",n.file,t.LSH),t.xp6(1),t.Q6J("ngClass",n.file.endsWith(".png")||n.file.endsWith(".jpg")||n.file.endsWith(".jpeg")||n.file.endsWith(".webp")||n.file.endsWith(".svg")?"imgF":"imgD")("src",n.file.endsWith(".png")||n.file.endsWith(".jpg")||n.file.endsWith(".jpeg")||n.file.endsWith(".webp")||n.file.endsWith(".svg")?n.file:"assets/images/icon/filesIcon.png",t.LSH)}}function Ae(L,st){if(1&L&&(t.TgZ(0,"pre",67),t._uU(1,"                    "),t.qZA()),2&L){const n=t.oxw(2).$implicit;t.Q6J("innerHTML",n.message,t.oJD)}}function Me(L,st){if(1&L&&(t.TgZ(0,"div",61),t.YNc(1,ye,2,3,"a",62),t.TgZ(2,"p",63),t._uU(3),t.qZA(),t.YNc(4,Ae,2,1,"pre",64),t.qZA()),2&L){const n=t.oxw().$implicit,E=t.oxw(2);t.Q6J("ngClass",(null==E.userDetail?null:E.userDetail.user_id)!==n.sender?"rightChatBox":"leftChatBox"),t.xp6(1),t.Q6J("ngIf",n.file),t.xp6(2),t.Oqu(E.decodeFileNameFromUrl(n.file)),t.xp6(1),t.Q6J("ngIf",n.message)}}function xe(L,st){if(1&L&&t._UZ(0,"p",70),2&L){const n=t.oxw(2).$implicit;t.Q6J("innerHTML",n.message,t.oJD)}}function Oe(L,st){if(1&L&&(t.TgZ(0,"div",68),t.YNc(1,xe,1,1,"p",69),t.qZA()),2&L){const n=t.oxw().$implicit,E=t.oxw(2);t.Q6J("ngClass",(null==E.userDetail?null:E.userDetail.user_id)!==(null==n?null:n.sender)?"rightChatBox":"leftChatBox"),t.xp6(1),t.Q6J("ngIf",n.message)}}const we=function(L){return{"align-items":L}},Te=function(L){return{width:L}};function Se(L,st){if(1&L&&(t.TgZ(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"div",55)(6,"div"),t._UZ(7,"img",56),t.qZA(),t.TgZ(8,"div",57)(9,"span"),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"p",58),t._uU(13),t.qZA()()()()(),t.YNc(14,Me,5,4,"div",59),t.YNc(15,Oe,2,2,"div",60),t.qZA()()()),2&L){const n=st.$implicit,E=t.oxw(2);t.xp6(1),t.Q6J("ngStyle",t.VKq(12,we,(null==E.userDetail?null:E.userDetail.user_id)!==n.sender?"flex-end":"flex-start")),t.xp6(1),t.Q6J("ngStyle",t.VKq(14,Te,"article"==n.message_type?"100%":"65%")),t.xp6(3),t.Q6J("ngClass",(null==E.userDetail?null:E.userDetail.user_id)!==n.sender?"nameDesc-inner_right":"nameDesc-inner_left"),t.xp6(2),t.Q6J("src",n.sender_image||"assets/images/icon/avtarIcon.jpeg",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(11,10,null==n?null:n.sender_name)," "),t.xp6(2),t.ekj("text-end",(null==E.userDetail?null:E.userDetail.user_id)!==n.sender),t.xp6(1),t.Oqu(E.noti.formatDate(null==n?null:n.created_at)),t.xp6(1),t.Q6J("ngIf","article"!=n.message_type),t.xp6(1),t.Q6J("ngIf","article"==n.message_type)}}function ke(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"img",71),t.NdJ("click",function(){t.CHM(n);const y=t.oxw(2);return y.conversationForm.controls.file.setValue(""),t.KtG(y.conversationForm.controls.message_type.setValue("text"))}),t.qZA()}if(2&L){const n=t.oxw(2);t.Q6J("ngClass","png"==n.fileType||"jpg"==n.fileType||"jpeg"==n.fileType?"fileCross":"docCross")}}function Ee(L,st){if(1&L&&t._UZ(0,"img",72),2&L){const n=t.oxw(2);t.Q6J("ngClass","png"==n.fileType||"jpg"==n.fileType||"jpeg"==n.fileType?"fileimg":"docIcon")("src","png"==n.fileType||"jpg"==n.fileType||"jpeg"==n.fileType?n.conversationForm.controls.file.value:"assets/images/icon/filesIcon.png",t.LSH)}}function Le(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div")(1,"div",33,34),t.YNc(3,Se,16,16,"div",35),t.qZA(),t.TgZ(4,"form",36),t.NdJ("ngSubmit",function(){t.CHM(n);const y=t.oxw();return t.KtG(y.conversationFormSubmit())}),t.TgZ(5,"div",37)(6,"div",38)(7,"div"),t.YNc(8,ke,1,1,"img",39),t.YNc(9,Ee,1,2,"img",40),t.qZA()(),t._UZ(10,"textarea",41),t.TgZ(11,"div",42)(12,"div",43)(13,"div",44)(14,"img",45),t.NdJ("click",function(){t.CHM(n);const y=t.MAs(16);return t.KtG(y.click())}),t.qZA(),t.TgZ(15,"input",46,47),t.NdJ("change",function(y){t.CHM(n);const nt=t.oxw();return t.KtG(nt.selectFile(y))}),t.qZA()()(),t.TgZ(17,"button",48),t._uU(18," Send"),t._UZ(19,"img",49),t.qZA()()()()()}if(2&L){const n=t.oxw();t.xp6(3),t.Q6J("ngForOf",n.conversations),t.xp6(1),t.Q6J("formGroup",n.conversationForm),t.xp6(4),t.Q6J("ngIf",""!=n.conversationForm.controls.file.value),t.xp6(1),t.Q6J("ngIf",""!=n.conversationForm.controls.file.value),t.xp6(8),t.Q6J("disabled",n.conversationForm.invalid)}}function Fe(L,st){if(1&L&&(t.TgZ(0,"div")(1,"div",73)(2,"h2"),t._uU(3,"Ticket Information"),t.qZA()(),t.TgZ(4,"div",74)(5,"div")(6,"div")(7,"div")(8,"p"),t._uU(9,"Created By"),t.qZA()(),t.TgZ(10,"div",75)(11,"span"),t._uU(12),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"span"),t._uU(15),t.qZA()()(),t.TgZ(16,"div")(17,"div")(18,"p"),t._uU(19,"Assigned To"),t.qZA()(),t.TgZ(20,"div",75)(21,"span"),t._uU(22),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"span"),t._uU(25),t.qZA()()()(),t.TgZ(26,"div")(27,"div")(28,"div")(29,"p"),t._uU(30,"Created At"),t.qZA()(),t.TgZ(31,"div")(32,"span"),t._uU(33),t.qZA()()(),t.TgZ(34,"div")(35,"div")(36,"p"),t._uU(37,"Category"),t.qZA()(),t.TgZ(38,"div")(39,"span"),t._uU(40),t.qZA()()()(),t.TgZ(41,"div")(42,"div")(43,"div")(44,"p"),t._uU(45,"Subject"),t.qZA()(),t.TgZ(46,"div")(47,"span"),t._uU(48),t.qZA()()(),t.TgZ(49,"div")(50,"div")(51,"p"),t._uU(52,"Status"),t.qZA()(),t.TgZ(53,"div")(54,"span"),t._uU(55),t.qZA()()()(),t.TgZ(56,"div",76)(57,"div")(58,"div")(59,"p"),t._uU(60,"Description"),t.qZA()(),t.TgZ(61,"div")(62,"span"),t._uU(63),t.qZA()()()()()()),2&L){const n=t.oxw();t.xp6(12),t.AsE(" ",null==n.ticketDetail?null:n.ticketDetail.created_by.first_name," ",null==n.ticketDetail?null:n.ticketDetail.created_by.last_name," "),t.xp6(3),t.Oqu(null==n.ticketDetail?null:n.ticketDetail.created_by.email),t.xp6(7),t.AsE(" ",null==n.ticketDetail?null:n.ticketDetail.assigned_to.first_name," ",null==n.ticketDetail?null:n.ticketDetail.assigned_to.last_name," "),t.xp6(3),t.Oqu(null==n.ticketDetail?null:n.ticketDetail.assigned_to.email),t.xp6(8),t.Oqu(n.noti.formatDate(null==n.ticketDetail?null:n.ticketDetail.created_at)),t.xp6(7),t.Oqu(null==n.ticketDetail?null:n.ticketDetail.category),t.xp6(8),t.Oqu(null==n.ticketDetail?null:n.ticketDetail.subject),t.xp6(7),t.Oqu((null==n.ticketDetail||null==n.ticketDetail.ticket_status?null:n.ticketDetail.ticket_status.display_user_status)||"New"),t.xp6(8),t.Oqu(null==n.ticketDetail?null:n.ticketDetail.description)}}function Ie(L,st){if(1&L&&(t.TgZ(0,"div",84)(1,"div",85)(2,"div",86),t._UZ(3,"img",87),t.qZA(),t.TgZ(4,"div",81)(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"fileSize"),t.qZA()()(),t.TgZ(13,"div")(14,"a",88),t._UZ(15,"img",89),t.qZA()()()),2&L){const n=st.$implicit,E=t.oxw(2);t.xp6(6),t.AsE(" ",n.attachement_name," / ",E.noti.formatDate(null==n?null:n.created_at)," "),t.xp6(2),t.AsE(" ",n.uploaded_by.first_name," ",n.uploaded_by.last_name||""," "),t.xp6(3),t.hij(" ",t.lcZ(12,6,n.file_size)," "),t.xp6(3),t.s9C("href",n.file,t.LSH)}}function De(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div"),t._UZ(1,"span",null,34),t.TgZ(3,"div",77)(4,"div",78),t._UZ(5,"img",79),t.TgZ(6,"input",80),t.NdJ("change",function(y){t.CHM(n);const nt=t.oxw();return t.KtG(nt.onFileChange(y))}),t.qZA()(),t.TgZ(7,"div",81)(8,"p"),t._uU(9,"Add a new file"),t.qZA()()(),t.TgZ(10,"div",82),t.YNc(11,Ie,16,8,"div",83),t.qZA()()}if(2&L){const n=t.oxw();t.xp6(11),t.Q6J("ngForOf",n.attachments)}}function Re(L,st){if(1&L&&(t.TgZ(0,"div",91)(1,"div",92)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",93)(5,"div",94)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()(),t._UZ(10,"hr"),t.qZA()),2&L){const n=st.$implicit,E=t.oxw(2);t.xp6(3),t.hij(" ",E.noti.formatDate(null==n?null:n.created_at),""),t.xp6(4),t.Oqu(null==n?null:n.title),t.xp6(2),t.hij(" ",null==n?null:n.message," ")}}function Ne(L,st){if(1&L&&(t.TgZ(0,"div"),t.YNc(1,Re,11,3,"div",90),t.qZA()),2&L){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.chatHistory)}}function ze(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",102)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span",103),t.NdJ("click",function(){const nt=t.CHM(n).$implicit,gt=t.oxw(3);return t.KtG(gt.getArticleDetail(nt.slug))}),t._uU(6,"Read More..."),t.qZA(),t._UZ(7,"hr"),t.qZA()}if(2&L){const n=st.$implicit,E=st.index;t.xp6(2),t.AsE("",E+1,". ",null==n?null:n.title,""),t.xp6(2),t.hij(" ",null==n?null:n.summary," ")}}const Ue=function(L,st,n){return{itemsPerPage:L,currentPage:st,totalItems:n}};function Be(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",97)(1,"div",98)(2,"div")(3,"input",99),t.NdJ("ngModelChange",function(y){t.CHM(n);const nt=t.oxw(2);return t.KtG(nt.searchKey=y)})("keyUp.enter",function(){t.CHM(n);const y=t.oxw(2);return t.KtG(y.getKnowledgeBaseDetail())}),t.qZA(),t.TgZ(4,"button"),t._UZ(5,"img",100),t.qZA()()(),t.YNc(6,ze,8,3,"div",101),t.ALo(7,"paginate"),t.qZA()}if(2&L){const n=t.oxw(2);t.xp6(3),t.Q6J("ngModel",n.searchKey),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,n.articleList,t.kEZ(5,Ue,n.pageSize,n.page,n.totalArticle)))}}function Ve(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"div",97)(1,"div",104),t.NdJ("click",function(){t.CHM(n);const y=t.oxw(2);return t.KtG(y.articleAnswerView=!1)}),t._UZ(2,"i",105),t._uU(3,"\xa0Back "),t.qZA(),t.TgZ(4,"div",106)(5,"span",107),t._uU(6),t.qZA(),t._UZ(7,"p",70,108),t.qZA()()}if(2&L){const n=t.oxw(2);t.xp6(6),t.Oqu(n.answerDetail.title),t.xp6(1),t.Q6J("innerHTML",n.answerDetail.answer,t.oJD)}}function Ze(L,st){if(1&L){const n=t.EpF();t.TgZ(0,"pagination-controls",109),t.NdJ("pageChange",function(y){t.CHM(n);const nt=t.oxw(2);return t.KtG(nt.handlePageChange(y))}),t.qZA()}}function qe(L,st){if(1&L&&(t.TgZ(0,"div"),t.YNc(1,Be,8,9,"div",95),t.YNc(2,Ve,9,2,"div",95),t.YNc(3,Ze,1,0,"pagination-controls",96),t.qZA()),2&L){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.articleAnswerView),t.xp6(1),t.Q6J("ngIf",n.articleAnswerView),t.xp6(1),t.Q6J("ngIf",(null==n.articleList?null:n.articleList.length)>0)}}const je=[{path:"",component:Kt,children:[{path:"",component:fe},{path:"create",component:Wt},{path:"create/:ids/:id",component:Wt},{path:"view-ticket/:ids/:id",component:(()=>{class L{constructor(n,E,y,nt,gt,xt,St,Mt,kt,$t,Qt){this._converservice=n,this.sanitizer=E,this.route=y,this.fb=nt,this.router=gt,this._ticketservice=xt,this.toastr=St,this.crud=Mt,this.noti=kt,this.uploadService=$t,this.xorEncryption=Qt,this.isexpandedMsgWindow=!0,this.tab="conversion",this.conversations=[],this.attachments=[],this.fileList=[],this.formData=new FormData,this.pageSize=10,this.page=1,this.totalArticle=0,this.userDetail=JSON.parse(localStorage.getItem("userdetails")||"{}"),this.articleAnswerView=!1,this.ticketId=this.xorEncryptDecrypt(this.route.snapshot.paramMap.get("ids")),this.id=this.xorEncryptDecrypt(this.route.snapshot.paramMap.get("id")),this.conversationForm=this.fb.group({sender:["",z.kI.required],recipient:["",z.kI.required],message:[""],message_type:["text"],file:[""],attachement_name:[""]})}ngOnInit(){this._converservice.initSocket(this.ticketId),this.noti.onMessageUser.subscribe(n=>{n&&"user_attachment_refresh"===n.type&&n.ids==this.ticketId&&this.retrieveConversation()}),this.retrieveConversation(),this._converservice.onConversation.subscribe(n=>{console.log(n),n&&n.message?(console.log(n),n.message="article"==n?.message_type?this.sanitizer.bypassSecurityTrustHtml(n?.message):n.message,"article"==n?.message_type?(n.message=n.message.changingThisBreaksApplicationSecurity.replace("SafeValue must use [property]=binding:",""),n.message=n.message.replace("(see https://g.co/ng/security#xss)","")):(n.message=n.message.replace("SafeValue must use [property]=binding:",""),n.message=n.message.replace("(see https://g.co/ng/security#xss)","")),this.conversations.push(n)):n&&n.file&&this.conversations.push(n),this.scrollBottom()}),this.getTicketDetail()}navigateToEditTicket(n){this.router.navigateByUrl(`/support/create/${this.xorEncryption.xorEncryptDecrypt(n.ids)}/${this.xorEncryption.xorEncryptDecrypt(n.id)}`)}xorEncryptDecrypt(n,E="safeViezu"){return null===n?n:("number"==typeof n&&(n=`${n}`),n.split("").map((y,nt)=>String.fromCharCode(y.charCodeAt(0)^E.charCodeAt(nt%E.length))).join(""))}getTicketDetail(){this.crud.getRequest(`${D.t.getTicketDetail}${this.id}`).then(n=>{n&&(this.ticketDetail=n.data,console.log(this.ticketDetail?.file_request?.request_id||!this.ticketDetail?.request_id,"condition for car icon"),this.ticket_status=null!=n.ticket_status?n.ticket_status.team_status:"New")})}decodeFileNameFromUrl(n){return n?decodeURIComponent(n.split("/")[n.split("/").length-1]):""}selectFile(n){this.selectedFiles=n.target.files;const E=this.selectedFiles.item(0);this.uploadService.uploadFile(E,y=>{this.conversationForm.controls.file.setValue(y),this.conversationForm.controls.message_type.setValue("file"),this.conversationForm.controls.attachement_name.setValue(E.name),this.fileType=y.split("."),this.fileType=this.fileType[this.fileType.length-1]})}conversationFormSubmit(){let n=this.conversationForm.value;n.message=n.message.replace("SafeValue must use [property]=binding:",""),n.message=n.message.replace("(see https://g.co/ng/security#xss)",""),console.log(n,"data"),(""!=this.conversationForm.controls.file.value||""!=this.conversationForm.controls.message.value)&&(this._converservice.sendMessage(JSON.stringify(n)),this.conversationForm.patchValue({message:""}),this.conversationForm.patchValue({file:""}),this.conversationForm.patchValue({message_type:"text"}))}retrieveConversation(n){this._ticketservice.getConversation(this.ticketId).subscribe(E=>{E&&(this.conversations=E.data.results.reverse(),this.conversations.length>0&&this.conversations.forEach(y=>{y&&(y.message=this.sanitizer.bypassSecurityTrustHtml(y.message))}),this.conversationForm.patchValue({sender:E.sender,recipient:E.recipient}),setTimeout(()=>{this.scrollBottom()},200))},E=>{})}getKnowledgeBaseDetail(){this.searchKey?this.crud.getRequest(`${J.d.getArticleList}?search=${this.searchKey}`).then(n=>{n&&(this.articleList=n.data.results,this.totalArticle=n.data.count)}):this.crud.getRequest(`${J.d.getArticleList}?page=${this.page}&page_size=${this.pageSize}`).then(n=>{n&&(this.articleList=n.data.results,this.totalArticle=n.data.count)})}handlePageChange(n){this.page=n,this.getKnowledgeBaseDetail()}getAttachments(){this.tab="attachment",this._ticketservice.getAttachments(this.ticketId).subscribe(n=>{this.attachments=n.data},n=>{})}onFileChange(n){if(this.newFileList=Array.from(n.target.files),this.formData.append("attachement_name",this.newFileList[0].name),this.formData.append("attachement_type","2"),this.newFileList.length>0)for(let E of this.newFileList)this.fileList.push({name:E.name,type:E.type,size:E.size/1e3+"KB",file:E}),this.formData.append("files",E,E.name);this._ticketservice.saveAttachments(this.ticketId,this.formData).subscribe(E=>{this.toastr.success(E.message,"",{timeOut:4e3}),this.getAttachments()},E=>{this.toastr.error(E.error.detail,"",{timeOut:4e3})})}readArticle(n){var E=n.changingThisBreaksApplicationSecurity.split("?")[1];E=n.changingThisBreaksApplicationSecurity.split("?")[1].slice(0,E.length-4);const y=this.router.serializeUrl(this.router.createUrlTree(["/knowledgebase"],{queryParams:{ques:E}}));window.open(y,"_blank")}getArticleDetail(n,E){this.crud.getRequest(`${D.t.getArticleDetail}${n}`).then(y=>{this.answerDetail=y,this.answerDetail.answer=this.sanitizer.bypassSecurityTrustHtml(this.answerDetail?.answer),this.articleAnswerView=!0})}ngOnDestroy(){this._converservice.closeSocket()}scrollBottom(){this.scroll.nativeElement.scrollTop=this.scroll.nativeElement.scrollHeight}scrollToTop(){this.scroll.nativeElement.scrollTop=0}expandMsgWindow(){this.isexpandedMsgWindow=!this.isexpandedMsgWindow}getChatHistory(){this.crud.getRequest(`${D.t.getChatHistory}${this.ticketId}?page=${this.page}&page_size=500`).then(n=>{this.chatHistory=n.data.results})}getVehicleDetail(){this.ticketDetail?.request_id?this.crud.getRequest(`file/service/request/detail/${this.ticketDetail?.request_id.replace("FR","")}`).then(n=>{this.vehDetail=n,"other_fields"in this.vehDetail&&this.vehDetail.other_fields&&(this.vehDetail.other_fields=this.vehDetail.other_fields.replaceAll("_"," ").replaceAll(",",", "))}):this.vehDetail=this.ticketDetail?.vehicle_details}static#t=this.\u0275fac=function(E){return new(E||L)(t.Y36(ge.E),t.Y36(A.H7),t.Y36(q.gz),t.Y36(z.qu),t.Y36(q.F0),t.Y36(g.w),t.Y36(b._W),t.Y36(x.I),t.Y36(p.T),t.Y36(pe.f),t.Y36(c.G))};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-view-ticket"]],viewQuery:function(E,y){if(1&E&&t.Gf(me,5,t.SBq),2&E){let nt;t.iGM(nt=t.CRH())&&(y.scroll=nt.first)}},decls:44,vars:22,consts:[[1,"user-list"],[1,"ulist-div"],[1,"u-add","after-seperator"],[1,"main-title"],[1,"u-add-right"],["routerLink","/support"],["title","Back","aria-hidden","true",1,"fa","fa-long-arrow-left"],["data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail",3,"click",4,"ngIf"],["class","eyeIcon",3,"routerLink","click",4,"ngIf"],["class","eyeIcon","data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail",3,"click",4,"ngIf"],[1,"tholder","mt-4"],[1,"tleft",3,"ngClass"],[1,"faDiv"],[1,"fa","fa-expand",3,"click"],[1,"tabList"],["title","Conversation",3,"ngClass","click"],["alt","conversation",3,"src"],["title","Information",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-info",2,"width","18px"],["title","Attachments",3,"ngClass","click"],["alt","attachment",3,"src"],["title","History",3,"ngClass","click"],["alt","history",3,"src"],["title","Knowledgebase",3,"ngClass","click"],["alt","knowledge",3,"src"],[1,"tright",3,"ngClass"],[4,"ngIf"],[3,"vehicleDetails","isStandaloneTicket"],["data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail",3,"click"],["aria-hidden","true",1,"fa","fa-car"],[1,"eyeIcon",3,"routerLink","click"],["title","Edit",1,"fa","fa-pencil"],["data-bs-toggle","offcanvas","data-bs-target","#vehicleDetail",1,"eyeIcon",3,"click"],[1,"chatWindow"],["scroll",""],["class","conversion-inner",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"textarea"],[1,"uploadFileView"],["src","assets/images/icon/cross-small.svg","alt","close",3,"ngClass","click",4,"ngIf"],["alt","close",3,"ngClass","src",4,"ngIf"],["formControlName","message","placeholder","Enter your message here",1,"form-control"],[1,"btnGroup"],[1,"fileupload"],[1,"dropup"],["src","assets/images/icon/fileupload.png","alt","file upload",1,"dropdown-toggle",3,"click"],["type","file",2,"display","none",3,"change"],["fileInput",""],["type","submit",1,"btn","btn-primary",3,"disabled"],["src","assets/images/icon/mailsend.png","alt","send mail"],[1,"conversion-inner"],[1,"c_part",3,"ngStyle"],[3,"ngStyle"],[1,"lpart"],[1,"nameDesc"],[3,"ngClass"],["onerror","this.src = 'assets/images/icon/avtarIcon.jpeg'","alt","avatar",3,"src"],[1,"flex","flex-column"],[1,"mb-0",2,"font-size",".85rem"],["class","text","style","margin-top: 0.4rem",3,"ngClass",4,"ngIf"],["style","margin-top: 10px; padding-left: 15px","class","text",3,"ngClass",4,"ngIf"],[1,"text",2,"margin-top","0.4rem",3,"ngClass"],["target","_blank",3,"href",4,"ngIf"],[1,"file-name"],["style","cursor: pointer; white-space: break-spaces;word-break: auto-phrase;",3,"innerHTML",4,"ngIf"],["target","_blank",3,"href"],["alt","file",3,"ngClass","src"],[2,"cursor","pointer","white-space","break-spaces","word-break","auto-phrase",3,"innerHTML"],[1,"text",2,"margin-top","10px","padding-left","15px",3,"ngClass"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["src","assets/images/icon/cross-small.svg","alt","close",3,"ngClass","click"],["alt","close",3,"ngClass","src"],[1,"service-header"],[1,"viewInfo"],[2,"display","block"],[1,"description"],[1,"addFile"],[1,"imgthumb"],["src","assets/images/icon/addnewfile.png","alt","add new file"],["type","file","multiple","",3,"change"],[1,"imgdata"],[1,"addfile-inner"],["class","addList",4,"ngFor","ngForOf"],[1,"addList"],[1,"lcontent"],[1,"imgname"],["src","assets/images/icon/filesIcon.png","alt","file"],["download","","target","_blank",3,"href"],["src","assets/images/icon/download-icon.png","alt","download",1,"dimg"],["class","history",4,"ngFor","ngForOf"],[1,"history"],[1,"time"],[1,"mgs"],[1,"ticket-updated"],["class","kbase",4,"ngIf"],["class","pagination-crl","previousLabel","Prev","nextLabel","Next",3,"pageChange",4,"ngIf"],[1,"kbase"],[1,"input-text"],["type","text","placeholder","Search Article",1,"form-control",3,"ngModel","ngModelChange","keyUp.enter"],["src","assets/images/icon/Search.png","alt","search"],["class","kbase-inner",4,"ngFor","ngForOf"],[1,"kbase-inner"],[1,"readmore",3,"click"],[1,"backlink",3,"click"],[1,"fa","fa-long-arrow-left"],[2,"text-align","left"],[2,"font-weight","600"],["answer",""],["previousLabel","Prev","nextLabel","Next",1,"pagination-crl",3,"pageChange"]],template:function(E,y){1&E&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"i",6),t.qZA(),t.YNc(8,ve,2,0,"div",7),t.YNc(9,be,2,4,"div",8),t.YNc(10,Pe,2,0,"div",9),t.qZA()(),t.TgZ(11,"div",10)(12,"div",11)(13,"div",12)(14,"i",13),t.NdJ("click",function(){return y.expandMsgWindow()}),t.qZA()(),t.TgZ(15,"div",14)(16,"ul")(17,"li",15),t.NdJ("click",function(){return y.tab="conversion"}),t._UZ(18,"img",16),t.TgZ(19,"span"),t._uU(20,"Conversation"),t.qZA()(),t.TgZ(21,"li",17),t.NdJ("click",function(){return y.tab="information"}),t._UZ(22,"i",18),t.TgZ(23,"span"),t._uU(24,"Information"),t.qZA()(),t.TgZ(25,"li",19),t.NdJ("click",function(){return y.getAttachments()}),t._UZ(26,"img",20),t.TgZ(27,"span"),t._uU(28,"Attachment"),t.qZA()(),t.TgZ(29,"li",21),t.NdJ("click",function(){return y.tab="history",y.getChatHistory()}),t._UZ(30,"img",22),t.TgZ(31,"span"),t._uU(32,"History"),t.qZA()(),t.TgZ(33,"li",23),t.NdJ("click",function(){return y.tab="kbase",y.getKnowledgeBaseDetail()}),t._UZ(34,"img",24),t.TgZ(35,"span"),t._uU(36,"Knowledgebase"),t.qZA()()()()(),t.TgZ(37,"div",25),t.YNc(38,Le,20,5,"div",26),t.YNc(39,Fe,64,11,"div",26),t.YNc(40,De,12,1,"div",26),t.YNc(41,Ne,2,1,"div",26),t.YNc(42,qe,4,3,"div",26),t.qZA()()()(),t._UZ(43,"app-vehicle-details",27)),2&E&&(t.xp6(4),t.hij("Ticket ID: ",y.ticketId,""),t.xp6(4),t.Q6J("ngIf",null==y.ticketDetail?null:y.ticketDetail.request_id),t.xp6(1),t.Q6J("ngIf",!(null!=y.ticketDetail&&y.ticketDetail.request_id)),t.xp6(1),t.Q6J("ngIf",(null==y.ticketDetail||null==y.ticketDetail.file_request?null:y.ticketDetail.file_request.request_id)||!(null!=y.ticketDetail&&y.ticketDetail.request_id)),t.xp6(2),t.Q6J("ngClass",1==y.isexpandedMsgWindow?"large":"small"),t.xp6(5),t.Q6J("ngClass","conversion"==y.tab?"activeTab":""),t.xp6(1),t.Q6J("src","conversion"==y.tab?"assets/images/icon/conversationwhite.svg":"assets/images/icon/conversationBase.svg",t.LSH),t.xp6(3),t.Q6J("ngClass","information"==y.tab?"activeTab":""),t.xp6(4),t.Q6J("ngClass","attachment"==y.tab?"activeTab":""),t.xp6(1),t.Q6J("src","attachment"==y.tab?"assets/images/icon/Attachmentwhite.svg":"assets/images/icon/attachment.png",t.LSH),t.xp6(3),t.Q6J("ngClass","history"==y.tab?"activeTab":""),t.xp6(1),t.Q6J("src","history"==y.tab?"assets/images/icon/Historywhite.svg":"assets/images/icon/clock.png",t.LSH),t.xp6(3),t.Q6J("ngClass","kbase"==y.tab?"activeTab":""),t.xp6(1),t.Q6J("src","kbase"==y.tab?"assets/images/icon/Knowledgewhite.svg":"assets/images/icon/knowledgeBase.svg",t.LSH),t.xp6(3),t.Q6J("ngClass",1==y.isexpandedMsgWindow?"small":"large"),t.xp6(1),t.Q6J("ngIf","conversion"==y.tab),t.xp6(1),t.Q6J("ngIf","information"==y.tab),t.xp6(1),t.Q6J("ngIf","attachment"==y.tab),t.xp6(1),t.Q6J("ngIf","history"==y.tab),t.xp6(1),t.Q6J("ngIf","kbase"==y.tab),t.xp6(1),t.Q6J("vehicleDetails",y.vehDetail)("isStandaloneTicket",!1))},dependencies:[r.mk,r.sg,r.O5,r.PC,q.rH,z._Y,z.Fj,z.JJ,z.JL,z.On,z.sg,z.u,Yt.LS,Xt,r.rS,Yt._s,_e.p],styles:[".u-add[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:var(--font-size-16)}.u-add[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-20);line-height:var(--font-size-30);color:#0e1321;margin-bottom:0}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-24);align-items:center}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-15);height:var(--font-size-15)}.u-add[_ngcontent-%COMP%]   .u-add-right[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{border:1px solid blue;color:#00f;padding:var(--font-size-5)}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-15);line-height:var(--font-size-18);color:#394a9c;background:#fff;border:1px solid #394a9c}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-30);height:var(--font-size-30);margin-right:var(--font-size-12)}.u-add[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3) a   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16);margin-right:var(--font-size-12)}.u-add[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .u-add[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:var(--font-size-12);font-family:verdana;font-size:var(--font-size-12);line-height:var(--font-size-15);color:#6d7886;border:.7px solid #becad9;border-radius:var(--font-size-5);outline:none}.u-add[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;background:#394a9c;border-radius:var(--font-size-5);font-family:verdana;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#fff;text-decoration:none}.u-add[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff}.ulist-div[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);width:100%;padding:var(--font-size-24) var(--font-size-20)}.tleft[_ngcontent-%COMP%]{overflow-x:clip;transition:all .35s linear}.tleft[_ngcontent-%COMP%]   .faDiv[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.tleft[_ngcontent-%COMP%]   .faDiv[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:var(--font-size-12);color:#ebebf5;width:var(--font-size-24);height:var(--font-size-24);background:#431f9f;border-radius:var(--font-size-5);transform:translate(20%,-20%)}.tleft[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:1rem}.tleft[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0;list-style-type:none}.tleft[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:auto 0px;align-items:center;justify-content:start;font-family:roboto;font-size:var(--font-size-14);color:#394a9c;padding:.8em 1.2em;margin-bottom:var(--font-size-15);background:#ebedf5;border-radius:var(--font-size-10);cursor:pointer;transition:grid-template-columns .3s cubic-bezier(.43,.01,.25,.98)}.tleft[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:var(--font-size-15);height:var(--font-size-15)}.tleft[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;visibility:hidden;white-space:nowrap;text-align:left;margin-inline-start:1.25rem;transition:opacity .2s .25s}.tleft[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.activeTab[_ngcontent-%COMP%]{color:#ebedf5;background:#394a9c}.tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{grid-template-columns:auto 20ch}.tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:var(--font-size-15);height:var(--font-size-15)}.tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tabStatus[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);text-align:left;padding:var(--font-size-30);margin-top:var(--font-size-20)}.tabStatus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-24);color:#3f424b}.tabStatus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16);color:#219653;background:rgba(33,150,83,.1);border:.5px solid rgba(190,202,217,.2);border-radius:var(--font-size-20);padding:var(--font-size-5) var(--font-size-12);margin-left:var(--font-size-12);cursor:pointer}.tabStatus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2) div{display:flex;gap:var(--font-size-12)}.tabStatus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2) div   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-16)}.tabStatus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2) div   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-20);color:#3f424b;display:flex;flex-direction:column}.tabStatus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2) div   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16)}.tabList[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:var(--font-size-30) var(--font-size-28)}.tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0;list-style-type:none}.tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);line-height:150%;color:#394a9c;background:#ebedf5;border-radius:var(--font-size-10);margin-bottom:var(--font-size-15);height:var(--font-size-48);display:flex;align-items:center;padding:var(--font-size-18) var(--font-size-20);cursor:pointer}.tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-15);height:var(--font-size-15)}.tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.activeTab[_ngcontent-%COMP%]{color:#ebedf5;background:#394a9c}.tright[_ngcontent-%COMP%]{flex-grow:1}.tright.large[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:var(--font-size-40);padding-top:var(--font-size-10);padding:var(--font-size-20);transition:all .35s linear}.tright.small[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);padding:var(--font-size-40);padding-top:var(--font-size-10);margin-bottom:10px;padding:var(--font-size-20);transition:all .35s linear}.tholder[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-10)}.c_part[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.leftChatBox[_ngcontent-%COMP%]{word-wrap:break-word;margin-left:3.6rem;background:#ccf7c4;padding:var(--font-size-15) var(--font-size-15);border-radius:var(--font-size-5)}.rightChatBox[_ngcontent-%COMP%]{word-wrap:break-word;margin-inline:auto 3rem;padding:var(--font-size-15) var(--font-size-15);background:#cdf2fb;border-radius:var(--font-size-5)}.conversion-inner[_ngcontent-%COMP%]{margin-bottom:1.5rem}.conversion-inner[_ngcontent-%COMP%]   .lpart[_ngcontent-%COMP%]   .nameDesc-inner_left[_ngcontent-%COMP%]{display:flex;align-items:center}.conversion-inner[_ngcontent-%COMP%]   .lpart[_ngcontent-%COMP%]   .nameDesc-inner_right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;flex-direction:row-reverse;gap:var(--font-size-20);margin-bottom:var(--font-size-15)}.conversion-inner[_ngcontent-%COMP%]   .lpart[_ngcontent-%COMP%]   .nameDesc-inner_right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0!important}.conversion-inner[_ngcontent-%COMP%]   .lpart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{outline:1px solid #ebedf5;width:var(--font-size-40);height:var(--font-size-40);border-radius:50%;object-fit:cover;margin-right:1.1rem}.conversion-inner[_ngcontent-%COMP%]   .lpart[_ngcontent-%COMP%]   .nameDesc[_ngcontent-%COMP%]{text-align:left}.conversion-inner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:left;margin-top:calc(-1 * var(--font-size-10));width:-moz-fit-content;width:fit-content}.conversion-inner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .imgF[_ngcontent-%COMP%]{max-width:100%;width:25%;height:var(--font-size-50);margin-top:var(--font-size-5);object-fit:cover}.conversion-inner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .imgD[_ngcontent-%COMP%]{max-width:100%;height:var(--font-size-50);object-fit:cover}.conversion-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;line-height:var(--font-size-20);color:#3f424b;font-size:var(--font-size-16)}.conversion-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#6f7784;margin-bottom:0}.textarea[_ngcontent-%COMP%]   .uploadFileView[_ngcontent-%COMP%]{position:relative;width:50%}.textarea[_ngcontent-%COMP%]   .uploadFileView[_ngcontent-%COMP%]   .fileCross[_ngcontent-%COMP%]{position:absolute;right:var(--font-size-5);top:var(--font-size-5)}.textarea[_ngcontent-%COMP%]   .uploadFileView[_ngcontent-%COMP%]   .docCross[_ngcontent-%COMP%]{position:absolute;right:var(--width-115);top:0}.textarea[_ngcontent-%COMP%]   .uploadFileView[_ngcontent-%COMP%]   .fileimg[_ngcontent-%COMP%]{max-width:100%;width:100%;object-fit:cover;height:var(--width-130)}.textarea[_ngcontent-%COMP%]   .uploadFileView[_ngcontent-%COMP%]   .docIcon[_ngcontent-%COMP%]{max-width:100%;width:20%;object-fit:cover;height:var(--font-size-80)}.textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:Roboto;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#6f7784;min-height:var(--width-150);padding:var(--font-size-12)}.textarea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:var(--font-size-16);padding:var(--font-size-5) var(--font-size-10)}.h128[_ngcontent-%COMP%]{height:var(--width-150)}.btnGroup[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--font-size-28);margin-top:var(--font-size-10);align-items:center}.btnGroup[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-30);max-width:100%}.btnGroup[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(3){width:auto}.btnGroup[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{margin-left:var(--font-size-15);width:var(--font-size-15)}.btnGroup[_ngcontent-%COMP%]   .fileupload[_ngcontent-%COMP%]{width:var(--font-size-30);height:var(--font-size-30);position:relative}.btnGroup[_ngcontent-%COMP%]   .fileupload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;z-index:9999}.btnGroup[_ngcontent-%COMP%]   .fileupload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:var(--font-size-5);left:0;width:var(--font-size-20);z-index:0}.btnGroup[_ngcontent-%COMP%]   .fileupload[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;max-width:100%;position:absolute;inset:0;cursor:pointer}.activeTab[_ngcontent-%COMP%]{background-color:#394a9c;color:#fff}.btn-primary[_ngcontent-%COMP%]{background-color:#394a9c;border:1px solid #394a9c}.chatWindow[_ngcontent-%COMP%]{scroll-behavior:smooth;height:500px;padding-right:var(--font-size-20);overflow-y:auto}.addFile[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-30);border-bottom:1px solid #ebebed;padding:var(--font-size-12) 0px;align-items:center}.addFile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.addFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .addFile[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:var(--font-size-48);height:var(--font-size-48);object-fit:cover;cursor:pointer}.addFile[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0}.addFile[_ngcontent-%COMP%]   .imgthumb[_ngcontent-%COMP%]{position:relative}.addFile[_ngcontent-%COMP%]   .imgdata[_ngcontent-%COMP%]{text-align:left}.addFile[_ngcontent-%COMP%]   .imgdata[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#394a9c}.addFile[_ngcontent-%COMP%]   .imgdata[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16);color:#6f7784}.addList[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #ebebed;padding:var(--font-size-12) 0px;align-items:center;justify-content:space-between}.addList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.addList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-56);height:var(--font-size-56);object-fit:cover}.addList[_ngcontent-%COMP%]   .imgdata[_ngcontent-%COMP%]{text-align:left}.addList[_ngcontent-%COMP%]   .imgdata[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-20);color:#394a9c}.addList[_ngcontent-%COMP%]   .imgdata[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-14);line-height:var(--font-size-16);color:#6f7784}.addList[_ngcontent-%COMP%]   .lcontent[_ngcontent-%COMP%]{display:flex;gap:var(--font-size-40)}.addList[_ngcontent-%COMP%]   .dimg[_ngcontent-%COMP%]{width:var(--font-size-24);height:var(--font-size-20)}*[_ngcontent-%COMP%]{scrollbar-width:auto;scrollbar-color:#002060 #ffffff}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff;border-radius:var(--font-size-10);border:1px solid #ffffff}.input-text[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:var(--font-size-20)}.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%;position:relative}.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--font-size-16);padding:var(--font-size-12)}.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:var(--font-size-18);height:var(--font-size-18);object-fit:cover;position:absolute;right:var(--font-size-10);top:var(--font-size-16);border:none;background-color:transparent;border-radius:var(--font-size-8)}.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.kbase[_ngcontent-%COMP%]{height:var(--width-450);overflow:scroll}.kbase[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:var(--font-size-14)!important}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]{text-align:left}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-16);line-height:var(--font-size-22);text-transform:capitalize;color:#474554;margin-bottom:var(--font-size-24)}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto;font-size:var(--font-size-16);line-height:var(--font-size-22);color:#6f7784}.kbuttons[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;gap:var(--font-size-24)}.kbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:roboto600;background:#ffffff;border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-12);font-size:var(--font-size-16);line-height:var(--font-size-24);text-transform:capitalize;color:#474554;margin-top:var(--font-size-15)}.kbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-14);height:var(--font-size-14);object-fit:cover;margin-right:var(--font-size-10)}.modal-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:var(--font-size-10)}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:var(--font-size-16);display:block;text-align:left}.modal-body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:var(--font-size-16)}.modal-footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);border:1px solid #e3e3e3!important;background:#fff;border-radius:var(--font-size-5);color:#474554}.modal-footer[_ngcontent-%COMP%]   .assign[_ngcontent-%COMP%]{font-family:verdana-bold;font-size:var(--font-size-16);line-height:var(--font-size-24);padding:var(--font-size-12) var(--font-size-30);background:#394a9c;border-radius:var(--font-size-5);color:#fff;border:none}.addfile-inner[_ngcontent-%COMP%]{height:var(--width-300);padding-right:var(--font-size-20);overflow-y:auto}.ticket-status[_ngcontent-%COMP%]{padding:var(--font-size-5) var(--font-size-10);border-radius:var(--padding-104);color:#394a9c;font-family:verdana-bold;font-size:var(--font-size-16);background-color:#f2f2f2;border:1px solid #f2f2f2}.assign-to[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:var(--font-size-24);color:#3f424b}.history[_ngcontent-%COMP%]{display:flex;text-align:left}.history[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:20%}.history[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:60%}.history[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-14);line-height:150%;color:#6f7784}.history[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:roboto600;font-size:var(--font-size-18);line-height:var(--font-size-24);color:#0e1321;margin-bottom:0}.history[_ngcontent-%COMP%]   .ticket-updated[_ngcontent-%COMP%]{margin-top:var(--font-size-28)}.readmore[_ngcontent-%COMP%]{color:#110062!important;cursor:pointer;font-size:var(--font-size-15)}.backlink[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#002060;margin-bottom:10px;background:#f2f2f2;width:10%;padding:var(--font-size-5) var(--font-size-10);font-size:var(--font-size-14);border-radius:17px;cursor:pointer}@media screen and (max-width: 991px){.kbase[_ngcontent-%COMP%]{height:450px;overflow:scroll}.kbase[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px!important}.tholder[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}.tleft.large[_ngcontent-%COMP%], .tleft.small[_ngcontent-%COMP%]{width:100%}.tleft.large[_ngcontent-%COMP%]   .faDiv[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{display:none}.tright.small[_ngcontent-%COMP%]{width:100%}.tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}.btnGroup[_ngcontent-%COMP%]   .fileupload[_ngcontent-%COMP%]{width:25px;height:25px}.btnGroup[_ngcontent-%COMP%]   .fileupload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.btnGroup[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:auto;padding:10px 20px}.tleft.large[_ngcontent-%COMP%]   .tabList[_ngcontent-%COMP%]{padding:15px}.chatWindow[_ngcontent-%COMP%]{height:250px}.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:12px;padding:10px}.kbase[_ngcontent-%COMP%]   .kbase-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:16px;height:16px}.backlink[_ngcontent-%COMP%]{width:200px}}@media screen and (max-width: 767px){.input-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}.viewInfo[_ngcontent-%COMP%]{margin-top:var(--font-size-18)!important}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left;display:flex;margin-bottom:var(--font-size-5);gap:var(--font-size-20)}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){width:50%}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1) div:nth-child(1){width:23%}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1) div:nth-child(2){width:77%}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:50%}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2) div:nth-child(1){width:23%}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2) div:nth-child(2){width:77%}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-14)}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:600;font-size:var(--font-size-14)}.viewInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}.viewInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){width:10%!important}.viewInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:89%!important}.viewInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]{word-break:break-all}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left;display:flex;margin-bottom:var(--font-size-5);gap:var(--font-size-10)}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){width:45%}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:55%}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--font-size-14);word-break:break-all}.viewTicket[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:600;font-size:var(--font-size-14)}.offcanvas-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;margin-right:var(--font-size-10)}pre[_ngcontent-%COMP%]{margin-bottom:0!important;word-break:break-all}.file-name[_ngcontent-%COMP%]{font-size:.86rem!important;margin-block:.6em!important}@media (max-width: 768px){.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-direction:column;gap:0;margin-bottom:.6rem}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.viewInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return L})()}]}];let He=(()=>{class L{static#t=this.\u0275fac=function(E){return new(E||L)};static#e=this.\u0275mod=t.oAB({type:L});static#n=this.\u0275inj=t.cJS({imports:[q.Bz.forChild(je),q.Bz]})}return L})();var We=R(1420),Ge=R(6090),Je=R(3311);let Ye=(()=>{class L{static#t=this.\u0275fac=function(E){return new(E||L)};static#e=this.\u0275mod=t.oAB({type:L});static#n=this.\u0275inj=t.cJS({imports:[r.ez,He,z.u5,z.UX,Yt.JX,We.Rq,Z,j.A0,Ge.q,Je.a]})}return L})()},7787:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(1778).default,R;R=()=>(()=>{"use strict";var __webpack_modules__=[,(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=G,a.arraysToBytes=function $(ot){const X=ot.length;if(1===X&&ot[0]instanceof Uint8Array)return ot[0];let K=0;for(let bt=0;bt<X;bt++)K+=G(ot[bt]);let pt=0;const vt=new Uint8Array(K);for(let bt=0;bt<X;bt++){let yt=ot[bt];yt instanceof Uint8Array||(yt="string"==typeof yt?W(yt):new Uint8Array(yt));const Dt=yt.byteLength;vt.set(yt,pt),pt+=Dt}return vt},a.assert=function Z(ot,X){ot||S(X)},a.bytesToString=function H(ot){("object"!=typeof ot||null===ot||void 0===ot.length)&&S("Invalid argument for bytesToString");const X=ot.length,K=8192;if(X<K)return String.fromCharCode.apply(null,ot);const pt=[];for(let vt=0;vt<X;vt+=K){const bt=Math.min(vt+K,X),yt=ot.subarray(vt,bt);pt.push(String.fromCharCode.apply(null,yt))}return pt.join("")},a.createPromiseCapability=function Rt(){const ot=Object.create(null);let X=!1;return Object.defineProperty(ot,"settled",{get:()=>X}),ot.promise=new Promise(function(K,pt){ot.resolve=function(vt){X=!0,K(vt)},ot.reject=function(vt){X=!0,pt(vt)}}),ot},a.createValidAbsoluteUrl=function Q(ot,X=null,K=null){if(!ot)return null;try{if(K&&"string"==typeof ot){if(K.addDefaultProtocol&&ot.startsWith("www.")){const vt=ot.match(/\./g);vt&&vt.length>=2&&(ot=`http://${ot}`)}if(K.tryConvertEncoding)try{ot=Ct(ot)}catch{}}const pt=X?new URL(ot,X):new URL(ot);if(function j(ot){if(!ot)return!1;switch(ot.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pt))return pt}catch{}return null},a.escapeString=function ft(ot){return ot.replace(/([()\\\n\r])/g,X=>"\n"===X?"\\n":"\r"===X?"\\r":`\\${X}`)},a.getModificationDate=function wt(ot=new Date){return[ot.getUTCFullYear().toString(),(ot.getUTCMonth()+1).toString().padStart(2,"0"),ot.getUTCDate().toString().padStart(2,"0"),ot.getUTCHours().toString().padStart(2,"0"),ot.getUTCMinutes().toString().padStart(2,"0"),ot.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function O(){return d},a.info=function N(ot){d>=m.INFOS&&console.log(`Info: ${ot}`)},a.isArrayBuffer=function Lt(ot){return"object"==typeof ot&&null!==ot&&void 0!==ot.byteLength},a.isArrayEqual=function Ft(ot,X){if(ot.length!==X.length)return!1;for(let K=0,pt=ot.length;K<pt;K++)if(ot[K]!==X[K])return!1;return!0},a.isAscii=function Pt(ot){return/^[\x00-\x7F]*$/.test(ot)},a.objectFromMap=function ht(ot){const X=Object.create(null);for(const[K,pt]of ot)X[K]=pt;return X},a.objectSize=function ct(ot){return Object.keys(ot).length},a.setVerbosityLevel=function k(ot){Number.isInteger(ot)&&(d=ot)},a.shadow=it,a.string32=function tt(ot){return String.fromCharCode(ot>>24&255,ot>>16&255,ot>>8&255,255&ot)},a.stringToBytes=W,a.stringToPDFString=function mt(ot){if(ot[0]>="\xef"){let K;if("\xfe"===ot[0]&&"\xff"===ot[1]?K="utf-16be":"\xff"===ot[0]&&"\xfe"===ot[1]?K="utf-16le":"\xef"===ot[0]&&"\xbb"===ot[1]&&"\xbf"===ot[2]&&(K="utf-8"),K)try{const pt=new TextDecoder(K,{fatal:!0}),vt=W(ot);return pt.decode(vt)}catch(pt){V(`stringToPDFString: "${pt}".`)}}const X=[];for(let K=0,pt=ot.length;K<pt;K++){const vt=_t[ot.charCodeAt(K)];X.push(vt?String.fromCharCode(vt):ot.charAt(K))}return X.join("")},a.stringToUTF16BEString=function At(ot){const X=["\xfe\xff"];for(let K=0,pt=ot.length;K<pt;K++){const vt=ot.charCodeAt(K);X.push(String.fromCharCode(vt>>8&255),String.fromCharCode(255&vt))}return X.join("")},a.stringToUTF8String=Ct,a.unreachable=S,a.utf8StringToString=function Ot(ot){return unescape(encodeURIComponent(ot))},a.warn=V,R(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const m={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=m,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let d=m.WARNINGS;function V(ot){d>=m.WARNINGS&&console.log(`Warning: ${ot}`)}function S(ot){throw new Error(ot)}function it(ot,X,K){return Object.defineProperty(ot,X,{value:K,enumerable:!0,configurable:!0,writable:!1}),K}const M=function(){function X(K,pt){this.constructor===X&&S("Cannot initialize BaseException."),this.message=K,this.name=pt}return X.prototype=new Error,X.constructor=X,X}();function W(ot){"string"!=typeof ot&&S("Invalid argument for stringToBytes");const X=ot.length,K=new Uint8Array(X);for(let pt=0;pt<X;++pt)K[pt]=255&ot.charCodeAt(pt);return K}function G(ot){return void 0!==ot.length?ot.length:void 0!==ot.byteLength?ot.byteLength:void S("Invalid argument for arrayByteLength")}a.BaseException=M,a.PasswordException=class e extends M{constructor(X,K){super(X,"PasswordException"),this.code=K}},a.UnknownErrorException=class i extends M{constructor(X,K){super(X,"UnknownErrorException"),this.details=K}},a.InvalidPDFException=class l extends M{constructor(X){super(X,"InvalidPDFException")}},a.MissingPDFException=class _ extends M{constructor(X){super(X,"MissingPDFException")}},a.UnexpectedResponseException=class f extends M{constructor(X,K){super(X,"UnexpectedResponseException"),this.status=K}},a.FormatError=class C extends M{constructor(X){super(X,"FormatError")}},a.AbortException=class F extends M{constructor(X){super(X,"AbortException")}},a.FeatureTest=class ut{static get isLittleEndian(){return it(this,"isLittleEndian",function et(){const ot=new Uint8Array(4);return ot[0]=1,1===new Uint32Array(ot.buffer,0,1)[0]}())}static get isEvalSupported(){return it(this,"isEvalSupported",function rt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const dt=[...Array(256).keys()].map(ot=>ot.toString(16).padStart(2,"0"));class lt{static makeHexColor(X,K,pt){return`#${dt[X]}${dt[K]}${dt[pt]}`}static scaleMinMax(X,K){let pt;X[0]?(X[0]<0&&(pt=K[0],K[0]=K[1],K[1]=pt),K[0]*=X[0],K[1]*=X[0],X[3]<0&&(pt=K[2],K[2]=K[3],K[3]=pt),K[2]*=X[3],K[3]*=X[3]):(pt=K[0],K[0]=K[2],K[2]=pt,pt=K[1],K[1]=K[3],K[3]=pt,X[1]<0&&(pt=K[2],K[2]=K[3],K[3]=pt),K[2]*=X[1],K[3]*=X[1],X[2]<0&&(pt=K[0],K[0]=K[1],K[1]=pt),K[0]*=X[2],K[1]*=X[2]),K[0]+=X[4],K[1]+=X[4],K[2]+=X[5],K[3]+=X[5]}static transform(X,K){return[X[0]*K[0]+X[2]*K[1],X[1]*K[0]+X[3]*K[1],X[0]*K[2]+X[2]*K[3],X[1]*K[2]+X[3]*K[3],X[0]*K[4]+X[2]*K[5]+X[4],X[1]*K[4]+X[3]*K[5]+X[5]]}static applyTransform(X,K){return[X[0]*K[0]+X[1]*K[2]+K[4],X[0]*K[1]+X[1]*K[3]+K[5]]}static applyInverseTransform(X,K){const pt=K[0]*K[3]-K[1]*K[2];return[(X[0]*K[3]-X[1]*K[2]+K[2]*K[5]-K[4]*K[3])/pt,(-X[0]*K[1]+X[1]*K[0]+K[4]*K[1]-K[5]*K[0])/pt]}static getAxialAlignedBoundingBox(X,K){const pt=lt.applyTransform(X,K),vt=lt.applyTransform(X.slice(2,4),K),bt=lt.applyTransform([X[0],X[3]],K),yt=lt.applyTransform([X[2],X[1]],K);return[Math.min(pt[0],vt[0],bt[0],yt[0]),Math.min(pt[1],vt[1],bt[1],yt[1]),Math.max(pt[0],vt[0],bt[0],yt[0]),Math.max(pt[1],vt[1],bt[1],yt[1])]}static inverseTransform(X){const K=X[0]*X[3]-X[1]*X[2];return[X[3]/K,-X[1]/K,-X[2]/K,X[0]/K,(X[2]*X[5]-X[4]*X[3])/K,(X[4]*X[1]-X[5]*X[0])/K]}static apply3dTransform(X,K){return[X[0]*K[0]+X[1]*K[1]+X[2]*K[2],X[3]*K[0]+X[4]*K[1]+X[5]*K[2],X[6]*K[0]+X[7]*K[1]+X[8]*K[2]]}static singularValueDecompose2dScale(X){const K=[X[0],X[2],X[1],X[3]],pt=X[0]*K[0]+X[1]*K[2],yt=X[2]*K[1]+X[3]*K[3],Dt=(pt+yt)/2,Nt=Math.sqrt((pt+yt)**2-4*(pt*yt-(X[2]*K[0]+X[3]*K[2])*(X[0]*K[1]+X[1]*K[3])))/2,Et=Dt-Nt||1;return[Math.sqrt(Dt+Nt||1),Math.sqrt(Et)]}static normalizeRect(X){const K=X.slice(0);return X[0]>X[2]&&(K[0]=X[2],K[2]=X[0]),X[1]>X[3]&&(K[1]=X[3],K[3]=X[1]),K}static intersect(X,K){const pt=Math.max(Math.min(X[0],X[2]),Math.min(K[0],K[2])),vt=Math.min(Math.max(X[0],X[2]),Math.max(K[0],K[2]));if(pt>vt)return null;const bt=Math.max(Math.min(X[1],X[3]),Math.min(K[1],K[3])),yt=Math.min(Math.max(X[1],X[3]),Math.max(K[1],K[3]));return bt>yt?null:[pt,bt,vt,yt]}static bezierBoundingBox(X,K,pt,vt,bt,yt,Dt,Nt){const zt=[],Et=[[],[]];let Bt,Ut,Vt,Tt,Zt,Ht,Gt,Jt;for(let Wt=0;Wt<2;++Wt)if(0===Wt?(Ut=6*X-12*pt+6*bt,Bt=-3*X+9*pt-9*bt+3*Dt,Vt=3*pt-3*X):(Ut=6*K-12*vt+6*yt,Bt=-3*K+9*vt-9*yt+3*Nt,Vt=3*vt-3*K),Math.abs(Bt)<1e-12){if(Math.abs(Ut)<1e-12)continue;Tt=-Vt/Ut,0<Tt&&Tt<1&&zt.push(Tt)}else Gt=Ut*Ut-4*Vt*Bt,Jt=Math.sqrt(Gt),!(Gt<0)&&(Zt=(-Ut+Jt)/(2*Bt),0<Zt&&Zt<1&&zt.push(Zt),Ht=(-Ut-Jt)/(2*Bt),0<Ht&&Ht<1&&zt.push(Ht));let It,qt=zt.length;const jt=qt;for(;qt--;)Tt=zt[qt],It=1-Tt,Et[0][qt]=It*It*It*X+3*It*It*Tt*pt+3*It*Tt*Tt*bt+Tt*Tt*Tt*Dt,Et[1][qt]=It*It*It*K+3*It*It*Tt*vt+3*It*Tt*Tt*yt+Tt*Tt*Tt*Nt;return Et[0][jt]=X,Et[1][jt]=K,Et[0][jt+1]=Dt,Et[1][jt+1]=Nt,Et[0].length=Et[1].length=jt+2,[Math.min(...Et[0]),Math.min(...Et[1]),Math.max(...Et[0]),Math.max(...Et[1])]}}a.Util=lt;const _t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ct(ot){return decodeURIComponent(escape(ot))}},(at,a,R)=>{R(3)},(at,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const R=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=R},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:at,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:R}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=at,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=R}function setPDFNetworkStreamFactory(at){createPDFNetworkStream=at}function getDocument(at){const a=new PDFDocumentLoadingTask;let R;if("string"==typeof at||at instanceof URL)R={url:at};else if((0,_util.isArrayBuffer)(at))R={data:at};else if(at instanceof PDFDataRangeTransport)R={range:at};else{if("object"!=typeof at)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!at.url&&!at.data&&!at.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=at}const r=Object.create(null);let z=null,q=null;for(const J in R){const D=R[J];switch(J){case"url":if(typeof window<"u")try{r[J]=new URL(D,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof D||D instanceof URL){r[J]=D.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":z=D;continue;case"worker":q=D;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&D instanceof Buffer)r[J]=new Uint8Array(D);else{if(D instanceof Uint8Array)break;if("string"==typeof D)r[J]=(0,_util.stringToBytes)(D);else if("object"!=typeof D||null===D||isNaN(D.length)){if(!(0,_util.isArrayBuffer)(D))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[J]=new Uint8Array(D)}else r[J]=new Uint8Array(D)}continue}r[J]=D}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),("object"!=typeof r.ownerDocument||null===r.ownerDocument)&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!q){const J={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};q=J.port?_PDFWorker.fromPort(J):new _PDFWorker(J),a._worker=q}const Y=a.docId;return q.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const J=_fetchDocument(q,r,z,Y),D=new Promise(function(t){let A;z?A=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},z):r.data||(A=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),t(A)});return Promise.all([J,D]).then(function([t,A]){if(a.destroyed)throw new Error("Loading aborted");const g=new _message_handler.MessageHandler(Y,t,q.port),b=new WorkerTransport(g,a,A,r);a._transport=b,g.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(at,a,R,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(at,a,R,r){if(at.destroyed)throw new Error("Worker was destroyed");R&&(a.length=R.length,a.initialData=R.initialData,a.progressiveDone=R.progressiveDone,a.contentDispositionFilename=R.contentDispositionFilename);const z=yield at.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(at.destroyed)throw new Error("Worker was destroyed");return z})).apply(this,arguments)}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,R,r=!1,z=null){this.length=a,this.initialData=R,this.progressiveDone=r,this.contentDispositionFilename=z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,R){for(const r of this._rangeListeners)r(a,R)}onDataProgress(a,R){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(a,R)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,R){var z,r=this;this._pdfInfo=a,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(z=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),r.stats||{streamTypes:{},fontTypes:{}}}),function(){return z.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,R,r,z,q=!1){this._pageIndex=a,this._pageInfo=R,this._ownerDocument=z,this._transport=r,this._stats=q?new _display_utils.StatTimer:null,this._pdfBug=q,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:R=this.rotate,offsetX:r=0,offsetY:z=0,dontFlip:q=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:R,offsetX:r,offsetY:z,dontFlip:q})}getAnnotations({intent:a="display"}={}){const R=this._transport.getRenderingIntent(a);let r=this._annotationPromises.get(R.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,r),r=r.then(z=>{for(const q of z)void 0!==q.titleObj&&Object.defineProperty(q,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),q.titleObj.str)}),void 0!==q.contentsObj&&Object.defineProperty(q,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),q.contentsObj.str)});return z})),r}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:R,intent:r="display",annotationMode:z=_util.AnnotationMode.ENABLE,transform:q=null,imageLayer:Y=null,canvasFactory:J=null,background:D=null,optionalContentConfigPromise:t=null,annotationCanvasMap:A=null,pageColors:g=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&z===_util.AnnotationMode.ENABLE&&(z=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&z===_util.AnnotationMode.ENABLE&&(z=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const b=this._transport.getRenderingIntent(r,z);this.pendingCleanup=!1,t||(t=this._transport.getOptionalContentConfig());let x=this._intentStates.get(b.cacheKey);x||(x=Object.create(null),this._intentStates.set(b.cacheKey,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const B=J||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),p=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);x.displayReadyCapability||(x.displayReadyCapability=(0,_util.createPromiseCapability)(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b));const c=v=>{x.renderTasks.delete(P),(this.cleanupAfterRender||p)&&(this.pendingCleanup=!0),this._tryCleanup(),v?(P.capability.reject(v),this._abortOperatorList({intentState:x,reason:v instanceof Error?v:new Error(v)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},P=new InternalRenderTask({callback:c,params:{canvasContext:a,viewport:R,transform:q,imageLayer:Y,background:D},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:A,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:B,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:g});(x.renderTasks||=new Set).add(P);const h=P.task;return Promise.all([x.displayReadyCapability.promise,t]).then(([v,u])=>{this.pendingCleanup?c():(this._stats&&this._stats.time("Rendering"),P.initializeGraphics({transparency:v,optionalContentConfig:u}),P.operatorListChanged())}).catch(c),h}getOperatorList({intent:a="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){const z=this._transport.getRenderingIntent(a,R,!0);let Y,q=this._intentStates.get(z.cacheKey);return q||(q=Object.create(null),this._intentStates.set(z.cacheKey,q)),q.opListReadCapability||(Y=Object.create(null),Y.operatorListChanged=function r(){q.operatorList.lastChunk&&(q.opListReadCapability.resolve(q.operatorList),q.renderTasks.delete(Y))},q.opListReadCapability=(0,_util.createPromiseCapability)(),(q.renderTasks||=new Set).add(Y),q.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(z)),q.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===R},{highWaterMark:100,size:z=>z.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const R=this.streamTextContent(a);return new Promise(function(r,z){const Y=R.getReader(),J={items:[],styles:Object.create(null)};!function q(){Y.read().then(function({value:D,done:t}){t?r(J):(Object.assign(J.styles,D.styles),J.items.push(...D.items),q())},z)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const r of R.renderTasks)a.push(r.completed),r.cancel();this.objs.clear();for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:r}of this._intentStates.values())if(R.size>0||!r.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,R){const r=this._intentStates.get(R);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(a))}_renderPageChunk(a,R){for(let r=0,z=a.length;r<z;r++)R.operatorList.fnArray.push(a.fnArray[r]),R.operatorList.argsArray.push(a.argsArray[r]);R.operatorList.lastChunk=a.lastChunk;for(const r of R.renderTasks)r.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:R}){const z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:R,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),q=this._intentStates.get(R);q.streamReader=z;const Y=()=>{z.read().then(({value:J,done:D})=>{D?q.streamReader=null:this._transport.destroyed||(this._renderPageChunk(J,q),Y())},J=>{if(q.streamReader=null,!this._transport.destroyed){if(q.operatorList){q.operatorList.lastChunk=!0;for(const D of q.renderTasks)D.operatorListChanged();this._tryCleanup()}if(q.displayReadyCapability)q.displayReadyCapability.reject(J);else{if(!q.opListReadCapability)throw J;q.opListReadCapability.reject(J)}}})};Y()}_abortOperatorList({intentState:a,reason:R,force:r=!1}){if(a.streamReader){if(!r){if(a.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:R,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[z,q]of this._intentStates)if(q===a){this._intentStates.delete(z);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,R){const r={data:structuredClone(a,R)};this._deferred.then(()=>{for(const z of this._listeners)z.call(this,r)})}addEventListener(a,R){this._listeners.push(R)}removeEventListener(a,R){const r=this._listeners.indexOf(R);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const at=document?.currentScript?.src;at&&(PDFWorkerUtil.fallbackWorkerSrc=at.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(at,a){let R;try{if(R=new URL(at),!R.origin||"null"===R.origin)return!1}catch{return!1}const r=new URL(a,R);return R.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(at){return URL.createObjectURL(new Blob([`importScripts("${at}");`]))};class _PDFWorker{static#workerPorts=new WeakMap;constructor({name:at=null,port:a=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(a&&_PDFWorker.#workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=at,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _PDFWorker.#workerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(at){this._port=at,this._messageHandler=new _message_handler.MessageHandler("main","worker",at),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let at=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,at)||(at=PDFWorkerUtil.createCDNWrapper(new URL(at,window.location).href));const a=new Worker(at),R=new _message_handler.MessageHandler("main","worker",a),r=()=>{a.removeEventListener("error",z),R.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},z=()=>{this._webWorker||r()};a.addEventListener("error",z),R.on("test",Y=>{a.removeEventListener("error",z),this.destroyed?r():Y?(this._messageHandler=R,this._port=a,this._webWorker=a,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),a.terminate())}),R.on("ready",Y=>{if(a.removeEventListener("error",z),this.destroyed)r();else try{q()}catch{this._setupFakeWorker()}});const q=()=>{const Y=new Uint8Array;R.send("test",Y,[Y.buffer])};return void q()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(at=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const R="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(R+"_worker",R,a);at.setup(r,a);const z=new _message_handler.MessageHandler(R,R+"_worker",a);this._messageHandler=z,this._readyCapability.resolve(),z.send("configure",{verbosity:this.verbosity})}).catch(at=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${at.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(at){if(!at?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(at.port)?this.#workerPorts.get(at.port):new _PDFWorker(at)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function at(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#t=null;#e=new Map;#n=new Map;#s=null;constructor(a,R,r,z){this.messageHandler=a,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:z.ownerDocument,styleElement:z.styleElement}),this._params=z,z.useWorkerFetch||(this.CMapReaderFactory=new z.CMapReaderFactory({baseUrl:z.cMapUrl,isCompressed:z.cMapPacked}),this.StandardFontDataFactory=new z.StandardFontDataFactory({baseUrl:z.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#t}getRenderingIntent(a,R=_util.AnnotationMode.ENABLE,r=!1){let z=_util.RenderingIntentFlag.DISPLAY,q="";switch(a){case"any":z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(R){case _util.AnnotationMode.DISABLE:z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,q=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return r&&(z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:z,cacheKey:`${z}_${q}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const r of this.#e.values())a.push(r._destroy());this.#e.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return a.push(R),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#s=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:R}=this;a.on("GetReader",(r,z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=q=>{this._lastProgress={loaded:q.loaded,total:q.total}},z.onPull=()=>{this._fullReader.read().then(function({value:q,done:Y}){Y?z.close():((0,_util.assert)((0,_util.isArrayBuffer)(q),"GetReader - expected an ArrayBuffer."),z.enqueue(new Uint8Array(q),1,[q]))}).catch(q=>{z.error(q)})},z.onCancel=q=>{this._fullReader.cancel(q),z.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),a.on("ReaderHeadersReady",r=>{const z=(0,_util.createPromiseCapability)(),q=this._fullReader;return q.headersReady.then(()=>{(!q.isStreamingSupported||!q.isRangeSupported)&&(this._lastProgress&&R.onProgress?.(this._lastProgress),q.onProgress=Y=>{R.onProgress?.({loaded:Y.loaded,total:Y.total})}),z.resolve({isStreamingSupported:q.isStreamingSupported,isRangeSupported:q.isRangeSupported,contentLength:q.contentLength})},z.reject),z.promise}),a.on("GetRangeReader",(r,z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const q=this._networkStream.getRangeReader(r.begin,r.end);q?(z.onPull=()=>{q.read().then(function({value:Y,done:J}){J?z.close():((0,_util.assert)((0,_util.isArrayBuffer)(Y),"GetRangeReader - expected an ArrayBuffer."),z.enqueue(new Uint8Array(Y),1,[Y]))}).catch(Y=>{z.error(Y)})},z.onCancel=Y=>{q.cancel(Y),z.ready.catch(J=>{if(!this.destroyed)throw J})}):z.close()}),a.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(r,this))}),a.on("DocException",function(r){let z;switch(r.name){case"PasswordException":z=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":z=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":z=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":z=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":z=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(z)}),a.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const z=q=>{q instanceof Error?this._passwordCapability.reject(q):this._passwordCapability.resolve({password:q})};try{R.onPassword(z,r.code)}catch(q){this._passwordCapability.reject(q)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),a.on("DataLoaded",r=>{R.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),a.on("StartRenderPage",r=>{this.destroyed||this.#e.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),a.on("commonobj",([r,z,q])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(z){case"Font":const Y=this._params;if("error"in q){const t=q.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(r,t);break}let J=null;Y.pdfBug&&globalThis.FontInspector?.enabled&&(J={registerFont(t,A){globalThis.FontInspector.fontAdded(t,A)}});const D=new _font_loader.FontFaceObject(q,{isEvalSupported:Y.isEvalSupported,disableFontFace:Y.disableFontFace,ignoreErrors:Y.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:J});this.fontLoader.bind(D).catch(t=>a.sendWithPromise("FontFallback",{id:r})).finally(()=>{!Y.fontExtraProperties&&D.data&&(D.data=null),this.commonObjs.resolve(r,D)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,q);break;default:throw new Error(`Got unknown common object type ${z}`)}}),a.on("obj",([r,z,q,Y])=>{if(this.destroyed)return;const J=this.#e.get(z);if(!J.objs.has(r))switch(q){case"Image":J.objs.resolve(r,Y);const D=8e6;if(Y){let t;if(Y.bitmap){const{bitmap:A,width:g,height:b}=Y;t=g*b*4,J._bitmaps.add(A)}else t=Y.data?.length||0;t>D&&(J.cleanupAfterRender=!0)}break;case"Pattern":J.objs.resolve(r,Y);break;default:throw new Error(`Got unknown object type ${q}`)}}),a.on("DocProgress",r=>{this.destroyed||R.onProgress?.({loaded:r.loaded,total:r.total})}),a.on("DocStats",r=>{this.destroyed||(this.#t=Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=a-1,r=this.#n.get(R);if(r)return r;const z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(q=>{if(this.destroyed)throw new Error("Transport destroyed");const Y=new PDFPageProxy(R,q,this,this._params.ownerDocument,this._params.pdfBug);return this.#e.set(R,Y),Y});return this.#n.set(R,z),z}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:R})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#s||=this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var R=this;return _asyncToGenerator(function*(){if(yield R.messageHandler.sendWithPromise("Cleanup",null),!R.destroyed){for(const r of R.#e.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);R.commonObjs.clear(),a||R.fontLoader.clear(),R.#s=null,R._getFieldObjectsPromise=null,R._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}class PDFObjects{#t=Object.create(null);#e(a){return this.#t[a]||(this.#t[a]={capability:(0,_util.createPromiseCapability)(),data:null})}get(a,R=null){if(R){const z=this.#e(a);return z.capability.promise.then(()=>R(z.data)),null}const r=this.#t[a];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return r.data}has(a){return this.#t[a]?.capability.settled||!1}resolve(a,R=null){const r=this.#e(a);r.data=R,r.capability.resolve()}clear(){this.#t=Object.create(null)}}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static#t=new WeakSet;constructor({callback:a,params:R,objs:r,commonObjs:z,annotationCanvasMap:q,operatorList:Y,pageIndex:J,canvasFactory:D,useRequestAnimationFrame:t=!1,pdfBug:A=!1,pageColors:g=null}){this.callback=a,this.params=R,this.objs=r,this.commonObjs=z,this.annotationCanvasMap=q,this.operatorListIdx=null,this.operatorList=Y,this._pageIndex=J,this.canvasFactory=D,this._pdfBug=A,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===t&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:R}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:z,transform:q,imageLayer:Y,background:J}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,Y,R,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:q,viewport:z,transparency:a,background:J}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#t.delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&InternalRenderTask.#t.delete(a._canvas),a.callback())))})()}}const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function o(I){console.log("Deprecated API usage: "+I)},a.getFilenameFromUrl=function P(I){const U=I.indexOf("#"),d=I.indexOf("?"),k=Math.min(U>0?U:I.length,d>0?d:I.length);return I.substring(I.lastIndexOf("/",k)+1,k)},a.getPdfFilenameFromUrl=function h(I,U="document.pdf"){if("string"!=typeof I)return U;if(p(I))return(0,z.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),U;const k=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,O=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(I);let N=k.exec(O[1])||k.exec(O[2])||k.exec(O[3]);if(N&&(N=N[0],N.includes("%")))try{N=k.exec(decodeURIComponent(N))[0]}catch{}return N||U},a.getXfaPageViewport=function w(I,{scale:U=1,rotation:d=0}){const{width:k,height:O}=I.attributes.style,N=[0,0,parseInt(k),parseInt(O)];return new x({viewBox:N,scale:U,rotation:d})},a.isDataScheme=p,a.isPdfFile=function c(I){return"string"==typeof I&&/\.pdf$/i.test(I)},a.isValidFetchUrl=u,a.loadScript=function s(I,U=!1){return new Promise((d,k)=>{const O=document.createElement("script");O.src=I,O.onload=function(N){U&&O.remove(),d(N)},O.onerror=function(){k(new Error(`Cannot load script at: ${O.src}`))},(document.head||document.documentElement).appendChild(O)})};var r=R(6),z=R(1);function D(I){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(function*(I,U=!1){if(u(I,document.baseURI)){const d=yield fetch(I);if(!d.ok)throw new Error(d.statusText);return U?new Uint8Array(yield d.arrayBuffer()):(0,z.stringToBytes)(yield d.text())}return new Promise((d,k)=>{const O=new XMLHttpRequest;O.open("GET",I,!0),U&&(O.responseType="arraybuffer"),O.onreadystatechange=()=>{if(O.readyState===XMLHttpRequest.DONE){if(200===O.status||0===O.status){let N;if(U&&O.response?N=new Uint8Array(O.response):!U&&O.responseText&&(N=(0,z.stringToBytes)(O.responseText)),N)return void d(N)}k(new Error(O.statusText))}},O.send(null)})})).apply(this,arguments)}a.PixelsPerInch=class Y{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},a.DOMCanvasFactory=class J extends r.BaseCanvasFactory{constructor({ownerDocument:U=globalThis.document}={}){super(),this._document=U}_createCanvas(U,d){const k=this._document.createElement("canvas");return k.width=U,k.height=d,k}},a.DOMCMapReaderFactory=class A extends r.BaseCMapReaderFactory{_fetchData(U,d){return D(U,this.isCompressed).then(k=>({cMapData:k,compressionType:d}))}},a.DOMStandardFontDataFactory=class g extends r.BaseStandardFontDataFactory{_fetchData(U){return D(U,!0)}},a.DOMSVGFactory=class b extends r.BaseSVGFactory{_createSVG(U){return document.createElementNS("http://www.w3.org/2000/svg",U)}};class x{constructor({viewBox:U,scale:d,rotation:k,offsetX:O=0,offsetY:N=0,dontFlip:V=!1}){this.viewBox=U,this.scale=d,this.rotation=k,this.offsetX=O,this.offsetY=N;const S=(U[2]+U[0])/2,Z=(U[3]+U[1])/2;let j,Q,it,M,e,i,l,_;switch((k%=360)<0&&(k+=360),k){case 180:j=-1,Q=0,it=0,M=1;break;case 90:j=0,Q=1,it=1,M=0;break;case 270:j=0,Q=-1,it=-1,M=0;break;case 0:j=1,Q=0,it=0,M=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}V&&(it=-it,M=-M),0===j?(e=Math.abs(Z-U[1])*d+O,i=Math.abs(S-U[0])*d+N,l=Math.abs(U[3]-U[1])*d,_=Math.abs(U[2]-U[0])*d):(e=Math.abs(S-U[0])*d+O,i=Math.abs(Z-U[1])*d+N,l=Math.abs(U[2]-U[0])*d,_=Math.abs(U[3]-U[1])*d),this.transform=[j*d,Q*d,it*d,M*d,e-j*d*S-it*d*Z,i-Q*d*S-M*d*Z],this.width=l,this.height=_}clone({scale:U=this.scale,rotation:d=this.rotation,offsetX:k=this.offsetX,offsetY:O=this.offsetY,dontFlip:N=!1}={}){return new x({viewBox:this.viewBox.slice(),scale:U,rotation:d,offsetX:k,offsetY:O,dontFlip:N})}convertToViewportPoint(U,d){return z.Util.applyTransform([U,d],this.transform)}convertToViewportRectangle(U){const d=z.Util.applyTransform([U[0],U[1]],this.transform),k=z.Util.applyTransform([U[2],U[3]],this.transform);return[d[0],d[1],k[0],k[1]]}convertToPdfPoint(U,d){return z.Util.applyInverseTransform([U,d],this.transform)}}function p(I){const U=I.length;let d=0;for(;d<U&&""===I[d].trim();)d++;return"data:"===I.substring(d,d+5).toLowerCase()}function u(I,U){try{const{protocol:d}=U?new URL(I,U):new URL(I);return"http:"===d||"https:"===d}catch{return!1}}let m;a.PageViewport=x,a.RenderingCancelledException=class B extends z.BaseException{constructor(U,d){super(U,"RenderingCancelledException"),this.type=d}},a.StatTimer=class v{constructor(){this.started=Object.create(null),this.times=[]}time(U){U in this.started&&(0,z.warn)(`Timer is already running for ${U}`),this.started[U]=Date.now()}timeEnd(U){U in this.started||(0,z.warn)(`Timer has not been started for ${U}`),this.times.push({name:U,start:this.started[U],end:Date.now()}),delete this.started[U]}toString(){const U=[];let d=0;for(const k of this.times){const O=k.name;O.length>d&&(d=O.length)}for(const k of this.times){const O=k.end-k.start;U.push(`${k.name.padEnd(d)} ${O}ms\n`)}return U.join("")}},a.PDFDateString=class T{static toDateObject(U){if(!U||"string"!=typeof U)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const d=m.exec(U);if(!d)return null;const k=parseInt(d[1],10);let O=parseInt(d[2],10);O=O>=1&&O<=12?O-1:0;let N=parseInt(d[3],10);N=N>=1&&N<=31?N:1;let V=parseInt(d[4],10);V=V>=0&&V<=23?V:0;let S=parseInt(d[5],10);S=S>=0&&S<=59?S:0;let Z=parseInt(d[6],10);Z=Z>=0&&Z<=59?Z:0;const j=d[7]||"Z";let Q=parseInt(d[8],10);Q=Q>=0&&Q<=23?Q:0;let it=parseInt(d[9],10)||0;return it=it>=0&&it<=59?it:0,"-"===j?(V+=Q,S+=it):"+"===j&&(V-=Q,S-=it),new Date(Date.UTC(k,O,N,V,S,Z))}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var r=R(1);class z{constructor(){this.constructor===z&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,A){if(t<=0||A<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(t,A);return{canvas:g,context:g.getContext("2d")}}reset(t,A,g){if(!t.canvas)throw new Error("Canvas is not specified");if(A<=0||g<=0)throw new Error("Invalid canvas size");t.canvas.width=A,t.canvas.height=g}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,A){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=z;class q{constructor({baseUrl:t=null,isCompressed:A=!1}){this.constructor===q&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=A}fetch({name:t}){var A=this;return _asyncToGenerator(function*(){if(!A.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const g=A.baseUrl+t+(A.isCompressed?".bcmap":"");return A._fetchData(g,A.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE).catch(x=>{throw new Error(`Unable to load ${A.isCompressed?"binary ":""}CMap at: ${g}`)})})()}_fetchData(t,A){(0,r.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=q;class Y{constructor({baseUrl:t=null}){this.constructor===Y&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}fetch({filename:t}){var A=this;return _asyncToGenerator(function*(){if(!A.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const g=`${A.baseUrl}${t}`;return A._fetchData(g).catch(b=>{throw new Error(`Unable to load font data at: ${g}`)})})()}_fetchData(t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=Y;class J{constructor(){this.constructor===J&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,A){if(t<=0||A<=0)throw new Error("Invalid SVG dimensions");const g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),g.setAttribute("width",`${t}px`),g.setAttribute("height",`${A}px`),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${t} ${A}`),g}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,r.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=J},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var r=R(1);class z{constructor({docId:D,onUnsupportedFeature:t,ownerDocument:A=globalThis.document,styleElement:g=null}){this.constructor===z&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=D,this._onUnsupportedFeature=t,this._document=A,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(D){this.nativeFontFaces.push(D),this._document.fonts.add(D)}insertRule(D){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));const A=t.sheet;A.insertRule(D,A.cssRules.length)}clear(){for(const D of this.nativeFontFaces)this._document.fonts.delete(D);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(D){var t=this;return _asyncToGenerator(function*(){if(D.attached||D.missingFile)return;if(D.attached=!0,t.isFontLoadingAPISupported){const g=D.createNativeFontFace();if(g){t.addNativeFontFace(g);try{yield g.loaded}catch(b){throw t._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${g.family}': '${b}'.`),D.disableFontFace=!0,b}}return}const A=D.createFontFaceRule();if(A){if(t.insertRule(A),t.isSyncFontLoadingSupported)return;yield new Promise(g=>{const b=t._queueLoadingCallback(g);t._prepareFontLoadEvent([A],[D],b)})}})()}_queueLoadingCallback(D){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,r.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(D,t,A){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let q;a.FontLoader=q,a.FontLoader=q=class extends z{constructor(D){super(D),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let D=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(D=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",D)}_queueLoadingCallback(D){const A=this.loadingContext,g={id:"pdfjs-font-loading-"+A.nextRequestId++,done:!1,complete:function t(){for((0,r.assert)(!g.done,"completeRequest() cannot be called twice."),g.done=!0;A.requests.length>0&&A.requests[0].done;){const b=A.requests.shift();setTimeout(b.callback,0)}},callback:D};return A.requests.push(g),g}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(D,t,A){function g(k,O){return k.charCodeAt(O)<<24|k.charCodeAt(O+1)<<16|k.charCodeAt(O+2)<<8|255&k.charCodeAt(O+3)}function b(k,O,N,V){return k.substring(0,O)+V+k.substring(O+N)}let x,B;const p=this._document.createElement("canvas");p.width=1,p.height=1;const c=p.getContext("2d");let P=0;const v=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=b(u,976,v.length,v);const m=1482184792;let T=g(u,16);for(x=0,B=v.length-3;x<B;x+=4)T=T-m+g(v,x)|0;x<v.length&&(T=T-m+g(v+"XXX",x)|0),u=b(u,16,4,(0,r.string32)(T));const w=`url(data:font/opentype;base64,${btoa(u)});`;this.insertRule(`@font-face {font-family:"${v}";src:${w}}`);const U=[];for(const k of t)U.push(k.loadedName);U.push(v);const d=this._document.createElement("div");d.style.visibility="hidden",d.style.width=d.style.height="10px",d.style.position="absolute",d.style.top=d.style.left="0px";for(const k of U){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=k,d.appendChild(O)}this._document.body.appendChild(d),function h(k,O){if(P++,P>30)return(0,r.warn)("Load test font never loaded."),void O();c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?O():setTimeout(h.bind(null,k,O))}(v,()=>{d.remove(),A.complete()})}},a.FontFaceObject=class Y{constructor(D,{isEvalSupported:t=!0,disableFontFace:A=!1,ignoreErrors:g=!1,onUnsupportedFeature:b,fontRegistry:x=null}){this.compiledGlyphs=Object.create(null);for(const B in D)this[B]=D[B];this.isEvalSupported=!1!==t,this.disableFontFace=!0===A,this.ignoreErrors=!0===g,this._onUnsupportedFeature=b,this.fontRegistry=x}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let D;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),D=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else D=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),D}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const D=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(D)});`;let A;if(this.cssFontInfo){let g=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(g+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),A=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${g}src:${t}}`}else A=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),A}getPathGenerator(D,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let A;try{A=D.get(this.loadedName+"_path_"+t)}catch(g){if(!this.ignoreErrors)throw g;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${g}".`),this.compiledGlyphs[t]=function(b,x){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const g=[];for(const b of A){const x=void 0!==b.args?b.args.join(","):"";g.push("c.",b.cmd,"(",x,");\n")}return this.compiledGlyphs[t]=new Function("c","size",g.join(""))}return this.compiledGlyphs[t]=function(g,b){for(const x of A)"scale"===x.cmd&&(x.args=[b,-b]),g[x.cmd].apply(g,x.args)}}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var r=R(9),z=R(1);a.AnnotationStorage=class q{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(J,D){const t=this._storage.get(J);return void 0===t?D:Object.assign(D,t)}getRawValue(J){return this._storage.get(J)}setValue(J,D){const t=this._storage.get(J);let A=!1;if(void 0!==t)for(const[g,b]of Object.entries(D))t[g]!==b&&(A=!0,t[g]=b);else A=!0,this._storage.set(J,D);A&&this._setModified()}getAll(){return this._storage.size>0?(0,z.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const J=new r.MurmurHash3_64;for(const[D,t]of this._storage)J.update(`${D}:${JSON.stringify(t)}`);return J.hexdigest()}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var r=R(1);const z=3285377520,q=4294901760,Y=65535;a.MurmurHash3_64=class J{constructor(t){this.h1=t?4294967295&t:z,this.h2=t?4294967295&t:z}update(t){let A,g;if("string"==typeof t){A=new Uint8Array(2*t.length),g=0;for(let m=0,T=t.length;m<T;m++){const w=t.charCodeAt(m);w<=255?A[g++]=w:(A[g++]=w>>>8,A[g++]=255&w)}}else{if(!(0,r.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");A=t.slice(),g=A.byteLength}const b=g>>2,x=g-4*b,B=new Uint32Array(A.buffer,0,b);let p=0,c=0,P=this.h1,h=this.h2;const v=3432918353,u=461845907,s=v&Y,o=u&Y;for(let m=0;m<b;m++)1&m?(p=B[m],p=p*v&q|p*s&Y,p=p<<15|p>>>17,p=p*u&q|p*o&Y,P^=p,P=P<<13|P>>>19,P=5*P+3864292196):(c=B[m],c=c*v&q|c*s&Y,c=c<<15|c>>>17,c=c*u&q|c*o&Y,h^=c,h=h<<13|h>>>19,h=5*h+3864292196);switch(p=0,x){case 3:p^=A[4*b+2]<<16;case 2:p^=A[4*b+1]<<8;case 1:p^=A[4*b],p=p*v&q|p*s&Y,p=p<<15|p>>>17,p=p*u&q|p*o&Y,1&b?P^=p:h^=p}this.h1=P,this.h2=h}hexdigest(){let t=this.h1,A=this.h2;t^=A>>>1,t=3981806797*t&q|36045*t&Y,A=4283543511*A&q|(2950163797*(A<<16|t>>>16)&q)>>>16,t^=A>>>1,t=444984403*t&q|60499*t&Y,A=3301882366*A&q|(3120437893*(A<<16|t>>>16)&q)>>>16,t^=A>>>1;const g=(t>>>0).toString(16),b=(A>>>0).toString(16);return g.padStart(8,"0")+b.padStart(8,"0")}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var r=R(1),z=R(11),q=R(12),Y=R(3),J=R(5);const A=4096,p=16,c=1.000001;function h(M){if(M._transformStack&&(M._transformStack=[]),!M.mozCurrentTransform){M._originalSave=M.save,M._originalRestore=M.restore,M._originalRotate=M.rotate,M._originalScale=M.scale,M._originalTranslate=M.translate,M._originalTransform=M.transform,M._originalSetTransform=M.setTransform,M._originalResetTransform=M.resetTransform,M._transformMatrix=M._transformMatrix||[1,0,0,1,0,0],M._transformStack=[];try{const e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"lineWidth");M._setLineWidth=e.set,M._getLineWidth=e.get,Object.defineProperty(M,"lineWidth",{set:function(l){this._setLineWidth(l*c)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(M,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(M,"mozCurrentTransformInverse",{get:function(){const[i,l,_,f,C,F]=this._transformMatrix,H=i*f-l*_,W=l*_-i*f;return[f/H,l/W,_/W,i/H,(f*C-_*F)/W,(l*C-i*F)/H]}}),M.save=function(){const i=this._transformMatrix;this._transformStack.push(i),this._transformMatrix=i.slice(0,6),this._originalSave()},M.restore=function(){0===this._transformStack.length&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");const i=this._transformStack.pop();i&&(this._transformMatrix=i,this._originalRestore())},M.translate=function(i,l){const _=this._transformMatrix;_[4]=_[0]*i+_[2]*l+_[4],_[5]=_[1]*i+_[3]*l+_[5],this._originalTranslate(i,l)},M.scale=function(i,l){const _=this._transformMatrix;_[0]*=i,_[1]*=i,_[2]*=l,_[3]*=l,this._originalScale(i,l)},M.transform=function(i,l,_,f,C,F){const H=this._transformMatrix;this._transformMatrix=[H[0]*i+H[2]*l,H[1]*i+H[3]*l,H[0]*_+H[2]*f,H[1]*_+H[3]*f,H[0]*C+H[2]*F+H[4],H[1]*C+H[3]*F+H[5]],M._originalTransform(i,l,_,f,C,F)},M.setTransform=function(i,l,_,f,C,F){this._transformMatrix=[i,l,_,f,C,F],M._originalSetTransform(i,l,_,f,C,F)},M.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],M._originalResetTransform()},M.rotate=function(i){const l=Math.cos(i),_=Math.sin(i),f=this._transformMatrix;this._transformMatrix=[f[0]*l+f[2]*_,f[1]*l+f[3]*_,f[0]*-_+f[2]*l,f[1]*-_+f[3]*l,f[4],f[5]],this._originalRotate(i)}}}class v{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,l,_){let f;return void 0!==this.cache[e]?(f=this.cache[e],this.canvasFactory.reset(f,i,l),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(i,l),this.cache[e]=f),_&&h(f.context),f}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function u(M,e,i,l,_,f,C,F,H,W){const[G,$,tt,ct,ht,et]=M.mozCurrentTransform;if(0===$&&0===tt){const lt=Math.round(C*G+ht),mt=Math.round(F*ct+et),Pt=Math.abs(Math.round((C+H)*G+ht)-lt)||1,Ct=Math.abs(Math.round((F+W)*ct+et)-mt)||1;return M.setTransform(Math.sign(G),0,0,Math.sign(ct),lt,mt),M.drawImage(e,i,l,_,f,0,0,Pt,Ct),M.setTransform(G,$,tt,ct,ht,et),[Pt,Ct]}if(0===G&&0===ct){const lt=Math.round(F*tt+ht),mt=Math.round(C*$+et),Pt=Math.abs(Math.round((F+W)*tt+ht)-lt)||1,Ct=Math.abs(Math.round((C+H)*$+et)-mt)||1;return M.setTransform(0,Math.sign($),Math.sign(tt),0,lt,mt),M.drawImage(e,i,l,_,f,0,0,Ct,Pt),M.setTransform(G,$,tt,ct,ht,et),[Ct,Pt]}return M.drawImage(e,i,l,_,f,C,F,H,W),[Math.hypot(G,$)*H,Math.hypot(tt,ct)*W]}class o{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,l){[i,l]=r.Util.applyTransform([i,l],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,l),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,l)}updateRectMinMax(e,i){const l=r.Util.applyTransform(i,e),_=r.Util.applyTransform(i.slice(2),e);this.minX=Math.min(this.minX,l[0],_[0]),this.minY=Math.min(this.minY,l[1],_[1]),this.maxX=Math.max(this.maxX,l[0],_[0]),this.maxY=Math.max(this.maxY,l[1],_[1])}updateScalingPathMinMax(e,i){r.Util.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.maxX=Math.max(this.maxX,i[1]),this.minY=Math.min(this.minY,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,l,_,f,C,F,H,W,G){const $=r.Util.bezierBoundingBox(i,l,_,f,C,F,H,W);if(G)return G[0]=Math.min(G[0],$[0],$[2]),G[1]=Math.max(G[1],$[0],$[2]),G[2]=Math.min(G[2],$[1],$[3]),void(G[3]=Math.max(G[3],$[1],$[3]));this.updateRectMinMax(e,$)}getPathBoundingBox(e=z.PathType.FILL,i=null){const l=[this.minX,this.minY,this.maxX,this.maxY];if(e===z.PathType.STROKE){i||(0,r.unreachable)("Stroke bounding box must include transform.");const _=r.Util.singularValueDecompose2dScale(i),f=_[0]*this.lineWidth/2,C=_[1]*this.lineWidth/2;l[0]-=f,l[1]-=C,l[2]+=f,l[3]+=C}return l}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=z.PathType.FILL,i=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function m(M,e,i=null){if(typeof ImageData<"u"&&e instanceof ImageData)return void M.putImageData(e,0,0);const l=e.height,_=e.width,f=l%p,C=(l-f)/p,F=0===f?C:C+1,H=M.createImageData(_,p);let G,W=0;const $=e.data,tt=H.data;let ct,ht,et,rt,ut,dt,lt,_t;if(i)switch(i.length){case 1:ut=i[0],dt=i[0],lt=i[0],_t=i[0];break;case 4:ut=i[0],dt=i[1],lt=i[2],_t=i[3]}if(e.kind===r.ImageKind.GRAYSCALE_1BPP){const mt=$.byteLength,ft=new Uint32Array(tt.buffer,0,tt.byteLength>>2),Pt=ft.length,At=_+7>>3;let Ct=4294967295,Ot=r.FeatureTest.isLittleEndian?4278190080:255;for(_t&&255===_t[0]&&0===_t[255]&&([Ct,Ot]=[Ot,Ct]),ct=0;ct<F;ct++){for(et=ct<C?p:f,G=0,ht=0;ht<et;ht++){const Lt=mt-W;let Ft=0;const wt=Lt>At?_:8*Lt-7,Rt=-8&wt;let ot=0,X=0;for(;Ft<Rt;Ft+=8)X=$[W++],ft[G++]=128&X?Ct:Ot,ft[G++]=64&X?Ct:Ot,ft[G++]=32&X?Ct:Ot,ft[G++]=16&X?Ct:Ot,ft[G++]=8&X?Ct:Ot,ft[G++]=4&X?Ct:Ot,ft[G++]=2&X?Ct:Ot,ft[G++]=1&X?Ct:Ot;for(;Ft<wt;Ft++)0===ot&&(X=$[W++],ot=128),ft[G++]=X&ot?Ct:Ot,ot>>=1}for(;G<Pt;)ft[G++]=0;M.putImageData(H,0,ct*p)}}else if(e.kind===r.ImageKind.RGBA_32BPP){const mt=!!(ut||dt||lt);for(ht=0,rt=_*p*4,ct=0;ct<C;ct++){if(tt.set($.subarray(W,W+rt)),W+=rt,mt)for(let ft=0;ft<rt;ft+=4)ut&&(tt[ft+0]=ut[tt[ft+0]]),dt&&(tt[ft+1]=dt[tt[ft+1]]),lt&&(tt[ft+2]=lt[tt[ft+2]]);M.putImageData(H,0,ht),ht+=p}if(ct<F){if(rt=_*f*4,tt.set($.subarray(W,W+rt)),mt)for(let ft=0;ft<rt;ft+=4)ut&&(tt[ft+0]=ut[tt[ft+0]]),dt&&(tt[ft+1]=dt[tt[ft+1]]),lt&&(tt[ft+2]=lt[tt[ft+2]]);M.putImageData(H,0,ht)}}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);{const mt=!!(ut||dt||lt);for(et=p,rt=_*et,ct=0;ct<F;ct++){for(ct>=C&&(et=f,rt=_*et),G=0,ht=rt;ht--;)tt[G++]=$[W++],tt[G++]=$[W++],tt[G++]=$[W++],tt[G++]=255;if(mt)for(let ft=0;ft<G;ft+=4)ut&&(tt[ft+0]=ut[tt[ft+0]]),dt&&(tt[ft+1]=dt[tt[ft+1]]),lt&&(tt[ft+2]=lt[tt[ft+2]]);M.putImageData(H,0,ct*p)}}}}function T(M,e){if(e.bitmap)return void M.drawImage(e.bitmap,0,0);const i=e.height,l=e.width,_=i%p,f=(i-_)/p,C=0===_?f:f+1,F=M.createImageData(l,p);let H=0;const W=e.data,G=F.data;for(let $=0;$<C;$++){const tt=$<f?p:_;({srcPos:H}=(0,q.applyMaskImageData)({src:W,srcPos:H,dest:G,width:l,height:tt})),M.putImageData(F,0,$*p)}}function w(M,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let l=0,_=i.length;l<_;l++){const f=i[l];void 0!==M[f]&&(e[f]=M[f])}void 0!==M.setLineDash&&(e.setLineDash(M.getLineDash()),e.lineDashOffset=M.lineDashOffset)}function I(M,e){M.strokeStyle=M.fillStyle=e||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",void 0!==M.setLineDash&&(M.setLineDash([]),M.lineDashOffset=0)}function U(M,e,i,l){const _=M.length;for(let f=3;f<_;f+=4){const C=M[f];if(0===C)M[f-3]=e,M[f-2]=i,M[f-1]=l;else if(C<255){const F=255-C;M[f-3]=M[f-3]*C+e*F>>8,M[f-2]=M[f-2]*C+i*F>>8,M[f-1]=M[f-1]*C+l*F>>8}}}function d(M,e,i){const l=M.length;for(let f=3;f<l;f+=4)e[f]=e[f]*(i?i[M[f]]:M[f])*.00392156862745098|0}function k(M,e,i){const l=M.length;for(let _=3;_<l;_+=4){const f=77*M[_-3]+152*M[_-2]+28*M[_-1];e[_]=i?e[_]*i[f>>8]>>8:e[_]*f>>16}}function V(M,e){const i=r.Util.singularValueDecompose2dScale(M);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const l=Math.fround((globalThis.devicePixelRatio||1)*J.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:i[0]<=l||i[1]<=l}const S=["butt","round","square"],Z=["miter","round","bevel"],j={},Q={};class it{constructor(e,i,l,_,f,C,F,H){this.ctx=e,this.current=new o(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=l,this.canvasFactory=_,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=C,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=F,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=H?.background||null,this.foregroundColor=H?.foreground||null,e&&h(e),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:l=!1,background:_=null}){const f=this.ctx.canvas.width,C=this.ctx.canvas.height,F=_||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const H=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const W=this.backgroundColor=this.ctx.fillStyle;let G=!0,$=F;if(this.ctx.fillStyle=F,$=this.ctx.fillStyle,G="string"==typeof $&&/^#[0-9A-Fa-f]{6}$/.test($),"#000000"===H&&"#ffffff"===W||H===W||!G)this.foregroundColor=this.backgroundColor=null;else{const tt=parseInt($.slice(1),16),ht=(tt&&65280)>>8,et=tt&&255,rt=dt=>(dt/=255)<=.03928?dt/12.92:((dt+.055)/1.055)**2.4,ut=Math.round(.2126*rt((tt&&16711680)>>16)+.7152*rt(ht)+.0722*rt(et));this.selectColor=(dt,lt,_t)=>{const mt=.2126*rt(dt)+.7152*rt(lt)+.0722*rt(_t);return Math.round(mt)===ut?W:H}}}if(this.ctx.fillStyle=this.backgroundColor||F,this.ctx.fillRect(0,0,f,C),this.ctx.restore(),l){const H=this.cachedCanvases.getCanvas("transparent",f,C,!0);this.compositeCtx=this.ctx,this.transparentCanvas=H.canvas,this.ctx=H.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),I(this.ctx,this.foregroundColor),e&&(this.ctx.transform.apply(this.ctx,e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform.apply(this.ctx,i.transform),this.viewportScale=i.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(e,i,l,_){const f=e.argsArray,C=e.fnArray;let F=i||0;const H=f.length;if(H===F)return F;const W=H-F>10&&"function"==typeof l,G=W?Date.now()+15:0;let $=0;const tt=this.commonObjs,ct=this.objs;let ht;for(;;){if(void 0!==_&&F===_.nextBreakPoint)return _.breakIt(F,l),F;if(ht=C[F],ht!==r.OPS.dependency)this[ht].apply(this,f[F]);else for(const et of f[F]){const rt=et.startsWith("g_")?tt:ct;if(!rt.has(et))return rt.get(et,l),F}if(F++,F===H)return F;if(W&&++$>10){if(Date.now()>G)return l(),F;$=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,i){const l=e.width,_=e.height;let G,$,f=Math.max(Math.hypot(i[0],i[1]),1),C=Math.max(Math.hypot(i[2],i[3]),1),F=l,H=_,W="prescale1";for(;f>2&&F>1||C>2&&H>1;){let tt=F,ct=H;f>2&&F>1&&(tt=Math.ceil(F/2),f/=F/tt),C>2&&H>1&&(ct=Math.ceil(H/2),C/=H/ct),G=this.cachedCanvases.getCanvas(W,tt,ct,!1),$=G.context,$.clearRect(0,0,tt,ct),$.drawImage(e,0,0,F,H,0,0,tt,ct),e=G.canvas,F=tt,H=ct,W="prescale1"===W?"prescale2":"prescale1"}return{img:e,paintWidth:F,paintHeight:H}}_createMaskCanvas(e){const i=this.ctx,{width:l,height:_}=e,f=this.current.fillColor,C=this.current.patternFill,F=i.mozCurrentTransform;let H,W,G,$;if((e.bitmap||e.data)&&e.count>1){const Pt=e.bitmap||e.data.buffer,At=F.slice(0,4);W=JSON.stringify(C?At:[At,f]),H=this._cachedBitmapsMap.get(Pt),H||(H=new Map,this._cachedBitmapsMap.set(Pt,H));const Ct=H.get(W);if(Ct&&!C)return{canvas:Ct,offsetX:Math.round(Math.min(F[0],F[2])+F[4]),offsetY:Math.round(Math.min(F[1],F[3])+F[5])};G=Ct}G||($=this.cachedCanvases.getCanvas("maskCanvas",l,_,!1),T($.context,e));let tt=r.Util.transform(F,[1/l,0,0,-1/_,0,0]);tt=r.Util.transform(tt,[1,0,0,1,0,-_]);const ct=r.Util.applyTransform([0,0],tt),ht=r.Util.applyTransform([l,_],tt),et=r.Util.normalizeRect([ct[0],ct[1],ht[0],ht[1]]),rt=Math.round(et[2]-et[0])||1,ut=Math.round(et[3]-et[1])||1,dt=this.cachedCanvases.getCanvas("fillCanvas",rt,ut,!0),lt=dt.context,_t=Math.min(ct[0],ht[0]),mt=Math.min(ct[1],ht[1]);lt.translate(-_t,-mt),lt.transform.apply(lt,tt),G||(G=this._scaleImage($.canvas,lt.mozCurrentTransformInverse),G=G.img,H&&C&&H.set(W,G)),lt.imageSmoothingEnabled=V(lt.mozCurrentTransform,e.interpolate),u(lt,G,0,0,G.width,G.height,0,0,l,_),lt.globalCompositeOperation="source-in";const ft=r.Util.transform(lt.mozCurrentTransformInverse,[1,0,0,1,-_t,-mt]);return lt.fillStyle=C?f.getPattern(i,this,ft,z.PathType.FILL):f,lt.fillRect(0,0,l,_),H&&!C&&(this.cachedCanvases.delete("fillCanvas"),H.set(W,dt.canvas)),{canvas:dt.canvas,offsetX:Math.round(_t),offsetY:Math.round(mt)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=S[e]}setLineJoin(e){this.ctx.lineJoin=Z[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const l=this.ctx;void 0!==l.setLineDash&&(l.setLineDash(e),l.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let i=0,l=e.length;i<l;i++){const _=e[i],C=_[1];switch(_[0]){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=_[1];break;case"ca":this.current.fillAlpha=_[1],this.ctx.globalAlpha=_[1];break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=C}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=_.context;const f=this.ctx;f.setTransform.apply(f,this.suspendedCtx.mozCurrentTransform),w(this.suspendedCtx,f),function P(M,e){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){e.save(),this.__originalSave()},M.restore=function(){e.restore(),this.__originalRestore()},M.translate=function(l,_){e.translate(l,_),this.__originalTranslate(l,_)},M.scale=function(l,_){e.scale(l,_),this.__originalScale(l,_)},M.transform=function(l,_,f,C,F,H){e.transform(l,_,f,C,F,H),this.__originalTransform(l,_,f,C,F,H)},M.setTransform=function(l,_,f,C,F,H){e.setTransform(l,_,f,C,F,H),this.__originalSetTransform(l,_,f,C,F,H)},M.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},M.rotate=function(l){e.rotate(l),this.__originalRotate(l)},M.clip=function(l){e.clip(l),this.__originalClip(l)},M.moveTo=function(i,l){e.moveTo(i,l),this.__originalMoveTo(i,l)},M.lineTo=function(i,l){e.lineTo(i,l),this.__originalLineTo(i,l)},M.bezierCurveTo=function(i,l,_,f,C,F){e.bezierCurveTo(i,l,_,f,C,F),this.__originalBezierCurveTo(i,l,_,f,C,F)},M.rect=function(i,l,_,f){e.rect(i,l,_,f),this.__originalRect(i,l,_,f)},M.closePath=function(){e.closePath(),this.__originalClosePath()},M.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function N(M,e,i,l){const _=l[0],f=l[1],C=l[2]-_,F=l[3]-f;0===C||0===F||(function O(M,e,i,l,_,f,C,F,H,W,G){const $=!!f,tt=$?f[0]:0,ct=$?f[1]:0,ht=$?f[2]:0;let et;et="Luminosity"===_?k:d;const ut=Math.min(l,Math.ceil(1048576/i));for(let dt=0;dt<l;dt+=ut){const lt=Math.min(ut,l-dt),_t=M.getImageData(F-W,dt+(H-G),i,lt),mt=e.getImageData(F,dt+H,i,lt);$&&U(_t.data,tt,ct,ht),et(_t.data,mt.data,C),e.putImageData(mt,F,dt+H)}}(e.context,i,C,F,e.subtype,e.backdrop,e.transferMap,_,f,e.offsetX,e.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(i.canvas,0,0),M.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,i,l,_,f,C){this.ctx.transform(e,i,l,_,f,C),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,i,l){const _=this.ctx,f=this.current;let H,W,C=f.x,F=f.y;const G=_.mozCurrentTransform,$=0===G[0]&&0===G[3]||0===G[1]&&0===G[2],tt=$?l.slice(0):null;for(let ct=0,ht=0,et=e.length;ct<et;ct++)switch(0|e[ct]){case r.OPS.rectangle:C=i[ht++],F=i[ht++];const rt=i[ht++],ut=i[ht++],dt=C+rt,lt=F+ut;_.moveTo(C,F),0===rt||0===ut?_.lineTo(dt,lt):(_.lineTo(dt,F),_.lineTo(dt,lt),_.lineTo(C,lt)),$||f.updateRectMinMax(G,[C,F,dt,lt]),_.closePath();break;case r.OPS.moveTo:C=i[ht++],F=i[ht++],_.moveTo(C,F),$||f.updatePathMinMax(G,C,F);break;case r.OPS.lineTo:C=i[ht++],F=i[ht++],_.lineTo(C,F),$||f.updatePathMinMax(G,C,F);break;case r.OPS.curveTo:H=C,W=F,C=i[ht+4],F=i[ht+5],_.bezierCurveTo(i[ht],i[ht+1],i[ht+2],i[ht+3],C,F),f.updateCurvePathMinMax(G,H,W,i[ht],i[ht+1],i[ht+2],i[ht+3],C,F,tt),ht+=6;break;case r.OPS.curveTo2:H=C,W=F,_.bezierCurveTo(C,F,i[ht],i[ht+1],i[ht+2],i[ht+3]),f.updateCurvePathMinMax(G,H,W,C,F,i[ht],i[ht+1],i[ht+2],i[ht+3],tt),C=i[ht+2],F=i[ht+3],ht+=4;break;case r.OPS.curveTo3:H=C,W=F,C=i[ht+2],F=i[ht+3],_.bezierCurveTo(i[ht],i[ht+1],C,F,C,F),f.updateCurvePathMinMax(G,H,W,i[ht],i[ht+1],C,F,C,F,tt),ht+=4;break;case r.OPS.closePath:_.closePath()}$&&f.updateScalingPathMinMax(G,tt),f.setCurrentPoint(C,F)}closePath(){this.ctx.closePath()}stroke(e){e=!(typeof e<"u")||e;const i=this.ctx,l=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof l&&l?.getPattern?(i.save(),i.strokeStyle=l.getPattern(i,this,i.mozCurrentTransformInverse,z.PathType.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e){e=!(typeof e<"u")||e;const i=this.ctx,l=this.current.fillColor;let f=!1;this.current.patternFill&&(i.save(),i.fillStyle=l.getPattern(i,this,i.mozCurrentTransformInverse,z.PathType.FILL),f=!0);const C=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==C&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),f&&i.restore(),e&&this.consumePath(C)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j}eoClip(){this.pendingClip=Q}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(void 0!==e){i.save(),i.beginPath();for(let l=0;l<e.length;l++){const _=e[l];i.setTransform.apply(i,_.transform),i.translate(_.x,_.y),_.addToPath(i,_.fontSize)}i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}else i.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){const l=this.commonObjs.get(e),_=this.current;if(!l)throw new Error(`Can't find font for ${e}`);if(_.fontMatrix=l.fontMatrix||r.FONT_IDENTITY_MATRIX,(0===_.fontMatrix[0]||0===_.fontMatrix[3])&&(0,r.warn)("Invalid font matrix for font "+e),i<0?(i=-i,_.fontDirection=-1):_.fontDirection=1,this.current.font=l,this.current.fontSize=i,l.isType3Font)return;let C="normal";l.black?C="900":l.bold&&(C="bold");const F=l.italic?"italic":"normal",H=`"${l.loadedName||"sans-serif"}", ${l.fallbackName}`;let W=i;i<16?W=16:i>100&&(W=100),this.current.fontSizeScale=i/W,this.ctx.font=`${F} ${C} ${W}px ${H}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,l,_,f,C){this.current.textMatrix=[e,i,l,_,f,C],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,l,_){const f=this.ctx,C=this.current,F=C.font,H=C.textRenderingMode,W=C.fontSize/C.fontSizeScale,G=H&r.TextRenderingMode.FILL_STROKE_MASK,$=!!(H&r.TextRenderingMode.ADD_TO_PATH_FLAG),tt=C.patternFill&&!F.missingFile;let ct;(F.disableFontFace||$||tt)&&(ct=F.getPathGenerator(this.commonObjs,e)),F.disableFontFace||tt?(f.save(),f.translate(i,l),f.beginPath(),ct(f,W),_&&f.setTransform.apply(f,_),(G===r.TextRenderingMode.FILL||G===r.TextRenderingMode.FILL_STROKE)&&f.fill(),(G===r.TextRenderingMode.STROKE||G===r.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((G===r.TextRenderingMode.FILL||G===r.TextRenderingMode.FILL_STROKE)&&f.fillText(e,i,l),(G===r.TextRenderingMode.STROKE||G===r.TextRenderingMode.FILL_STROKE)&&f.strokeText(e,i,l)),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:i,y:l,fontSize:W,addToPath:ct})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let l=!1;for(let _=3;_<i.length;_+=4)if(i[_]>0&&i[_]<255){l=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",l)}showText(e){const i=this.current,l=i.font;if(l.isType3Font)return this.showType3Text(e);const _=i.fontSize;if(0===_)return;const f=this.ctx,C=i.fontSizeScale,F=i.charSpacing,H=i.wordSpacing,W=i.fontDirection,G=i.textHScale*W,$=e.length,tt=l.vertical,ct=tt?1:-1,ht=l.defaultVMetrics,et=_*i.fontMatrix[0],rt=i.textRenderingMode===r.TextRenderingMode.FILL&&!l.disableFontFace&&!i.patternFill;let ut;if(f.save(),f.transform.apply(f,i.textMatrix),f.translate(i.x,i.y+i.textRise),f.scale(G,W>0?-1:1),i.patternFill){f.save();const ft=i.fillColor.getPattern(f,this,f.mozCurrentTransformInverse,z.PathType.FILL);ut=f.mozCurrentTransform,f.restore(),f.fillStyle=ft}let dt=i.lineWidth;const lt=i.textMatrixScale;if(0===lt||0===dt){const ft=i.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(ft===r.TextRenderingMode.STROKE||ft===r.TextRenderingMode.FILL_STROKE)&&(dt=this.getSinglePixelWidth())}else dt/=lt;1!==C&&(f.scale(C,C),dt/=C),f.lineWidth=dt;let mt,_t=0;for(mt=0;mt<$;++mt){const ft=e[mt];if("number"==typeof ft){_t+=ct*ft*_/1e3;continue}let Pt=!1;const At=(ft.isSpace?H:0)+F,Ct=ft.fontChar,Ot=ft.accent;let Lt,Ft,Rt,wt=ft.width;if(tt){const ot=ft.vmetric||ht,X=-(ft.vmetric?ot[1]:.5*wt)*et;wt=ot?-ot[0]:wt,Lt=X/C,Ft=(_t+ot[2]*et)/C}else Lt=_t/C,Ft=0;if(l.remeasure&&wt>0){const ot=1e3*f.measureText(Ct).width/_*C;if(wt<ot&&this.isFontSubpixelAAEnabled){const X=wt/ot;Pt=!0,f.save(),f.scale(X,1),Lt/=X}else wt!==ot&&(Lt+=(wt-ot)/2e3*_/C)}this.contentVisible&&(ft.isInFont||l.missingFile)&&(rt&&!Ot?f.fillText(Ct,Lt,Ft):(this.paintChar(Ct,Lt,Ft,ut),Ot&&this.paintChar(Ot.fontChar,Lt+_*Ot.offset.x/C,Ft-_*Ot.offset.y/C,ut))),Rt=tt?wt*et-At*W:wt*et+At*W,_t+=Rt,Pt&&f.restore()}tt?i.y-=_t:i.x+=_t*G,f.restore(),this.compose()}showType3Text(e){const i=this.ctx,l=this.current,_=l.font,f=l.fontSize,C=l.fontDirection,F=_.vertical?1:-1,H=l.charSpacing,W=l.wordSpacing,G=l.textHScale*C,$=l.fontMatrix||r.FONT_IDENTITY_MATRIX,tt=e.length;let ht,et,rt,ut;if(l.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==f){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,l.textMatrix),i.translate(l.x,l.y),i.scale(G,C),ht=0;ht<tt;++ht){if(et=e[ht],"number"==typeof et){ut=F*et*f/1e3,this.ctx.translate(ut,0),l.x+=ut*G;continue}const dt=(et.isSpace?W:0)+H,lt=_.charProcOperatorList[et.operatorListId];lt?(this.contentVisible&&(this.processingType3=et,this.save(),i.scale(f,f),i.transform.apply(i,$),this.executeOperatorList(lt),this.restore()),rt=r.Util.applyTransform([et.width,0],$)[0]*f+dt,i.translate(rt,0),l.x+=rt*G):(0,r.warn)(`Type3 character "${et.operatorListId}" is not available.`)}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,l,_,f,C){this.ctx.rect(l,_,f-l,C-_),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if("TilingPattern"===e[0]){const l=e[1],_=this.baseTransform||this.ctx.mozCurrentTransform.slice();i=new z.TilingPattern(e,l,this.ctx,{createCanvasGraphics:C=>new it(C,this.commonObjs,this.objs,this.canvasFactory)},_)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,l){const _=this.selectColor?.(e,i,l)||r.Util.makeHexColor(e,i,l);this.ctx.strokeStyle=_,this.current.strokeColor=_}setFillRGBColor(e,i,l){const _=this.selectColor?.(e,i,l)||r.Util.makeHexColor(e,i,l);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1}_getPattern(e,i=null){let l;return this.cachedPatterns.has(e)?l=this.cachedPatterns.get(e):(l=(0,z.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,l)),i&&(l.matrix=i),l}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const l=this._getPattern(e);i.fillStyle=l.getPattern(i,this,i.mozCurrentTransformInverse,z.PathType.SHADING);const _=i.mozCurrentTransformInverse;if(_){const f=i.canvas,C=f.width,F=f.height,H=r.Util.applyTransform([0,0],_),W=r.Util.applyTransform([0,F],_),G=r.Util.applyTransform([C,0],_),$=r.Util.applyTransform([C,F],_),tt=Math.min(H[0],W[0],G[0],$[0]),ct=Math.min(H[1],W[1],G[1],$[1]),ht=Math.max(H[0],W[0],G[0],$[0]),et=Math.max(H[1],W[1],G[1],$[1]);this.ctx.fillRect(tt,ct,ht-tt,et-ct)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,i){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,i)&&(this.ctx.rect(i[0],i[1],i[2]-i[0],i[3]-i[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,i),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const l=i.mozCurrentTransform;if(e.matrix&&i.transform.apply(i,e.matrix),!e.bbox)throw new Error("Bounding box is required.");let _=r.Util.getAxialAlignedBoundingBox(e.bbox,i.mozCurrentTransform);_=r.Util.intersect(_,[0,0,i.canvas.width,i.canvas.height])||[0,0,0,0];const C=Math.floor(_[0]),F=Math.floor(_[1]);let H=Math.max(Math.ceil(_[2])-C,1),W=Math.max(Math.ceil(_[3])-F,1),G=1,$=1;H>A&&(G=H/A,H=A),W>A&&($=W/A,W=A),this.current.startNewPathAndClipBox([0,0,H,W]);let tt="groupAt"+this.groupLevel;e.smask&&(tt+="_smask_"+this.smaskCounter++%2);const ct=this.cachedCanvases.getCanvas(tt,H,W,!0),ht=ct.context;ht.scale(1/G,1/$),ht.translate(-C,-F),ht.transform.apply(ht,l),e.smask?this.smaskStack.push({canvas:ct.canvas,context:ht,offsetX:C,offsetY:F,scaleX:G,scaleY:$,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(C,F),i.scale(G,$),i.save()),w(i,ht),this.ctx=ht,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,l=this.groupStack.pop();if(this.ctx=l,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,_);const f=r.Util.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],_);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(f)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(e,i,l,_,f){if(this.save(),Array.isArray(i)&&4===i.length){const C=i[2]-i[0],F=i[3]-i[1];if(f&&this.annotationCanvasMap){(l=l.slice())[4]-=i[0],l[5]-=i[1],(i=i.slice())[0]=i[1]=0,i[2]=C,i[3]=F;const[H,W]=r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:G}=this,$=Math.ceil(C*this.outputScaleX*G),tt=Math.ceil(F*this.outputScaleY*G);this.annotationCanvas=this.canvasFactory.create($,tt);const{canvas:ct,context:ht}=this.annotationCanvas,et=`var(--zoom-factor) * ${J.PixelsPerInch.PDF_TO_CSS_UNITS}`;ct.style.width=`calc(${C}px * ${et})`,ct.style.height=`calc(${F}px * ${et})`,this.annotationCanvasMap.set(e,ct),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ht,this.ctx.setTransform(H,0,0,-W,0,F*W),h(this.ctx),I(this.ctx,this.foregroundColor)}else I(this.ctx,this.foregroundColor),this.ctx.rect(i[0],i[1],C,F),this.ctx.clip(),this.endPath()}this.current=new o(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,l),this.transform.apply(this,_)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;(e=this.getObject(e.data,e)).count=i;const l=this.ctx,_=this.processingType3;if(_&&(void 0===_.compiled&&(_.compiled=function s(M){const{width:e,height:i}=M;if(e>1e3||i>1e3)return null;const _=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=e+1;let F,H,W,C=new Uint8Array(f*(i+1));const G=e+7&-8;let $=new Uint8Array(G*i),tt=0;for(const lt of M.data){let _t=128;for(;_t>0;)$[tt++]=lt&_t?0:255,_t>>=1}let ct=0;for(tt=0,0!==$[tt]&&(C[0]=1,++ct),H=1;H<e;H++)$[tt]!==$[tt+1]&&(C[H]=$[tt]?2:1,++ct),tt++;for(0!==$[tt]&&(C[H]=2,++ct),F=1;F<i;F++){tt=F*G,W=F*f,$[tt-G]!==$[tt]&&(C[W]=$[tt]?1:8,++ct);let lt=($[tt]?4:0)+($[tt-G]?8:0);for(H=1;H<e;H++)lt=(lt>>2)+($[tt+1]?4:0)+($[tt-G+1]?8:0),_[lt]&&(C[W+H]=_[lt],++ct),tt++;if($[tt-G]!==$[tt]&&(C[W+H]=$[tt]?2:4,++ct),ct>1e3)return null}for(tt=G*(i-1),W=F*f,0!==$[tt]&&(C[W]=8,++ct),H=1;H<e;H++)$[tt]!==$[tt+1]&&(C[W+H]=$[tt]?4:8,++ct),tt++;if(0!==$[tt]&&(C[W+H]=4,++ct),ct>1e3)return null;const ht=new Int32Array([0,f,-1,0,-f,0,0,0,1]);let et,rt,ut;for(Y.isNodeJS?rt=[]:et=new Path2D,F=0;ct&&F<=i;F++){let lt=F*f;const _t=lt+e;for(;lt<_t&&!C[lt];)lt++;if(lt===_t)continue;et?et.moveTo(lt%f,F):ut=[lt%f,F];const mt=lt;let ft=C[lt];do{const Pt=ht[ft];do{lt+=Pt}while(!C[lt]);const At=C[lt];5!==At&&10!==At?(ft=At,C[lt]=0):(ft=At&51*ft>>4,C[lt]&=ft>>2|ft<<2),et?et.lineTo(lt%f,lt/f|0):ut.push(lt%f,lt/f|0),C[lt]||--ct}while(mt!==lt);et||rt.push(ut),--F}return $=null,C=null,function(lt){if(lt.save(),lt.scale(1/e,-1/i),lt.translate(0,-i),et)lt.fill(et);else{lt.beginPath();for(const _t of rt){lt.moveTo(_t[0],_t[1]);for(let mt=2,ft=_t.length;mt<ft;mt+=2)lt.lineTo(_t[mt],_t[mt+1])}lt.fill()}lt.beginPath(),lt.restore()}}(e)),_.compiled))return void _.compiled(l);const f=this._createMaskCanvas(e),C=f.canvas;l.save(),l.setTransform(1,0,0,1,0,0),l.drawImage(C,f.offsetX,f.offsetY),l.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,l=0,_=0,f,C){if(!this.contentVisible)return;e=this.getObject(e.data,e);const F=this.ctx;F.save();const H=F.mozCurrentTransform;F.transform(i,l,_,f,0,0);const W=this._createMaskCanvas(e);F.setTransform(1,0,0,1,0,0);for(let G=0,$=C.length;G<$;G+=2){const tt=r.Util.transform(H,[i,l,_,f,C[G],C[G+1]]),[ct,ht]=r.Util.applyTransform([0,0],tt);F.drawImage(W.canvas,ct,ht)}F.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,l=this.current.fillColor,_=this.current.patternFill;for(let f=0,C=e.length;f<C;f++){const F=e[f],H=F.width,W=F.height,G=this.cachedCanvases.getCanvas("maskCanvas",H,W,!1),$=G.context;$.save(),T($,F),$.globalCompositeOperation="source-in",$.fillStyle=_?l.getPattern($,this,i.mozCurrentTransformInverse,z.PathType.FILL):l,$.fillRect(0,0,H,W),$.restore(),i.save(),i.transform.apply(i,F.transform),i.scale(1,-1),u(i,G.canvas,0,0,H,W,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);i?this.paintInlineImageXObject(i):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,i,l,_){if(!this.contentVisible)return;const f=this.getObject(e);if(!f)return void(0,r.warn)("Dependent image isn't ready yet");const C=f.width,F=f.height,H=[];for(let W=0,G=_.length;W<G;W+=2)H.push({transform:[i,0,0,l,_[W],_[W+1]],x:0,y:0,w:C,h:F});this.paintInlineImageXObjectGroup(f,H)}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,l=e.height,_=this.ctx;let f;if(this.save(),_.scale(1/i,-1/l),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)f=e;else{const W=this.cachedCanvases.getCanvas("inlineImage",i,l,!1);m(W.context,e,this.current.transferMaps),f=W.canvas}const C=this._scaleImage(f,_.mozCurrentTransformInverse);_.imageSmoothingEnabled=V(_.mozCurrentTransform,e.interpolate);const[F,H]=u(_,C.img,0,0,C.paintWidth,C.paintHeight,0,-l,i,l);if(this.imageLayer){const W=this.getCanvasPosition(0,-l);this.imageLayer.appendImage({imgData:e,left:W[0],top:W[1],width:F,height:H})}this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const l=this.ctx,_=e.width,f=e.height,C=this.cachedCanvases.getCanvas("inlineImage",_,f,!1);m(C.context,e,this.current.transferMaps);for(let H=0,W=i.length;H<W;H++){const G=i[H];if(l.save(),l.transform.apply(l,G.transform),l.scale(1,-1),u(l,C.canvas,G.x,G.y,G.w,G.h,0,-1,1,1),this.imageLayer){const $=this.getCanvasPosition(G.x,G.y);this.imageLayer.appendImage({imgData:e,left:$[0],top:$[1],width:_,height:f})}l.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(i)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const l=this.ctx;this.pendingClip&&(i||(this.pendingClip===Q?l.clip("evenodd"):l.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),l.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransform;if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),l=Math.hypot(e[0],e[2]),_=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(l,_)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,i=this.ctx.mozCurrentTransform;let l,_;if(0===i[1]&&0===i[2]){const f=Math.abs(i[0]),C=Math.abs(i[3]);if(0===e)l=1/f,_=1/C;else{const F=f*e,H=C*e;l=F<1?1/F:1,_=H<1?1/H:1}}else{const f=Math.abs(i[0]*i[3]-i[2]*i[1]),C=Math.hypot(i[0],i[1]),F=Math.hypot(i[2],i[3]);if(0===e)l=F/f,_=C/f;else{const H=e*f;l=F>H?F/H:1,_=C>H?C/H:1}}this._cachedScaleForStroking=[l,_]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:l}=this.current,[_,f]=this.getScaleForStroking();if(i.lineWidth=l||1,1===_&&1===f)return void i.stroke();let C,F,H;e&&(C=i.mozCurrentTransform.slice(),F=i.getLineDash().slice(),H=i.lineDashOffset),i.scale(_,f);const W=Math.max(_,f);i.setLineDash(i.getLineDash().map(G=>G/W)),i.lineDashOffset/=W,i.stroke(),e&&(i.setTransform(...C),i.setLineDash(F),i.lineDashOffset=H)}getCanvasPosition(e,i){const l=this.ctx.mozCurrentTransform;return[l[0]*e+l[2]*i+l[4],l[1]*e+l[3]*i+l[5]]}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}a.CanvasGraphics=it;for(const M in r.OPS)void 0!==it.prototype[M]&&(it.prototype[r.OPS[M]]=it.prototype[M])},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function x(c){switch(c[0]){case"RadialAxial":return new D(c);case"Mesh":return new g(c);case"Dummy":return new b}throw new Error(`Unknown IR type: ${c[0]}`)};var r=R(1),z=R(3);const q={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Y(c,P){if(!P||z.isNodeJS)return;const h=P[2]-P[0],v=P[3]-P[1],u=new Path2D;u.rect(P[0],P[1],h,v),c.clip(u)}a.PathType=q;class J{constructor(){this.constructor===J&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class D extends J{constructor(P){super(),this._type=P[1],this._bbox=P[2],this._colorStops=P[3],this._p0=P[4],this._p1=P[5],this._r0=P[6],this._r1=P[7],this.matrix=null}_createGradient(P){let h;"axial"===this._type?h=P.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(h=P.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const v of this._colorStops)h.addColorStop(v[0],v[1]);return h}getPattern(P,h,v,u){let s;if(u===q.STROKE||u===q.FILL){const o=h.current.getClippedPathBoundingBox(u,P.mozCurrentTransform)||[0,0,0,0],m=Math.ceil(o[2]-o[0])||1,T=Math.ceil(o[3]-o[1])||1,w=h.cachedCanvases.getCanvas("pattern",m,T,!0),I=w.context;I.clearRect(0,0,I.canvas.width,I.canvas.height),I.beginPath(),I.rect(0,0,I.canvas.width,I.canvas.height),I.translate(-o[0],-o[1]),v=r.Util.transform(v,[1,0,0,1,o[0],o[1]]),I.transform.apply(I,h.baseTransform),this.matrix&&I.transform.apply(I,this.matrix),Y(I,this._bbox),I.fillStyle=this._createGradient(I),I.fill(),s=P.createPattern(w.canvas,"no-repeat");const U=new DOMMatrix(v);try{s.setTransform(U)}catch(d){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${d?.message}".`)}}else Y(P,this._bbox),s=this._createGradient(P);return s}}function t(c,P,h,v,u,s,o,m){const T=P.coords,w=P.colors,I=c.data,U=4*c.width;let d;T[h+1]>T[v+1]&&(d=h,h=v,v=d,d=s,s=o,o=d),T[v+1]>T[u+1]&&(d=v,v=u,u=d,d=o,o=m,m=d),T[h+1]>T[v+1]&&(d=h,h=v,v=d,d=s,s=o,o=d);const k=(T[h]+P.offsetX)*P.scaleX,O=(T[h+1]+P.offsetY)*P.scaleY,N=(T[v]+P.offsetX)*P.scaleX,V=(T[v+1]+P.offsetY)*P.scaleY,S=(T[u]+P.offsetX)*P.scaleX,Z=(T[u+1]+P.offsetY)*P.scaleY;if(O>=Z)return;const j=w[s],Q=w[s+1],it=w[s+2],M=w[o],e=w[o+1],i=w[o+2],l=w[m],_=w[m+1],f=w[m+2],C=Math.round(O),F=Math.round(Z);let H,W,G,$,tt,ct,ht,et;for(let rt=C;rt<=F;rt++){if(rt<V){let mt;mt=rt<O?0:(O-rt)/(O-V),H=k-(k-N)*mt,W=j-(j-M)*mt,G=Q-(Q-e)*mt,$=it-(it-i)*mt}else{let mt;mt=rt>Z?1:V===Z?0:(V-rt)/(V-Z),H=N-(N-S)*mt,W=M-(M-l)*mt,G=e-(e-_)*mt,$=i-(i-f)*mt}let ut;ut=rt<O?0:rt>Z?1:(O-rt)/(O-Z),tt=k-(k-S)*ut,ct=j-(j-l)*ut,ht=Q-(Q-_)*ut,et=it-(it-f)*ut;const dt=Math.round(Math.min(H,tt)),lt=Math.round(Math.max(H,tt));let _t=U*rt+4*dt;for(let mt=dt;mt<=lt;mt++)ut=(H-mt)/(H-tt),ut<0?ut=0:ut>1&&(ut=1),I[_t++]=W-(W-ct)*ut|0,I[_t++]=G-(G-ht)*ut|0,I[_t++]=$-($-et)*ut|0,I[_t++]=255}}function A(c,P,h){const v=P.coords,u=P.colors;let s,o;switch(P.type){case"lattice":const m=P.verticesPerRow,T=Math.floor(v.length/m)-1,w=m-1;for(s=0;s<T;s++){let I=s*m;for(let U=0;U<w;U++,I++)t(c,h,v[I],v[I+1],v[I+m],u[I],u[I+1],u[I+m]),t(c,h,v[I+m+1],v[I+1],v[I+m],u[I+m+1],u[I+1],u[I+m])}break;case"triangles":for(s=0,o=v.length;s<o;s+=3)t(c,h,v[s],v[s+1],v[s+2],u[s],u[s+1],u[s+2]);break;default:throw new Error("illegal figure")}}class g extends J{constructor(P){super(),this._coords=P[2],this._colors=P[3],this._figures=P[4],this._bounds=P[5],this._bbox=P[7],this._background=P[8],this.matrix=null}_createMeshCanvas(P,h,v){const m=Math.floor(this._bounds[0]),T=Math.floor(this._bounds[1]),w=Math.ceil(this._bounds[2])-m,I=Math.ceil(this._bounds[3])-T,U=Math.min(Math.ceil(Math.abs(w*P[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(I*P[1]*1.1)),3e3),k=w/U,O=I/d,N={coords:this._coords,colors:this._colors,offsetX:-m,offsetY:-T,scaleX:1/k,scaleY:1/O},Z=v.getCanvas("mesh",U+4,d+4,!1),j=Z.context,Q=j.createImageData(U,d);if(h){const M=Q.data;for(let e=0,i=M.length;e<i;e+=4)M[e]=h[0],M[e+1]=h[1],M[e+2]=h[2],M[e+3]=255}for(const M of this._figures)A(Q,M,N);return j.putImageData(Q,2,2),{canvas:Z.canvas,offsetX:m-2*k,offsetY:T-2*O,scaleX:k,scaleY:O}}getPattern(P,h,v,u){let s;if(Y(P,this._bbox),u===q.SHADING)s=r.Util.singularValueDecompose2dScale(P.mozCurrentTransform);else if(s=r.Util.singularValueDecompose2dScale(h.baseTransform),this.matrix){const m=r.Util.singularValueDecompose2dScale(this.matrix);s=[s[0]*m[0],s[1]*m[1]]}const o=this._createMeshCanvas(s,u===q.SHADING?null:this._background,h.cachedCanvases);return u!==q.SHADING&&(P.setTransform.apply(P,h.baseTransform),this.matrix&&P.transform.apply(P,this.matrix)),P.translate(o.offsetX,o.offsetY),P.scale(o.scaleX,o.scaleY),P.createPattern(o.canvas,"no-repeat")}}class b extends J{getPattern(){return"hotpink"}}class p{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(P,h,v,u,s){this.operatorList=P[2],this.matrix=P[3]||[1,0,0,1,0,0],this.bbox=P[4],this.xstep=P[5],this.ystep=P[6],this.paintType=P[7],this.tilingType=P[8],this.color=h,this.ctx=v,this.canvasGraphicsFactory=u,this.baseTransform=s}createPatternCanvas(P){const h=this.operatorList,v=this.bbox,u=this.xstep,s=this.ystep,o=this.paintType,T=this.color,w=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+this.tilingType);const I=v[0],U=v[1],d=v[2],k=v[3],O=r.Util.singularValueDecompose2dScale(this.matrix),N=r.Util.singularValueDecompose2dScale(this.baseTransform),V=[O[0]*N[0],O[1]*N[1]],S=this.getSizeAndScale(u,this.ctx.canvas.width,V[0]),Z=this.getSizeAndScale(s,this.ctx.canvas.height,V[1]),j=P.cachedCanvases.getCanvas("pattern",S.size,Z.size,!0),Q=j.context,it=w.createCanvasGraphics(Q);it.groupLevel=P.groupLevel,this.setFillAndStrokeStyleToContext(it,o,T);let M=I,e=U,i=d,l=k;return I<0&&(M=0,i+=Math.abs(I)),U<0&&(e=0,l+=Math.abs(U)),Q.translate(-S.scale*M,-Z.scale*e),it.transform(S.scale,0,0,Z.scale,0,0),Q.save(),this.clipBbox(it,M,e,i,l),it.baseTransform=it.ctx.mozCurrentTransform.slice(),it.executeOperatorList(h),it.endDrawing(),{canvas:j.canvas,scaleX:S.scale,scaleY:Z.scale,offsetX:M,offsetY:e}}getSizeAndScale(P,h,v){P=Math.abs(P);const u=Math.max(p.MAX_PATTERN_SIZE,h);let s=Math.ceil(P*v);return s>=u?s=u:v=s/P,{scale:v,size:s}}clipBbox(P,h,v,u,s){P.ctx.rect(h,v,u-h,s-v),P.current.updateRectMinMax(P.ctx.mozCurrentTransform,[h,v,u,s]),P.clip(),P.endPath()}setFillAndStrokeStyleToContext(P,h,v){const u=P.ctx,s=P.current;switch(h){case 1:const o=this.ctx;u.fillStyle=o.fillStyle,u.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case 2:const m=r.Util.makeHexColor(v[0],v[1],v[2]);u.fillStyle=m,u.strokeStyle=m,s.fillColor=m,s.strokeColor=m;break;default:throw new r.FormatError(`Unsupported paint type: ${h}`)}}getPattern(P,h,v,u){let s=v;u!==q.SHADING&&(s=r.Util.transform(s,h.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const o=this.createPatternCanvas(h);let m=new DOMMatrix(s);m=m.translate(o.offsetX,o.offsetY),m=m.scale(1/o.scaleX,1/o.scaleY);const T=P.createPattern(o.canvas,"repeat");try{T.setTransform(m)}catch(w){(0,r.warn)(`TilingPattern.getPattern: "${w?.message}".`)}return T}}a.TilingPattern=p},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function z({src:q,srcPos:Y=0,dest:J,destPos:D=0,width:t,height:A,inverseDecode:g=!1}){const b=r.FeatureTest.isLittleEndian?4278190080:255,[x,B]=g?[0,b]:[b,0],p=t>>3,c=7&t,P=q.length;J=new Uint32Array(J.buffer);for(let h=0;h<A;h++){for(const u=Y+p;Y<u;Y++){const s=Y<P?q[Y]:255;J[D++]=128&s?B:x,J[D++]=64&s?B:x,J[D++]=32&s?B:x,J[D++]=16&s?B:x,J[D++]=8&s?B:x,J[D++]=4&s?B:x,J[D++]=2&s?B:x,J[D++]=1&s?B:x}if(0===c)continue;const v=Y<P?q[Y++]:255;for(let u=0;u<c;u++)J[D++]=v&1<<7-u?B:x}return{srcPos:Y,destPos:D}};var r=R(1)},(at,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const R=Object.create(null);a.GlobalWorkerOptions=R,R.workerPort=void 0===R.workerPort?null:R.workerPort,R.workerSrc=void 0===R.workerSrc?"":R.workerSrc},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var r=R(1);function Y(D){switch(D instanceof Error||"object"==typeof D&&null!==D||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new r.AbortException(D.message);case"MissingPDFException":return new r.MissingPDFException(D.message);case"PasswordException":return new r.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new r.UnknownErrorException(D.message,D.details);default:return new r.UnknownErrorException(D.message,D.toString())}}a.MessageHandler=class J{constructor(t,A,g){this.sourceName=t,this.targetName=A,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const x=b.data;if(x.targetName!==this.sourceName)return;if(x.stream)return void this._processStreamMessage(x);if(x.callback){const p=x.callbackId,c=this.callbackCapabilities[p];if(!c)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],1===x.callback)c.resolve(x.data);else{if(2!==x.callback)throw new Error("Unexpected callback case");c.reject(Y(x.reason))}return}const B=this.actionHandler[x.action];if(!B)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const p=this.sourceName,c=x.sourceName;new Promise(function(P){P(B(x.data))}).then(function(P){g.postMessage({sourceName:p,targetName:c,callback:1,callbackId:x.callbackId,data:P})},function(P){g.postMessage({sourceName:p,targetName:c,callback:2,callbackId:x.callbackId,reason:Y(P)})})}else x.streamId?this._createStreamSink(x):B(x.data)},g.addEventListener("message",this._onComObjOnMessage)}on(t,A){const g=this.actionHandler;if(g[t])throw new Error(`There is already an actionName called "${t}"`);g[t]=A}send(t,A,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:A},g)}sendWithPromise(t,A,g){const b=this.callbackId++,x=(0,r.createPromiseCapability)();this.callbackCapabilities[b]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:b,data:A},g)}catch(B){x.reject(B)}return x.promise}sendWithStream(t,A,g,b){const x=this.streamId++,B=this.sourceName,p=this.targetName,c=this.comObj;return new ReadableStream({start:P=>{const h=(0,r.createPromiseCapability)();return this.streamControllers[x]={controller:P,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:B,targetName:p,action:t,streamId:x,data:A,desiredSize:P.desiredSize},b),h.promise},pull:P=>{const h=(0,r.createPromiseCapability)();return this.streamControllers[x].pullCall=h,c.postMessage({sourceName:B,targetName:p,stream:6,streamId:x,desiredSize:P.desiredSize}),h.promise},cancel:P=>{(0,r.assert)(P instanceof Error,"cancel must have a valid reason");const h=(0,r.createPromiseCapability)();return this.streamControllers[x].cancelCall=h,this.streamControllers[x].isClosed=!0,c.postMessage({sourceName:B,targetName:p,stream:1,streamId:x,reason:Y(P)}),h.promise}},g)}_createStreamSink(t){const A=t.streamId,g=this.sourceName,b=t.sourceName,x=this.comObj,B=this,p=this.actionHandler[t.action],c={enqueue(P,h=1,v){if(this.isCancelled)return;const u=this.desiredSize;this.desiredSize-=h,u>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),x.postMessage({sourceName:g,targetName:b,stream:4,streamId:A,chunk:P},v)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:g,targetName:b,stream:3,streamId:A}),delete B.streamSinks[A])},error(P){(0,r.assert)(P instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:g,targetName:b,stream:5,streamId:A,reason:Y(P)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[A]=c,new Promise(function(P){P(p(t.data,c))}).then(function(){x.postMessage({sourceName:g,targetName:b,stream:8,streamId:A,success:!0})},function(P){x.postMessage({sourceName:g,targetName:b,stream:8,streamId:A,reason:Y(P)})})}_processStreamMessage(t){const A=t.streamId,g=this.sourceName,b=t.sourceName,x=this.comObj,B=this.streamControllers[A],p=this.streamSinks[A];switch(t.stream){case 8:t.success?B.startCall.resolve():B.startCall.reject(Y(t.reason));break;case 7:t.success?B.pullCall.resolve():B.pullCall.reject(Y(t.reason));break;case 6:if(!p){x.postMessage({sourceName:g,targetName:b,stream:7,streamId:A,success:!0});break}p.desiredSize<=0&&t.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=t.desiredSize,new Promise(function(c){c(p.onPull&&p.onPull())}).then(function(){x.postMessage({sourceName:g,targetName:b,stream:7,streamId:A,success:!0})},function(c){x.postMessage({sourceName:g,targetName:b,stream:7,streamId:A,reason:Y(c)})});break;case 4:if((0,r.assert)(B,"enqueue should have stream controller"),B.isClosed)break;B.controller.enqueue(t.chunk);break;case 3:if((0,r.assert)(B,"close should have stream controller"),B.isClosed)break;B.isClosed=!0,B.controller.close(),this._deleteStreamController(B,A);break;case 5:(0,r.assert)(B,"error should have stream controller"),B.controller.error(Y(t.reason)),this._deleteStreamController(B,A);break;case 2:t.success?B.cancelCall.resolve():B.cancelCall.reject(Y(t.reason)),this._deleteStreamController(B,A);break;case 1:if(!p)break;new Promise(function(c){c(p.onCancel&&p.onCancel(Y(t.reason)))}).then(function(){x.postMessage({sourceName:g,targetName:b,stream:2,streamId:A,success:!0})},function(c){x.postMessage({sourceName:g,targetName:b,stream:2,streamId:A,reason:Y(c)})}),p.sinkCapability.reject(Y(t.reason)),p.isCancelled=!0,delete this.streamSinks[A];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(t,A){var g=this;return _asyncToGenerator(function*(){yield Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete g.streamControllers[A]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var r=R(1);a.Metadata=class z{#t;#e;constructor({parsedData:Y,rawData:J}){this.#t=Y,this.#e=J}getRaw(){return this.#e}get(Y){return this.#t.get(Y)??null}getAll(){return(0,r.objectFromMap)(this.#t)}has(Y){return this.#t.has(Y)}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var r=R(1);class z{constructor(J,D){this.visible=!0,this.name=J,this.intent=D}}a.OptionalContentConfig=class q{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const D of J.groups)this._groups.set(D.id,new z(D.name,D.intent));if("OFF"===J.baseState)for(const D of this._groups)D.visible=!1;for(const D of J.on)this._groups.get(D).visible=!0;for(const D of J.off)this._groups.get(D).visible=!1}}_evaluateVisibilityExpression(J){const D=J.length;if(D<2)return!0;const t=J[0];for(let A=1;A<D;A++){const g=J[A];let b;if(Array.isArray(g))b=this._evaluateVisibilityExpression(g);else{if(!this._groups.has(g))return(0,r.warn)(`Optional content group not found: ${g}`),!0;b=this._groups.get(g).visible}switch(t){case"And":if(!b)return!1;break;case"Or":if(b)return!0;break;case"Not":return!b;default:return!0}}return"And"===t}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,r.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,r.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!0}return!1}if("AllOn"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,r.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!1}return!0}if("AnyOff"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,r.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!0}return!1}if("AllOff"===J.policy){for(const D of J.ids){if(!this._groups.has(D))return(0,r.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,r.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,D=!0){this._groups.has(J)?this._groups.get(J).visible=!!D:(0,r.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var r=R(1),z=R(5);a.PDFDataTransportStream=class q{constructor(t,A){(0,r.assert)(A,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const g=t.initialData;if(g?.length>0){const b=new Uint8Array(g).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=A,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((b,x)=>{this._onReceiveData({begin:b,chunk:x})}),this._pdfDataRangeTransport.addProgressListener((b,x)=>{this._onProgress({loaded:b,total:x})}),this._pdfDataRangeTransport.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const A=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(A):this._queuedChunks.push(A);else{const g=this._rangeReaders.some(function(b){return b._begin===t.begin&&(b._enqueue(A),!0)});(0,r.assert)(g,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){if(void 0===t.total){const A=this._rangeReaders[0];A?.onProgress&&A.onProgress({loaded:t.loaded})}else{const A=this._fullRequestReader;A?.onProgress&&A.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const A=this._rangeReaders.indexOf(t);A>=0&&this._rangeReaders.splice(A,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Y(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,A){if(A<=this._progressiveDataLength)return null;const g=new J(this,t,A);return this._pdfDataRangeTransport.requestDataRange(t,A),this._rangeReaders.push(g),g}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const A of this._rangeReaders.slice(0))A.cancel(t);this._pdfDataRangeTransport.abort()}};class Y{constructor(t,A,g=!1,b=null){this._stream=t,this._done=g||!1,this._filename=(0,z.isPdfFile)(b)?b:null,this._queuedChunks=A||[],this._loaded=0;for(const x of this._queuedChunks)this._loaded+=x.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var t=this;return _asyncToGenerator(function*(){if(t._queuedChunks.length>0)return{value:t._queuedChunks.shift(),done:!1};if(t._done)return{value:void 0,done:!0};const A=(0,r.createPromiseCapability)();return t._requests.push(A),A.promise})()}cancel(t){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(t,A,g){this._stream=t,this._begin=A,this._end=g,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var t=this;return _asyncToGenerator(function*(){if(t._queuedChunk){const g=t._queuedChunk;return t._queuedChunk=null,{value:g,done:!1}}if(t._done)return{value:void 0,done:!0};const A=(0,r.createPromiseCapability)();return t._requests.push(A),A.promise})()}cancel(t){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(at,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class R{static textContent(z){const q=[],Y={items:q,styles:Object.create(null)};return function J(D){if(!D)return;let t=null;const A=D.name;if("#text"===A)t=D.value;else{if(!R.shouldBuildText(A))return;D?.attributes?.textContent?t=D.attributes.textContent:D.value&&(t=D.value)}if(null!==t&&q.push({str:t}),D.children)for(const g of D.children)J(g)}(z),Y}static shouldBuildText(z){return!("textarea"===z||"input"===z||"option"===z||"select"===z)}}a.XfaText=R},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var r=R(6);const z=function(D){return new Promise((t,A)=>{__webpack_require__(172).readFile(D,(b,x)=>{!b&&x?t(new Uint8Array(x)):A(new Error(b))})})};a.NodeCanvasFactory=class q extends r.BaseCanvasFactory{_createCanvas(t,A){return __webpack_require__(3414).createCanvas(t,A)}},a.NodeCMapReaderFactory=class Y extends r.BaseCMapReaderFactory{_fetchData(t,A){return z(t).then(g=>({cMapData:g,compressionType:A}))}},a.NodeStandardFontDataFactory=class J extends r.BaseStandardFontDataFactory{_fetchData(t){return z(t)}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var r=R(1),z=R(5),q=R(8),Y=R(21),J=R(22);const D=1e3,t=new WeakSet;function A(M){return{width:M[2]-M[0],height:M[3]-M[1]}}class g{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new x(e);case r.AnnotationType.TEXT:return new B(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new c(e);case"Btn":return e.data.radioButton?new h(e):e.data.checkBox?new P(e):new v(e);case"Ch":return new u(e)}return new p(e);case r.AnnotationType.POPUP:return new s(e);case r.AnnotationType.FREETEXT:return new m(e);case r.AnnotationType.LINE:return new T(e);case r.AnnotationType.SQUARE:return new w(e);case r.AnnotationType.CIRCLE:return new I(e);case r.AnnotationType.POLYLINE:return new U(e);case r.AnnotationType.CARET:return new k(e);case r.AnnotationType.INK:return new O(e);case r.AnnotationType.POLYGON:return new d(e);case r.AnnotationType.HIGHLIGHT:return new N(e);case r.AnnotationType.UNDERLINE:return new V(e);case r.AnnotationType.SQUIGGLY:return new S(e);case r.AnnotationType.STRIKEOUT:return new Z(e);case r.AnnotationType.STAMP:return new j(e);case r.AnnotationType.FILEATTACHMENT:return new Q(e);default:return new b(e)}}}class b{constructor(e,{isRenderable:i=!1,ignoreBorder:l=!1,createQuadrilaterals:_=!1}={}){this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,i&&(this.container=this._createContainer(l)),_&&(this.quadrilaterals=this._createQuadrilaterals(l))}_createContainer(e=!1){const i=this.data,l=this.page,_=this.viewport,f=document.createElement("section");let{width:C,height:F}=A(i.rect);f.setAttribute("data-annotation-id",i.id);const H=r.Util.normalizeRect([i.rect[0],l.view[3]-i.rect[1]+l.view[1],i.rect[2],l.view[3]-i.rect[3]+l.view[1]]);if(i.hasOwnCanvas){const W=_.transform.slice(),[G,$]=r.Util.singularValueDecompose2dScale(W);C=Math.ceil(C*G),F=Math.ceil(F*$),H[0]*=G,H[1]*=$;for(let tt=0;tt<4;tt++)W[tt]=Math.sign(W[tt]);f.style.transform=`matrix(${W.join(",")})`}else f.style.transform=`matrix(${_.transform.join(",")})`;if(f.style.transformOrigin=`${-H[0]}px ${-H[1]}px`,!e&&i.borderStyle.width>0){f.style.borderWidth=`${i.borderStyle.width}px`,i.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(C-=2*i.borderStyle.width,F-=2*i.borderStyle.width);const W=i.borderStyle.horizontalCornerRadius,G=i.borderStyle.verticalCornerRadius;switch((W>0||G>0)&&(f.style.borderRadius=`${W}px / ${G}px`),i.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}i.borderColor||i.color?f.style.borderColor=r.Util.makeHexColor(0|i.color[0],0|i.color[1],0|i.color[2]):f.style.borderWidth=0}return f.style.left=`${H[0]}px`,f.style.top=`${H[1]}px`,i.hasOwnCanvas?f.style.width=f.style.height="auto":(f.style.width=`${C}px`,f.style.height=`${F}px`),f}get _commonActions(){const e=(i,l,_)=>{const f=_.detail[i];_.target.style[l]=Y.ColorConverters[`${f[0]}_HTML`](f.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:i=>{const l=i.detail.display%2==1;i.target.style.visibility=l?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l,print:0===i.detail.display||3===i.detail.display})},print:i=>{this.annotationStorage.setValue(this.data.id,{print:i.detail.print})},hidden:i=>{i.target.style.visibility=i.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:i.detail.hidden})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.detail.readonly?i.target.setAttribute("readonly",""):i.target.removeAttribute("readonly")},required:i=>{i.detail.required?i.target.setAttribute("required",""):i.target.removeAttribute("required")},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)}})}_dispatchEventFromSandbox(e,i){const l=this._commonActions;for(const _ of Object.keys(i.detail)){const f=e[_]||l[_];f&&f(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const l=this._commonActions;for(const[_,f]of Object.entries(i)){const C=l[_];C&&(C({detail:f,target:e}),delete i[_])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const i=[],l=this.data.rect;for(const _ of this.data.quadPoints)this.data.rect=[_[2].x,_[2].y,_[1].x,_[1].y],i.push(this._createContainer(e));return this.data.rect=l,i}_createPopup(e,i){let l=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,l=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=l.style.height,e.style.width=l.style.width,l.appendChild(e));const f=new o({container:l,trigger:e,color:i.color,titleObj:i.titleObj,modificationDate:i.modificationDate,contentsObj:i.contentsObj,richText:i.richText,hideWrapper:!0}).render();f.style.left=l.style.width,l.appendChild(f)}_renderQuadrilaterals(e){for(const i of this.quadrilaterals)i.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const l=[];if(this._fieldObjects){const _=this._fieldObjects[e];if(_)for(const{page:f,id:C,exportValues:F}of _){if(-1===f||C===i)continue;const H="string"==typeof F?F:null,W=document.getElementById(C);!W||t.has(W)?l.push({id:C,exportValue:H,domElement:W}):(0,r.warn)(`_getElementsByName - element not allowed: ${C}`)}return l}for(const _ of document.getElementsByName(e)){const{id:f,exportValue:C}=_;f!==i&&t.has(_)&&l.push({id:f,exportValue:C,domElement:_})}return l}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class x extends b{constructor(e,i=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!i?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:i}=this,l=document.createElement("a");if(e.url)i.addLinkAttributes(l,e.url,e.newWindow);else if(e.action)this._bindNamedAction(l,e.action);else if(e.dest)this._bindLink(l,e.dest);else{let _=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(_=!0,this._bindJSAction(l,e)),e.resetForm?this._bindResetFormAction(l,e.resetForm):_||this._bindLink(l,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((_,f)=>{const C=0===f?l:l.cloneNode();return _.appendChild(C),_}):(this.container.className="linkAnnotation",this.container.appendChild(l),this.container)}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||""===i)&&(e.className="internalLink")}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),e.className="internalLink"}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const l=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _ of Object.keys(i.actions)){const f=l.get(_);f&&(e[f]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:_}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,i){const l=e.onclick;if(l||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(l||(e.onclick=()=>!1));e.onclick=()=>{l&&l();const{fields:_,refs:f,include:C}=i,F=[];if(0!==_.length||0!==f.length){const G=new Set(f);for(const $ of _){const tt=this._fieldObjects[$]||[];for(const{id:ct}of tt)G.add(ct)}for(const $ of Object.values(this._fieldObjects))for(const tt of $)G.has(tt.id)===C&&F.push(tt)}else for(const G of Object.values(this._fieldObjects))F.push(...G);const H=this.annotationStorage,W=[];for(const G of F){const{id:$}=G;switch(W.push($),G.type){case"text":case"combobox":case"listbox":H.setValue($,{value:G.defaultValue||""});break;case"checkbox":case"radiobutton":H.setValue($,{value:G.defaultValue===G.exportValues});break;default:continue}const tt=document.getElementById($);!tt||!t.has(tt)||tt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}}),!1}}}class B extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class p extends b{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:i,isMac:l}=b.platform;return i&&e.ctrlKey||l&&e.metaKey}_setEventListener(e,i,l,_){i.includes("mouse")?e.addEventListener(i,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:_(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):e.addEventListener(i,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:_(f)}})})}_setEventListeners(e,i,l){for(const[_,f]of i)("Action"===f||this.data.actions?.[f])&&this._setEventListener(e,_,f,l)}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=null===i?"transparent":r.Util.makeHexColor(i[0],i[1],i[2])}}class c extends p{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,i,l,_){const f=this.annotationStorage;for(const C of this._getElementsByName(e.name,e.id))C.domElement&&(C.domElement[i]=l),f.setValue(C.id,{[_]:l})}render(){const e=this.annotationStorage,i=this.data.id;this.container.className="textWidgetAnnotation";let l=null;if(this.renderForms){const _=e.getValue(i,{value:this.data.fieldValue}),f=_.formattedValue||_.value||"",C={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(l=document.createElement("textarea"),l.textContent=f):(l=document.createElement("input"),l.type="text",l.setAttribute("value",f)),t.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.tabIndex=D,C.userValue=f,l.setAttribute("id",i),l.addEventListener("input",H=>{e.setValue(i,{value:H.target.value}),this.setPropertyOnSiblings(l,"value",H.target.value,"value")}),l.addEventListener("resetform",H=>{l.value=C.userValue=this.data.defaultFieldValue??"",C.formattedValue=null});let F=H=>{const{formattedValue:W}=C;null!=W&&(H.target.value=W),H.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){l.addEventListener("focus",W=>{C.userValue&&(W.target.value=C.userValue),C.valueOnFocus=W.target.value}),l.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value($){C.userValue=$.detail.value??"",e.setValue(i,{value:C.userValue.toString()}),$.target.value=C.userValue},formattedValue($){const{formattedValue:tt}=$.detail;C.formattedValue=tt,null!=tt&&$.target!==document.activeElement&&($.target.value=tt),e.setValue(i,{formattedValue:tt})},selRange($){$.target.setSelectionRange(...$.detail.selRange)}},W)}),l.addEventListener("keydown",W=>{let G=-1;if("Escape"===W.key?G=0:"Enter"===W.key?G=2:"Tab"===W.key&&(G=3),-1===G)return;const{value:$}=W.target;C.valueOnFocus!==$&&(C.userValue=$,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:$,willCommit:!0,commitKey:G,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const H=F;F=null,l.addEventListener("blur",W=>{const{value:G}=W.target;C.userValue=G,this._mouseState.isDown&&C.valueOnFocus!==G&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:G,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}),H(W)}),this.data.actions?.Keystroke&&l.addEventListener("beforeinput",W=>{const{data:G,target:$}=W,{value:tt,selectionStart:ct,selectionEnd:ht}=$;let et=ct,rt=ht;switch(W.inputType){case"deleteWordBackward":{const ut=tt.substring(0,ct).match(/\w*[^\w]*$/);ut&&(et-=ut[0].length);break}case"deleteWordForward":{const ut=tt.substring(ct).match(/^[^\w]*\w*/);ut&&(rt+=ut[0].length);break}case"deleteContentBackward":ct===ht&&(et-=1);break;case"deleteContentForward":ct===ht&&(rt+=1)}W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:tt,change:G||"",willCommit:!1,selStart:et,selEnd:rt}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(F&&l.addEventListener("blur",F),null!==this.data.maxLen&&(l.maxLength=this.data.maxLen),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;l.classList.add("comb"),l.style.letterSpacing=`calc(${W}px - 1ch)`}}else l=document.createElement("div"),l.textContent=this.data.fieldValue,l.style.verticalAlign="middle",l.style.display="table-cell";return this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}_setTextStyle(e){const{fontSize:l,fontColor:_}=this.data.defaultAppearanceData,f=e.style;l&&(f.fontSize=`${l}px`),f.color=r.Util.makeHexColor(_[0],_[1],_[2]),null!==this.data.textAlignment&&(f.textAlign=["left","center","right"][this.data.textAlignment])}}class P extends p{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,l=i.id;let _=e.getValue(l,{value:i.exportValue===i.fieldValue}).value;"string"==typeof _&&(_="Off"!==_,e.setValue(l,{value:_})),this.container.className="buttonWidgetAnnotation checkBox";const f=document.createElement("input");return t.add(f),f.disabled=i.readOnly,f.type="checkbox",f.name=i.fieldName,_&&f.setAttribute("checked",!0),f.setAttribute("id",l),f.setAttribute("exportValue",i.exportValue),f.tabIndex=D,f.addEventListener("change",C=>{const{name:F,checked:H}=C.target;for(const W of this._getElementsByName(F,l)){const G=H&&W.exportValue===i.exportValue;W.domElement&&(W.domElement.checked=G),e.setValue(W.id,{value:G})}e.setValue(l,{value:H})}),f.addEventListener("resetform",C=>{C.target.checked=(i.defaultFieldValue||"Off")===i.exportValue}),this.enableScripting&&this.hasJSActions&&(f.addEventListener("updatefromsandbox",C=>{this._dispatchEventFromSandbox({value(H){H.target.checked="Off"!==H.detail.value,e.setValue(l,{value:H.target.checked})}},C)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],C=>C.target.checked)),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class h extends p{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,i=this.data,l=i.id;let _=e.getValue(l,{value:i.fieldValue===i.buttonValue}).value;"string"==typeof _&&(_=_!==i.buttonValue,e.setValue(l,{value:_}));const f=document.createElement("input");if(t.add(f),f.disabled=i.readOnly,f.type="radio",f.name=i.fieldName,_&&f.setAttribute("checked",!0),f.setAttribute("id",l),f.tabIndex=D,f.addEventListener("change",C=>{const{name:F,checked:H}=C.target;for(const W of this._getElementsByName(F,l))e.setValue(W.id,{value:!1});e.setValue(l,{value:H})}),f.addEventListener("resetform",C=>{const F=i.defaultFieldValue;C.target.checked=null!=F&&F===i.buttonValue}),this.enableScripting&&this.hasJSActions){const C=i.buttonValue;f.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({value:W=>{const G=C===W.detail.value;for(const $ of this._getElementsByName(W.target.name)){const tt=G&&$.id===l;$.domElement&&($.domElement.checked=tt),e.setValue($.id,{value:tt})}}},F)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],F=>F.target.checked)}return this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class v extends x{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class u extends p{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,i=this.data.id,l=e.getValue(i,{value:this.data.fieldValue});let{fontSize:_}=this.data.defaultAppearanceData;_||(_=9);const f=`calc(${_}px * var(--zoom-factor))`,C=document.createElement("select");t.add(C),C.disabled=this.data.readOnly,C.name=this.data.fieldName,C.setAttribute("id",i),C.tabIndex=D,C.style.fontSize=`${_}px`,this.data.combo||(C.size=this.data.options.length,this.data.multiSelect&&(C.multiple=!0)),C.addEventListener("resetform",W=>{const G=this.data.defaultFieldValue;for(const $ of C.options)$.selected=$.value===G});for(const W of this.data.options){const G=document.createElement("option");G.textContent=W.displayValue,G.value=W.exportValue,this.data.combo&&(G.style.fontSize=f),l.value.includes(W.exportValue)&&G.setAttribute("selected",!0),C.appendChild(G)}const F=(W,G)=>{const $=G?"value":"textContent",tt=W.target.options;return W.target.multiple?Array.prototype.filter.call(tt,ct=>ct.selected).map(ct=>ct[$]):-1===tt.selectedIndex?null:tt[tt.selectedIndex][$]},H=W=>Array.prototype.map.call(W.target.options,$=>({displayValue:$.textContent,exportValue:$.value}));return this.enableScripting&&this.hasJSActions?(C.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value($){const tt=$.detail.value,ct=new Set(Array.isArray(tt)?tt:[tt]);for(const ht of C.options)ht.selected=ct.has(ht.value);e.setValue(i,{value:F($,!0)})},multipleSelection($){C.multiple=!0},remove($){const tt=C.options,ct=$.detail.remove;tt[ct].selected=!1,C.remove(ct),tt.length>0&&-1===Array.prototype.findIndex.call(tt,et=>et.selected)&&(tt[0].selected=!0),e.setValue(i,{value:F($,!0),items:H($)})},clear($){for(;0!==C.length;)C.remove(0);e.setValue(i,{value:null,items:[]})},insert($){const{index:tt,displayValue:ct,exportValue:ht}=$.detail.insert,et=document.createElement("option");et.textContent=ct,et.value=ht,C.insertBefore(et,C.children[tt]),e.setValue(i,{value:F($,!0),items:H($)})},items($){const{items:tt}=$.detail;for(;0!==C.length;)C.remove(0);for(const ct of tt){const{displayValue:ht,exportValue:et}=ct,rt=document.createElement("option");rt.textContent=ht,rt.value=et,C.appendChild(rt)}C.options.length>0&&(C.options[0].selected=!0),e.setValue(i,{value:F($,!0),items:H($)})},indices($){const tt=new Set($.detail.indices);for(const ct of $.target.options)ct.selected=tt.has(ct.index);e.setValue(i,{value:F($,!0)})},editable($){$.target.disabled=!$.detail.editable}},W)}),C.addEventListener("input",W=>{const G=F(W,!0),$=F(W,!1);e.setValue(i,{value:G}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:$,changeEx:G,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(C,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):C.addEventListener("input",function(W){e.setValue(i,{value:F(W,!0)})}),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class s extends b{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const l=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===l.length)return this.container;const _=new o({container:this.container,trigger:Array.from(l),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,C=r.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),F=C[0]+this.data.parentRect[2]-this.data.parentRect[0],H=C[1];return this.container.style.transformOrigin=`${-F}px ${-H}px`,this.container.style.left=`${F}px`,this.container.style.top=`${H}px`,this.container.appendChild(_.render()),this.container}}class o{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const i=document.createElement("div");i.className="popupWrapper",this.hideElement=this.hideWrapper?i:this.container,this.hideElement.hidden=!0;const l=document.createElement("div");l.className="popup";const _=this.color;_&&(l.style.backgroundColor=r.Util.makeHexColor(0|.7*(255-_[0])+_[0],0|.7*(255-_[1])+_[1],0|.7*(255-_[2])+_[2]));const f=document.createElement("h1");f.dir=this.titleObj.dir,f.textContent=this.titleObj.str,l.appendChild(f);const C=z.PDFDateString.toDateObject(this.modificationDate);if(C){const F=document.createElement("span");F.className="popupDate",F.textContent="{{date}}, {{time}}",F.dataset.l10nId="annotation_date_string",F.dataset.l10nArgs=JSON.stringify({date:C.toLocaleDateString(),time:C.toLocaleTimeString()}),l.appendChild(F)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const F=this._formatContents(this.contentsObj);l.appendChild(F)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:l}),l.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const F of this.trigger)F.addEventListener("click",this._toggle.bind(this)),F.addEventListener("mouseover",this._show.bind(this,!1)),F.addEventListener("mouseout",this._hide.bind(this,!1));return l.addEventListener("click",this._hide.bind(this,!0)),i.appendChild(l),i}_formatContents({str:e,dir:i}){const l=document.createElement("p");l.className="popupContent",l.dir=i;const _=e.split(/(?:\r\n?|\n)/);for(let f=0,C=_.length;f<C;++f)l.appendChild(document.createTextNode(_[f])),f<C-1&&l.appendChild(document.createElement("br"));return l}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class m extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:i,height:l}=A(e.rect),_=this.svgFactory.create(i,l),f=this.svgFactory.createElement("svg:line");return f.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),f.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),f.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),f.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),_.appendChild(f),this.container.append(_),this._createPopup(f,e),this.container}}class w extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:i,height:l}=A(e.rect),_=this.svgFactory.create(i,l),f=e.borderStyle.width,C=this.svgFactory.createElement("svg:rect");return C.setAttribute("x",f/2),C.setAttribute("y",f/2),C.setAttribute("width",i-f),C.setAttribute("height",l-f),C.setAttribute("stroke-width",f||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),_.appendChild(C),this.container.append(_),this._createPopup(C,e),this.container}}class I extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:i,height:l}=A(e.rect),_=this.svgFactory.create(i,l),f=e.borderStyle.width,C=this.svgFactory.createElement("svg:ellipse");return C.setAttribute("cx",i/2),C.setAttribute("cy",l/2),C.setAttribute("rx",i/2-f/2),C.setAttribute("ry",l/2-f/2),C.setAttribute("stroke-width",f||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),_.appendChild(C),this.container.append(_),this._createPopup(C,e),this.container}}class U extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:i,height:l}=A(e.rect),_=this.svgFactory.create(i,l);let f=[];for(const F of e.vertices)f.push(F.x-e.rect[0]+","+(e.rect[3]-F.y));f=f.join(" ");const C=this.svgFactory.createElement(this.svgElementName);return C.setAttribute("points",f),C.setAttribute("stroke-width",e.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),_.appendChild(C),this.container.append(_),this._createPopup(C,e),this.container}}class d extends U{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class k extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:i,height:l}=A(e.rect),_=this.svgFactory.create(i,l);for(const f of e.inkLists){let C=[];for(const H of f)C.push(`${H.x-e.rect[0]},${e.rect[3]-H.y}`);C=C.join(" ");const F=this.svgFactory.createElement(this.svgElementName);F.setAttribute("points",C),F.setAttribute("stroke-width",e.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),this._createPopup(F,e),_.appendChild(F)}return this.container.append(_),this.container}}class N extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class V extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class S extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Z extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class j extends b{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Q extends b{constructor(e){super(e,{isRenderable:!0});const{filename:i,content:l}=this.data.file;this.filename=(0,z.getFilenameFromUrl)(i),this.content=l,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:i,content:l})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}a.AnnotationLayer=class it{static render(e){const i=[],l=[];for(const f of e.annotations){if(!f)continue;const{width:C,height:F}=A(f.rect);if(!(C<=0||F<=0)){if(f.annotationType===r.AnnotationType.POPUP){l.push(f);continue}i.push(f)}}l.length&&i.push(...l);const _=e.div;for(const f of i){const C=g.create({data:f,layer:_,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new z.DOMSVGFactory,annotationStorage:e.annotationStorage||new q.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(C.isRenderable){const F=C.render();if(f.hidden&&(F.style.visibility="hidden"),Array.isArray(F))for(const H of F)_.appendChild(H);else C instanceof s?_.prepend(F):_.appendChild(F)}}this.#t(_,e.annotationCanvasMap)}static update(e){const{page:i,viewport:l,annotations:_,annotationCanvasMap:f,div:C}=e,F=l.transform,H=`matrix(${F.join(",")})`;let W,G;for(const $ of _){const tt=C.querySelectorAll(`[data-annotation-id="${$.id}"]`);if(tt)for(const ct of tt)if($.hasOwnCanvas){const ht=r.Util.normalizeRect([$.rect[0],i.view[3]-$.rect[1]+i.view[1],$.rect[2],i.view[3]-$.rect[3]+i.view[1]]);if(!G){W=Math.abs(F[0]||F[1]);const ut=F.slice();for(let dt=0;dt<4;dt++)ut[dt]=Math.sign(ut[dt]);G=`matrix(${ut.join(",")})`}const et=ht[0]*W,rt=ht[1]*W;ct.style.left=`${et}px`,ct.style.top=`${rt}px`,ct.style.transformOrigin=`${-et}px ${-rt}px`,ct.style.transform=G}else ct.style.transform=H}this.#t(C,f),C.hidden=!1}static#t(e,i){if(i){for(const[l,_]of i){const f=e.querySelector(`[data-annotation-id="${l}"]`);if(!f)continue;const{firstChild:C}=f;"CANVAS"===C.nodeName?f.replaceChild(_,C):f.insertBefore(_,C)}i.clear()}}}},(at,a)=>{function R(z){return Math.floor(255*Math.max(0,Math.min(1,z))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class r{static CMYK_G([q,Y,J,D]){return["G",1-Math.min(1,.3*q+.59*J+.11*Y+D)]}static G_CMYK([q]){return["CMYK",0,0,0,1-q]}static G_RGB([q]){return["RGB",q,q,q]}static G_HTML([q]){const Y=R(q);return`#${Y}${Y}${Y}`}static RGB_G([q,Y,J]){return["G",.3*q+.59*Y+.11*J]}static RGB_HTML([q,Y,J]){return`#${R(q)}${R(Y)}${R(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([q,Y,J,D]){return["RGB",1-Math.min(1,q+D),1-Math.min(1,J+D),1-Math.min(1,Y+D)]}static CMYK_HTML(q){return this.RGB_HTML(this.CMYK_RGB(q))}static RGB_CMYK([q,Y,J]){const D=1-q,t=1-Y,A=1-J;return["CMYK",D,t,A,Math.min(D,t,A)]}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var r=R(18);a.XfaLayer=class z{static setupStorage(Y,J,D,t,A){const g=t.getValue(J,{value:null});switch(D.name){case"textarea":if(null!==g.value&&(Y.textContent=g.value),"print"===A)break;Y.addEventListener("input",b=>{t.setValue(J,{value:b.target.value})});break;case"input":if("radio"===D.attributes.type||"checkbox"===D.attributes.type){if(g.value===D.attributes.xfaOn?Y.setAttribute("checked",!0):g.value===D.attributes.xfaOff&&Y.removeAttribute("checked"),"print"===A)break;Y.addEventListener("change",b=>{t.setValue(J,{value:b.target.getAttribute(b.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==g.value&&Y.setAttribute("value",g.value),"print"===A)break;Y.addEventListener("input",b=>{t.setValue(J,{value:b.target.value})})}break;case"select":if(null!==g.value)for(const b of D.children)b.attributes.value===g.value&&(b.attributes.selected=!0);Y.addEventListener("input",b=>{const x=b.target.options;t.setValue(J,{value:-1===x.selectedIndex?"":x[x.selectedIndex].value})})}}static setAttributes({html:Y,element:J,storage:D=null,intent:t,linkService:A}){const{attributes:g}=J,b=Y instanceof HTMLAnchorElement;"radio"===g.type&&(g.name=`${g.name}-${t}`);for(const[x,B]of Object.entries(g))if(null!=B&&"dataId"!==x)if("style"!==x)if("textContent"===x)Y.textContent=B;else if("class"===x)B.length&&Y.setAttribute(x,B.join(" "));else{if(b&&("href"===x||"newWindow"===x))continue;Y.setAttribute(x,B)}else Object.assign(Y.style,B);b&&A.addLinkAttributes(Y,g.href,g.newWindow),D&&g.dataId&&this.setupStorage(Y,g.dataId,J,D)}static render(Y){const J=Y.annotationStorage,D=Y.linkService,t=Y.xfaHtml,A=Y.intent||"display",g=document.createElement(t.name);t.attributes&&this.setAttributes({html:g,element:t,intent:A,linkService:D});const b=[[t,-1,g]],x=Y.div;if(x.appendChild(g),Y.viewport){const p=`matrix(${Y.viewport.transform.join(",")})`;x.style.transform=p}"richText"!==A&&x.setAttribute("class","xfaLayer xfaFont");const B=[];for(;b.length>0;){const[p,c,P]=b[b.length-1];if(c+1===p.children.length){b.pop();continue}const h=p.children[++b[b.length-1][1]];if(null===h)continue;const{name:v}=h;if("#text"===v){const s=document.createTextNode(h.value);B.push(s),P.appendChild(s);continue}let u;if(u=h?.attributes?.xmlns?document.createElementNS(h.attributes.xmlns,v):document.createElement(v),P.appendChild(u),h.attributes&&this.setAttributes({html:u,element:h,storage:J,intent:A,linkService:D}),h.children&&h.children.length>0)b.push([h,-1,u]);else if(h.value){const s=document.createTextNode(h.value);r.XfaText.shouldBuildText(v)&&B.push(s),u.appendChild(s)}}for(const p of x.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:B}}static update(Y){const J=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=J,Y.div.hidden=!1}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function P(h){const v=new c({textContent:h.textContent,textContentStream:h.textContentStream,container:h.container,viewport:h.viewport,textDivs:h.textDivs,textContentItemsStr:h.textContentItemsStr,enhanceTextSelection:h.enhanceTextSelection});return v._render(h.timeout),v};var r=R(1);const z=1e5,q=30,Y=.8,J=new Map,D=/^\s+$/g;function A(h,v,u,s){const o=document.createElement("span"),m=h._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==v.str,hasEOL:v.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==v.str,hasEOL:v.hasEOL};h._textDivs.push(o);const T=r.Util.transform(h._viewport.transform,v.transform);let w=Math.atan2(T[1],T[0]);const I=u[v.fontName];I.vertical&&(w+=Math.PI/2);const U=Math.hypot(T[2],T[3]),d=U*function t(h,v){const u=J.get(h);if(u)return u;v.save(),v.font=`${q}px ${h}`;const s=v.measureText("");let o=s.fontBoundingBoxAscent,m=Math.abs(s.fontBoundingBoxDescent);if(o){v.restore();const w=o/(o+m);return J.set(h,w),w}v.strokeStyle="red",v.clearRect(0,0,q,q),v.strokeText("g",0,0);let T=v.getImageData(0,0,q,q).data;m=0;for(let w=T.length-1-3;w>=0;w-=4)if(T[w]>0){m=Math.ceil(w/4/q);break}v.clearRect(0,0,q,q),v.strokeText("A",0,q),T=v.getImageData(0,0,q,q).data,o=0;for(let w=0,I=T.length;w<I;w+=4)if(T[w]>0){o=q-Math.floor(w/4/q);break}if(v.restore(),o){const w=o/(o+m);return J.set(h,w),w}return J.set(h,Y),Y}(I.fontFamily,s);let k,O;0===w?(k=T[4],O=T[5]-d):(k=T[4]+d*Math.sin(w),O=T[5]-d*Math.cos(w)),o.style.left=`${k}px`,o.style.top=`${O}px`,o.style.fontSize=`${U}px`,o.style.fontFamily=I.fontFamily,o.setAttribute("role","presentation"),o.textContent=v.str,o.dir=v.dir,h._fontInspectorEnabled&&(o.dataset.fontName=v.fontName),0!==w&&(m.angle=w*(180/Math.PI));let N=!1;if(v.str.length>1||h._enhanceTextSelection&&D.test(v.str))N=!0;else if(" "!==v.str&&v.transform[0]!==v.transform[3]){const V=Math.abs(v.transform[0]),S=Math.abs(v.transform[3]);V!==S&&Math.max(V,S)/Math.min(V,S)>1.5&&(N=!0)}if(N&&(m.canvasWidth=I.vertical?v.height*h._viewport.scale:v.width*h._viewport.scale),h._textDivProperties.set(o,m),h._textContentStream&&h._layoutText(o),h._enhanceTextSelection&&m.hasText){let V=1,S=0;0!==w&&(V=Math.cos(w),S=Math.sin(w));const Z=(I.vertical?v.height:v.width)*h._viewport.scale,j=U;let Q,it;0!==w?(Q=[V,S,-S,V,k,O],it=r.Util.getAxialAlignedBoundingBox([0,0,Z,j],Q)):it=[k,O,k+Z,O+j],h._bounds.push({left:it[0],top:it[1],right:it[2],bottom:it[3],div:o,size:[Z,j],m:Q})}}function g(h){if(h._canceled)return;const v=h._textDivs,u=h._capability,s=v.length;if(s>z)return h._renderingDone=!0,void u.resolve();if(!h._textContentStream)for(let o=0;o<s;o++)h._layoutText(v[o]);h._renderingDone=!0,u.resolve()}function b(h,v,u){let s=0;for(let o=0;o<u;o++){const m=h[v++];m>0&&(s=s?Math.min(m,s):m)}return s}function p(h,v){v.sort(function(o,m){return o.x1-m.x1||o.index-m.index});const s=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const o of v){let m=0;for(;m<s.length&&s[m].end<=o.y1;)m++;let T=s.length-1;for(;T>=0&&s[T].start>=o.y2;)T--;let w,I,U,d,k=-1/0;for(U=m;U<=T;U++){let V;w=s[U],I=w.boundary,V=I.x2>o.x1?I.index>o.index?I.x1New:o.x1:void 0===I.x2New?(I.x2+o.x1)/2:I.x2New,V>k&&(k=V)}for(o.x1New=k,U=m;U<=T;U++)w=s[U],I=w.boundary,void 0===I.x2New?I.x2>o.x1?I.index>o.index&&(I.x2New=I.x2):I.x2New=k:I.x2New>k&&(I.x2New=Math.max(k,I.x2));const O=[];let N=null;for(U=m;U<=T;U++){w=s[U],I=w.boundary;const V=I.x2>o.x2?I:o;N===V?O[O.length-1].end=w.end:(O.push({start:w.start,end:w.end,boundary:V}),N=V)}for(s[m].start<o.y1&&(O[0].start=o.y1,O.unshift({start:s[m].start,end:o.y1,boundary:s[m].boundary})),o.y2<s[T].end&&(O[O.length-1].end=o.y2,O.push({start:o.y2,end:s[T].end,boundary:s[T].boundary})),U=m;U<=T;U++){if(w=s[U],I=w.boundary,void 0!==I.x2New)continue;let V=!1;for(d=m-1;!V&&d>=0&&s[d].start>=I.y1;d--)V=s[d].boundary===I;for(d=T+1;!V&&d<s.length&&s[d].end<=I.y2;d++)V=s[d].boundary===I;for(d=0;!V&&d<O.length;d++)V=O[d].boundary===I;V||(I.x2New=k)}Array.prototype.splice.apply(s,[m,T-m+1].concat(O))}for(const o of s){const m=o.boundary;void 0===m.x2New&&(m.x2New=Math.max(h,m.x2))}}class c{constructor({textContent:v,textContentStream:u,container:s,viewport:o,textDivs:m,textContentItemsStr:T,enhanceTextSelection:w}){this._textContent=v,this._textContentStream=u,this._container=s,this._document=s.ownerDocument,this._viewport=o,this._textDivs=m||[],this._textContentItemsStr=T||[],this._enhanceTextSelection=!!w,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(v,u){for(let s=0,o=v.length;s<o;s++)if(void 0!==v[s].str)this._textContentItemsStr.push(v[s].str),A(this,v[s],u,this._layoutTextCtx);else if("beginMarkedContentProps"===v[s].type||"beginMarkedContent"===v[s].type){const m=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==v[s].id&&this._container.setAttribute("id",`${v[s].id}`),m.appendChild(this._container)}else"endMarkedContent"===v[s].type&&(this._container=this._container.parentNode)}_layoutText(v){const u=this._textDivProperties.get(v);let s="";if(0!==u.canvasWidth&&u.hasText){const{fontSize:o,fontFamily:m}=v.style;(o!==this._layoutTextLastFontSize||m!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${o} ${m}`,this._layoutTextLastFontSize=o,this._layoutTextLastFontFamily=m);const{width:T}=this._layoutTextCtx.measureText(v.textContent);if(T>0){const w=u.canvasWidth/T;this._enhanceTextSelection&&(u.scale=w),s=`scaleX(${w})`}}if(0!==u.angle&&(s=`rotate(${u.angle}deg) ${s}`),s.length>0&&(this._enhanceTextSelection&&(u.originalTransform=s),v.style.transform=s),u.hasText&&this._container.appendChild(v),u.hasEOL){const o=document.createElement("br");o.setAttribute("role","presentation"),this._container.appendChild(o)}}_render(v=0){const u=(0,r.createPromiseCapability)();let s=Object.create(null);const o=this._document.createElement("canvas");if(o.height=o.width=q,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),u.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const m=()=>{this._reader.read().then(({value:T,done:w})=>{w?u.resolve():(Object.assign(s,T.styles),this._processItems(T.items,s),m())},u.reject)};this._reader=this._textContentStream.getReader(),m()}}u.promise.then(()=>{s=null,v?this._renderTimer=setTimeout(()=>{g(this),this._renderTimer=null},v):g(this)},this._capability.reject)}expandTextDivs(v=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function x(h){const v=h._bounds,u=h._viewport,s=function B(h,v,u){const s=u.map(function(m,T){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:T,x1New:void 0,x2New:void 0}});p(h,s);const o=new Array(u.length);for(const m of s)o[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};u.map(function(m,T){const w=o[T],I=s[T];I.x1=m.top,I.y1=h-w.right,I.x2=m.bottom,I.y2=h-w.left,I.index=T,I.x1New=void 0,I.x2New=void 0}),p(v,s);for(const m of s){const T=m.index;o[T].top=m.x1New,o[T].bottom=m.x2New}return o}(u.width,u.height,v);for(let o=0;o<s.length;o++){const m=v[o].div,T=h._textDivProperties.get(m);if(0===T.angle){T.paddingLeft=v[o].left-s[o].left,T.paddingTop=v[o].top-s[o].top,T.paddingRight=s[o].right-v[o].right,T.paddingBottom=s[o].bottom-v[o].bottom,h._textDivProperties.set(m,T);continue}const w=s[o],I=v[o],U=I.m,d=U[0],k=U[1],O=[[0,0],[0,I.size[1]],[I.size[0],0],I.size],N=new Float64Array(64);for(let S=0,Z=O.length;S<Z;S++){const j=r.Util.applyTransform(O[S],U);N[S+0]=d&&(w.left-j[0])/d,N[S+4]=k&&(w.top-j[1])/k,N[S+8]=d&&(w.right-j[0])/d,N[S+12]=k&&(w.bottom-j[1])/k,N[S+16]=k&&(w.left-j[0])/-k,N[S+20]=d&&(w.top-j[1])/d,N[S+24]=k&&(w.right-j[0])/-k,N[S+28]=d&&(w.bottom-j[1])/d,N[S+32]=d&&(w.left-j[0])/-d,N[S+36]=k&&(w.top-j[1])/-k,N[S+40]=d&&(w.right-j[0])/-d,N[S+44]=k&&(w.bottom-j[1])/-k,N[S+48]=k&&(w.left-j[0])/k,N[S+52]=d&&(w.top-j[1])/-d,N[S+56]=k&&(w.right-j[0])/k,N[S+60]=d&&(w.bottom-j[1])/-d}const V=1+Math.min(Math.abs(d),Math.abs(k));T.paddingLeft=b(N,32,16)/V,T.paddingTop=b(N,48,16)/V,T.paddingRight=b(N,0,16)/V,T.paddingBottom=b(N,16,16)/V,h._textDivProperties.set(m,T)}}(this),this._bounds=null);const u=[],s=[];for(let o=0,m=this._textDivs.length;o<m;o++){const T=this._textDivs[o],w=this._textDivProperties.get(T);w.hasText&&(v?(u.length=0,s.length=0,w.originalTransform&&u.push(w.originalTransform),w.paddingTop>0?(s.push(`${w.paddingTop}px`),u.push(`translateY(${-w.paddingTop}px)`)):s.push(0),s.push(w.paddingRight>0?w.paddingRight/w.scale+"px":0),s.push(w.paddingBottom>0?`${w.paddingBottom}px`:0),w.paddingLeft>0?(s.push(w.paddingLeft/w.scale+"px"),u.push(`translateX(${-w.paddingLeft/w.scale}px)`)):s.push(0),T.style.padding=s.join(" "),u.length&&(T.style.transform=u.join(" "))):(T.style.padding=null,T.style.transform=w.originalTransform))}}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var r=R(1),z=R(5),q=R(3);let Y=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=Y;{let p=function(s){let o=[];const m=[];for(const T of s)"save"!==T.fn?"restore"===T.fn?o=m.pop():o.push(T):(o.push({fnId:92,fn:"group",items:[]}),m.push(o),o=o[o.length-1].items);return o},c=function(s){if(Number.isInteger(s))return s.toString();const o=s.toFixed(10);let m=o.length-1;if("0"!==o[m])return o;do{m--}while("0"===o[m]);return o.substring(0,"."===o[m]?m:m+1)},P=function(s){if(0===s[4]&&0===s[5]){if(0===s[1]&&0===s[2])return 1===s[0]&&1===s[3]?"":`scale(${c(s[0])} ${c(s[3])})`;if(s[0]===s[3]&&s[1]===-s[2]){const o=180*Math.acos(s[0])/Math.PI;return`rotate(${c(o)})`}}else if(1===s[0]&&0===s[1]&&0===s[2]&&1===s[3])return`translate(${c(s[4])} ${c(s[5])})`;return`matrix(${c(s[0])} ${c(s[1])} ${c(s[2])} ${c(s[3])} ${c(s[4])} ${c(s[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/1999/xlink",A=["butt","round","square"],g=["miter","round","bevel"],b=function(s,o="",m=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!m)return URL.createObjectURL(new Blob([s],{type:o}));const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let w=`data:${o};base64,`;for(let I=0,U=s.length;I<U;I+=3){const d=255&s[I],k=255&s[I+1],O=255&s[I+2];w+=T[d>>2]+T[(3&d)<<4|k>>4]+T[I+1<U?(15&k)<<2|O>>6:64]+T[I+2<U?63&O:64]}return w},x=function(){const s=new Uint8Array([137,80,78,71,13,10,26,10]),o=12,m=new Int32Array(256);for(let O=0;O<256;O++){let N=O;for(let V=0;V<8;V++)N=1&N?3988292384^N>>1&2147483647:N>>1&2147483647;m[O]=N}function w(O,N,V,S){let Z=S;const j=N.length;V[Z]=j>>24&255,V[Z+1]=j>>16&255,V[Z+2]=j>>8&255,V[Z+3]=255&j,Z+=4,V[Z]=255&O.charCodeAt(0),V[Z+1]=255&O.charCodeAt(1),V[Z+2]=255&O.charCodeAt(2),V[Z+3]=255&O.charCodeAt(3),Z+=4,V.set(N,Z),Z+=N.length;const Q=function T(O,N,V){let S=-1;for(let Z=N;Z<V;Z++)S=S>>>8^m[255&(S^O[Z])];return-1^S}(V,S+4,Z);V[Z]=Q>>24&255,V[Z+1]=Q>>16&255,V[Z+2]=Q>>8&255,V[Z+3]=255&Q}function d(O){let N=O.length;const V=65535,S=Math.ceil(N/V),Z=new Uint8Array(2+N+5*S+4);let j=0;Z[j++]=120,Z[j++]=156;let Q=0;for(;N>V;)Z[j++]=0,Z[j++]=255,Z[j++]=255,Z[j++]=0,Z[j++]=0,Z.set(O.subarray(Q,Q+V),j),j+=V,Q+=V,N-=V;Z[j++]=1,Z[j++]=255&N,Z[j++]=N>>8&255,Z[j++]=255&~N,Z[j++]=(65535&~N)>>8&255,Z.set(O.subarray(Q),j),j+=O.length-Q;const it=function I(O,N,V){let S=1,Z=0;for(let j=N;j<V;++j)S=(S+(255&O[j]))%65521,Z=(Z+S)%65521;return Z<<16|S}(O,0,O.length);return Z[j++]=it>>24&255,Z[j++]=it>>16&255,Z[j++]=it>>8&255,Z[j++]=255&it,Z}return function(N,V,S){return function k(O,N,V,S){const Z=O.width,j=O.height;let Q,it,M;const e=O.data;switch(N){case r.ImageKind.GRAYSCALE_1BPP:it=0,Q=1,M=Z+7>>3;break;case r.ImageKind.RGB_24BPP:it=2,Q=8,M=3*Z;break;case r.ImageKind.RGBA_32BPP:it=6,Q=8,M=4*Z;break;default:throw new Error("invalid format")}const i=new Uint8Array((1+M)*j);let l=0,_=0;for(let G=0;G<j;++G)i[l++]=0,i.set(e.subarray(_,_+M),l),_+=M,l+=M;if(N===r.ImageKind.GRAYSCALE_1BPP&&S){l=0;for(let G=0;G<j;G++){l++;for(let $=0;$<M;$++)i[l++]^=255}}const f=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,255&Z,j>>24&255,j>>16&255,j>>8&255,255&j,Q,it,0,0,0]),C=function U(O){if(!q.isNodeJS)return d(O);try{let N;N=parseInt(process.versions.node)>=8?O:Buffer.from(O);const V=__webpack_require__(2258).deflateSync(N,{level:9});return V instanceof Uint8Array?V:new Uint8Array(V)}catch(N){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return d(O)}(i),H=new Uint8Array(s.length+3*o+f.length+C.length);let W=0;return H.set(s,W),W+=s.length,w("IHDR",f,H,W),W+=o+f.length,w("IDATA",C,H,W),W+=o+C.length,w("IEND",new Uint8Array(0),H,W),b(H,"image/png",V)}(N,void 0===N.kind?r.ImageKind.GRAYSCALE_1BPP:N.kind,V,S)}}();class B{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(o,m){this.x=o,this.y=m}}let h=0,v=0,u=0;a.SVGGraphics=Y=class{constructor(s,o,m=!1){this.svgFactory=new z.DOMSVGFactory,this.current=new B,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=s,this.objs=o,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!m,this._operatorIdMapping=[];for(const T in r.OPS)this._operatorIdMapping[r.OPS[T]]=T}save(){this.transformStack.push(this.transformMatrix);const s=this.current;this.extraStack.push(s),this.current=s.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(s){this.save(),this.executeOpTree(s),this.restore()}loadDependencies(s){const o=s.fnArray,m=s.argsArray;for(let T=0,w=o.length;T<w;T++)if(o[T]===r.OPS.dependency)for(const I of m[T]){const U=I.startsWith("g_")?this.commonObjs:this.objs,d=new Promise(k=>{U.get(I,k)});this.current.dependencies.push(d)}return Promise.all(this.current.dependencies)}transform(s,o,m,T,w,I){this.transformMatrix=r.Util.transform(this.transformMatrix,[s,o,m,T,w,I]),this.tgrp=null}getSVG(s,o){this.viewport=o;const m=this._initialize(o);return this.loadDependencies(s).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(s)),m))}convertOpList(s){const o=this._operatorIdMapping,m=s.argsArray,T=s.fnArray,w=[];for(let I=0,U=T.length;I<U;I++){const d=T[I];w.push({fnId:d,fn:o[d],args:m[I]})}return p(w)}executeOpTree(s){for(const o of s){const m=o.fn,w=o.args;switch(0|o.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(w);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(w[0],w[1]);break;case r.OPS.setFont:this.setFont(w);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(w[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(w[0],w[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(w[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(w[0]);break;case r.OPS.setHScale:this.setHScale(w[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(w[0],w[1],w[2],w[3],w[4],w[5]);break;case r.OPS.setTextRise:this.setTextRise(w[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(w[0]);break;case r.OPS.setLineWidth:this.setLineWidth(w[0]);break;case r.OPS.setLineJoin:this.setLineJoin(w[0]);break;case r.OPS.setLineCap:this.setLineCap(w[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(w[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(w[0],w[1],w[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(w[0],w[1],w[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(w);break;case r.OPS.setFillColorN:this.setFillColorN(w);break;case r.OPS.shadingFill:this.shadingFill(w[0]);break;case r.OPS.setDash:this.setDash(w[0],w[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(w[0]);break;case r.OPS.setFlatness:this.setFlatness(w[0]);break;case r.OPS.setGState:this.setGState(w[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(w[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(w[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(w[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(w[0],w[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(w[0],w[1],w[2],w[3],w[4],w[5]);break;case r.OPS.constructPath:this.constructPath(w[0],w[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,r.warn)(`Unimplemented operator ${m}`)}}}setWordSpacing(s){this.current.wordSpacing=s}setCharSpacing(s){this.current.charSpacing=s}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(s,o,m,T,w,I){const U=this.current;U.textMatrix=U.lineMatrix=[s,o,m,T,w,I],U.textMatrixScale=Math.hypot(s,o),U.x=U.lineX=0,U.y=U.lineY=0,U.xcoords=[],U.ycoords=[],U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${c(U.fontSize)}px`),U.tspan.setAttributeNS(null,"y",c(-U.y)),U.txtElement=this.svgFactory.createElement("svg:text"),U.txtElement.appendChild(U.tspan)}beginText(){const s=this.current;s.x=s.lineX=0,s.y=s.lineY=0,s.textMatrix=r.IDENTITY_MATRIX,s.lineMatrix=r.IDENTITY_MATRIX,s.textMatrixScale=1,s.tspan=this.svgFactory.createElement("svg:tspan"),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtgrp=this.svgFactory.createElement("svg:g"),s.xcoords=[],s.ycoords=[]}moveText(s,o){const m=this.current;m.x=m.lineX+=s,m.y=m.lineY+=o,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${c(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",c(-m.y))}showText(s){const o=this.current,m=o.font,T=o.fontSize;if(0===T)return;const w=o.fontSizeScale,I=o.charSpacing,U=o.wordSpacing,d=o.fontDirection,k=o.textHScale*d,O=m.vertical,N=O?1:-1,V=m.defaultVMetrics,S=T*o.fontMatrix[0];let Z=0;for(const it of s){if(null===it){Z+=d*U;continue}if("number"==typeof it){Z+=N*it*T/1e3;continue}const M=(it.isSpace?U:0)+I,e=it.fontChar;let i,l,f,_=it.width;if(O){let C;const F=it.vmetric||V;C=it.vmetric?F[1]:.5*_,C=-C*S,_=F?-F[0]:_,i=C/w,l=(Z+F[2]*S)/w}else i=Z/w,l=0;(it.isInFont||m.missingFile)&&(o.xcoords.push(o.x+i),O&&o.ycoords.push(-o.y+l),o.tspan.textContent+=e),f=O?_*S-M*d:_*S+M*d,Z+=f}o.tspan.setAttributeNS(null,"x",o.xcoords.map(c).join(" ")),o.tspan.setAttributeNS(null,"y",O?o.ycoords.map(c).join(" "):c(-o.y)),O?o.y-=Z:o.x+=Z*k,o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${c(o.fontSize)}px`),o.fontStyle!==J.fontStyle&&o.tspan.setAttributeNS(null,"font-style",o.fontStyle),o.fontWeight!==J.fontWeight&&o.tspan.setAttributeNS(null,"font-weight",o.fontWeight);const j=o.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;j===r.TextRenderingMode.FILL||j===r.TextRenderingMode.FILL_STROKE?(o.fillColor!==J.fillColor&&o.tspan.setAttributeNS(null,"fill",o.fillColor),o.fillAlpha<1&&o.tspan.setAttributeNS(null,"fill-opacity",o.fillAlpha)):o.tspan.setAttributeNS(null,"fill",o.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(j===r.TextRenderingMode.STROKE||j===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(o.tspan,1/(o.textMatrixScale||1));let Q=o.textMatrix;0!==o.textRise&&(Q=Q.slice(),Q[5]+=o.textRise),o.txtElement.setAttributeNS(null,"transform",`${P(Q)} scale(${c(k)}, -1)`),o.txtElement.setAttributeNS(D,"xml:space","preserve"),o.txtElement.appendChild(o.tspan),o.txtgrp.appendChild(o.txtElement),this._ensureTransformGroup().appendChild(o.txtElement)}setLeadingMoveText(s,o){this.setLeading(-o),this.moveText(s,o)}addFontStyle(s){if(!s.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const o=b(s.data,s.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${s.loadedName}"; src: url(${o}); }\n`}setFont(s){const o=this.current,m=this.commonObjs.get(s[0]);let T=s[1];o.font=m,this.embedFonts&&!m.missingFile&&!this.embeddedFonts[m.loadedName]&&(this.addFontStyle(m),this.embeddedFonts[m.loadedName]=m),o.fontMatrix=m.fontMatrix||r.FONT_IDENTITY_MATRIX;let w="normal";m.black?w="900":m.bold&&(w="bold");const I=m.italic?"italic":"normal";T<0?(T=-T,o.fontDirection=-1):o.fontDirection=1,o.fontSize=T,o.fontFamily=m.loadedName,o.fontWeight=w,o.fontStyle=I,o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"y",c(-o.y)),o.xcoords=[],o.ycoords=[]}endText(){const s=this.current;s.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&s.txtElement?.hasChildNodes()&&(s.element=s.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(s){s>0&&(this.current.lineWidth=s)}setLineCap(s){this.current.lineCap=A[s]}setLineJoin(s){this.current.lineJoin=g[s]}setMiterLimit(s){this.current.miterLimit=s}setStrokeAlpha(s){this.current.strokeAlpha=s}setStrokeRGBColor(s,o,m){this.current.strokeColor=r.Util.makeHexColor(s,o,m)}setFillAlpha(s){this.current.fillAlpha=s}setFillRGBColor(s,o,m){this.current.fillColor=r.Util.makeHexColor(s,o,m),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(s){this.current.strokeColor=this._makeColorN_Pattern(s)}setFillColorN(s){this.current.fillColor=this._makeColorN_Pattern(s)}shadingFill(s){const o=this.viewport.width,m=this.viewport.height,T=r.Util.inverseTransform(this.transformMatrix),w=r.Util.applyTransform([0,0],T),I=r.Util.applyTransform([0,m],T),U=r.Util.applyTransform([o,0],T),d=r.Util.applyTransform([o,m],T),k=Math.min(w[0],I[0],U[0],d[0]),O=Math.min(w[1],I[1],U[1],d[1]),N=Math.max(w[0],I[0],U[0],d[0]),V=Math.max(w[1],I[1],U[1],d[1]),S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x",k),S.setAttributeNS(null,"y",O),S.setAttributeNS(null,"width",N-k),S.setAttributeNS(null,"height",V-O),S.setAttributeNS(null,"fill",this._makeShadingPattern(s)),this.current.fillAlpha<1&&S.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(S)}_makeColorN_Pattern(s){return"TilingPattern"===s[0]?this._makeTilingPattern(s):this._makeShadingPattern(s)}_makeTilingPattern(s){const o=s[1],m=s[2],T=s[3]||r.IDENTITY_MATRIX,[w,I,U,d]=s[4],k=s[5],O=s[6],N=s[7],V="shading"+u++,[S,Z,j,Q]=r.Util.normalizeRect([...r.Util.applyTransform([w,I],T),...r.Util.applyTransform([U,d],T)]),[it,M]=r.Util.singularValueDecompose2dScale(T),e=k*it,i=O*M,l=this.svgFactory.createElement("svg:pattern");l.setAttributeNS(null,"id",V),l.setAttributeNS(null,"patternUnits","userSpaceOnUse"),l.setAttributeNS(null,"width",e),l.setAttributeNS(null,"height",i),l.setAttributeNS(null,"x",`${S}`),l.setAttributeNS(null,"y",`${Z}`);const _=this.svg,f=this.transformMatrix,C=this.current.fillColor,F=this.current.strokeColor,H=this.svgFactory.create(j-S,Q-Z);if(this.svg=H,this.transformMatrix=T,2===N){const W=r.Util.makeHexColor(...o);this.current.fillColor=W,this.current.strokeColor=W}return this.executeOpTree(this.convertOpList(m)),this.svg=_,this.transformMatrix=f,this.current.fillColor=C,this.current.strokeColor=F,l.appendChild(H.childNodes[0]),this.defs.appendChild(l),`url(#${V})`}_makeShadingPattern(s){switch("string"==typeof s&&(s=this.objs.get(s)),s[0]){case"RadialAxial":const o="shading"+u++,m=s[3];let T;switch(s[1]){case"axial":const w=s[4],I=s[5];T=this.svgFactory.createElement("svg:linearGradient"),T.setAttributeNS(null,"id",o),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"x1",w[0]),T.setAttributeNS(null,"y1",w[1]),T.setAttributeNS(null,"x2",I[0]),T.setAttributeNS(null,"y2",I[1]);break;case"radial":const U=s[4],d=s[5],k=s[6],O=s[7];T=this.svgFactory.createElement("svg:radialGradient"),T.setAttributeNS(null,"id",o),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"cx",d[0]),T.setAttributeNS(null,"cy",d[1]),T.setAttributeNS(null,"r",O),T.setAttributeNS(null,"fx",U[0]),T.setAttributeNS(null,"fy",U[1]),T.setAttributeNS(null,"fr",k);break;default:throw new Error(`Unknown RadialAxial type: ${s[1]}`)}for(const w of m){const I=this.svgFactory.createElement("svg:stop");I.setAttributeNS(null,"offset",w[0]),I.setAttributeNS(null,"stop-color",w[1]),T.appendChild(I)}return this.defs.appendChild(T),`url(#${o})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${s[0]}`)}}setDash(s,o){this.current.dashArray=s,this.current.dashPhase=o}constructPath(s,o){const m=this.current;let T=m.x,w=m.y,I=[],U=0;for(const d of s)switch(0|d){case r.OPS.rectangle:T=o[U++],w=o[U++];const N=T+o[U++],V=w+o[U++];I.push("M",c(T),c(w),"L",c(N),c(w),"L",c(N),c(V),"L",c(T),c(V),"Z");break;case r.OPS.moveTo:T=o[U++],w=o[U++],I.push("M",c(T),c(w));break;case r.OPS.lineTo:T=o[U++],w=o[U++],I.push("L",c(T),c(w));break;case r.OPS.curveTo:T=o[U+4],w=o[U+5],I.push("C",c(o[U]),c(o[U+1]),c(o[U+2]),c(o[U+3]),c(T),c(w)),U+=6;break;case r.OPS.curveTo2:I.push("C",c(T),c(w),c(o[U]),c(o[U+1]),c(o[U+2]),c(o[U+3])),T=o[U+2],w=o[U+3],U+=4;break;case r.OPS.curveTo3:T=o[U+2],w=o[U+3],I.push("C",c(o[U]),c(o[U+1]),c(T),c(w),c(T),c(w)),U+=4;break;case r.OPS.closePath:I.push("Z")}I=I.join(" "),m.path&&s.length>0&&s[0]!==r.OPS.rectangle&&s[0]!==r.OPS.moveTo?I=m.path.getAttributeNS(null,"d")+I:(m.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(m.path)),m.path.setAttributeNS(null,"d",I),m.path.setAttributeNS(null,"fill","none"),m.element=m.path,m.setCurrentPoint(T,w)}endPath(){const s=this.current;if(s.path=null,!this.pendingClip)return;if(!s.element)return void(this.pendingClip=null);const o="clippath"+h++,m=this.svgFactory.createElement("svg:clipPath");m.setAttributeNS(null,"id",o),m.setAttributeNS(null,"transform",P(this.transformMatrix));const T=s.element.cloneNode(!0);if(T.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,m.appendChild(T),this.defs.appendChild(m),s.activeClipUrl){s.clipGroup=null;for(const w of this.extraStack)w.clipGroup=null;m.setAttributeNS(null,"clip-path",s.activeClipUrl)}s.activeClipUrl=`url(#${o})`,this.tgrp=null}clip(s){this.pendingClip=s}closePath(){const s=this.current;if(s.path){const o=`${s.path.getAttributeNS(null,"d")}Z`;s.path.setAttributeNS(null,"d",o)}}setLeading(s){this.current.leading=-s}setTextRise(s){this.current.textRise=s}setTextRenderingMode(s){this.current.textRenderingMode=s}setHScale(s){this.current.textHScale=s/100}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(const[o,m]of s)switch(o){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m);break;case"CA":this.setStrokeAlpha(m);break;case"ca":this.setFillAlpha(m);break;default:(0,r.warn)(`Unimplemented graphic state operator ${o}`)}}fill(){const s=this.current;s.element&&(s.element.setAttributeNS(null,"fill",s.fillColor),s.element.setAttributeNS(null,"fill-opacity",s.fillAlpha),this.endPath())}stroke(){const s=this.current;s.element&&(this._setStrokeAttributes(s.element),s.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(s,o=1){const m=this.current;let T=m.dashArray;1!==o&&T.length>0&&(T=T.map(function(w){return o*w})),s.setAttributeNS(null,"stroke",m.strokeColor),s.setAttributeNS(null,"stroke-opacity",m.strokeAlpha),s.setAttributeNS(null,"stroke-miterlimit",c(m.miterLimit)),s.setAttributeNS(null,"stroke-linecap",m.lineCap),s.setAttributeNS(null,"stroke-linejoin",m.lineJoin),s.setAttributeNS(null,"stroke-width",c(o*m.lineWidth)+"px"),s.setAttributeNS(null,"stroke-dasharray",T.map(c).join(" ")),s.setAttributeNS(null,"stroke-dashoffset",c(o*m.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width","1px"),s.setAttributeNS(null,"height","1px"),s.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(s)}paintImageXObject(s){const o=s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s);o?this.paintInlineImageXObject(o):(0,r.warn)(`Dependent image with object ID ${s} is not ready yet`)}paintInlineImageXObject(s,o){const m=s.width,T=s.height,w=x(s,this.forceDataSchema,!!o),I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y","0"),I.setAttributeNS(null,"width",c(m)),I.setAttributeNS(null,"height",c(T)),this.current.element=I,this.clip("nonzero");const U=this.svgFactory.createElement("svg:image");U.setAttributeNS(t,"xlink:href",w),U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y",c(-T)),U.setAttributeNS(null,"width",c(m)+"px"),U.setAttributeNS(null,"height",c(T)+"px"),U.setAttributeNS(null,"transform",`scale(${c(1/m)} ${c(-1/T)})`),o?o.appendChild(U):this._ensureTransformGroup().appendChild(U)}paintImageMaskXObject(s){const o=this.current,m=s.width,T=s.height,w=o.fillColor;o.maskId="mask"+v++;const I=this.svgFactory.createElement("svg:mask");I.setAttributeNS(null,"id",o.maskId);const U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",c(m)),U.setAttributeNS(null,"height",c(T)),U.setAttributeNS(null,"fill",w),U.setAttributeNS(null,"mask",`url(#${o.maskId})`),this.defs.appendChild(I),this._ensureTransformGroup().appendChild(U),this.paintInlineImageXObject(s,I)}paintFormXObjectBegin(s,o){if(Array.isArray(s)&&6===s.length&&this.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o){const m=o[2]-o[0],T=o[3]-o[1],w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x",o[0]),w.setAttributeNS(null,"y",o[1]),w.setAttributeNS(null,"width",c(m)),w.setAttributeNS(null,"height",c(T)),this.current.element=w,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(s){const o=this.svgFactory.create(s.width,s.height),m=this.svgFactory.createElement("svg:defs");o.appendChild(m),this.defs=m;const T=this.svgFactory.createElement("svg:g");return T.setAttributeNS(null,"transform",P(s.transform)),o.appendChild(T),this.svg=T,o}_ensureClipGroup(){if(!this.current.clipGroup){const s=this.svgFactory.createElement("svg:g");s.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(s),this.current.clipGroup=s}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",P(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var r=R(1),z=R(26);const q=__webpack_require__(172),Y=__webpack_require__(2001),J=__webpack_require__(3779),D=__webpack_require__(6558),t=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class g{constructor(u){this.source=u,this.url=function A(v){const u=D.parse(v);return"file:"===u.protocol||u.host?u:/^[a-z]:[/\\]/i.test(v)?D.parse(`file:///${v}`):(u.host||(u.protocol="file:"),u)}(u.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&u.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new P(this):new p(this),this._fullRequestReader}getRangeReader(u,s){if(s<=this._progressiveDataLength)return null;const o=this.isFsUrl?new h(this,u,s):new c(this,u,s);return this._rangeRequestReaders.push(o),o}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const s of this._rangeRequestReaders.slice(0))s.cancel(u)}};class b{constructor(u){this._url=u.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=u.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var u=this;return _asyncToGenerator(function*(){if(yield u._readCapability.promise,u._done)return{value:void 0,done:!0};if(u._storedError)throw u._storedError;const s=u._readableStream.read();return null===s?(u._readCapability=(0,r.createPromiseCapability)(),u.read()):(u._loaded+=s.length,u.onProgress&&u.onProgress({loaded:u._loaded,total:u._contentLength}),{value:new Uint8Array(s).buffer,done:!1})})()}cancel(u){this._readableStream?this._readableStream.destroy(u):this._error(u)}_error(u){this._storedError=u,this._readCapability.resolve()}_setReadableStream(u){this._readableStream=u,u.on("readable",()=>{this._readCapability.resolve()}),u.on("end",()=>{u.destroy(),this._done=!0,this._readCapability.resolve()}),u.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(u){this._url=u.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!u.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var u=this;return _asyncToGenerator(function*(){if(yield u._readCapability.promise,u._done)return{value:void 0,done:!0};if(u._storedError)throw u._storedError;const s=u._readableStream.read();return null===s?(u._readCapability=(0,r.createPromiseCapability)(),u.read()):(u._loaded+=s.length,u.onProgress&&u.onProgress({loaded:u._loaded}),{value:new Uint8Array(s).buffer,done:!1})})()}cancel(u){this._readableStream?this._readableStream.destroy(u):this._error(u)}_error(u){this._storedError=u,this._readCapability.resolve()}_setReadableStream(u){this._readableStream=u,u.on("readable",()=>{this._readCapability.resolve()}),u.on("end",()=>{u.destroy(),this._done=!0,this._readCapability.resolve()}),u.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function B(v,u){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:u}}class p extends b{constructor(u){super(u);const s=o=>{if(404===o.statusCode){const I=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=I,void this._headersCapability.reject(I)}this._headersCapability.resolve(),this._setReadableStream(o);const m=I=>this._readableStream.headers[I.toLowerCase()],{allowRangeRequests:T,suggestedLength:w}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:u.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=w||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(m)};this._request=null,this._request="http:"===this._url.protocol?Y.request(B(this._url,u.httpHeaders),s):J.request(B(this._url,u.httpHeaders),s),this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class c extends x{constructor(u,s,o){super(u),this._httpHeaders={};for(const T in u.httpHeaders){const w=u.httpHeaders[T];typeof w>"u"||(this._httpHeaders[T]=w)}this._httpHeaders.Range=`bytes=${s}-${o-1}`;const m=T=>{if(404!==T.statusCode)this._setReadableStream(T);else{const w=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w}};this._request=null,this._request="http:"===this._url.protocol?Y.request(B(this._url,this._httpHeaders),m):J.request(B(this._url,this._httpHeaders),m),this._request.on("error",T=>{this._storedError=T}),this._request.end()}}class P extends b{constructor(u){super(u);let s=decodeURIComponent(this._url.path);t.test(this._url.href)&&(s=s.replace(/^\//,"")),q.lstat(s,(o,m)=>{if(o)return"ENOENT"===o.code&&(o=new r.MissingPDFException(`Missing PDF "${s}".`)),this._storedError=o,void this._headersCapability.reject(o);this._contentLength=m.size,this._setReadableStream(q.createReadStream(s)),this._headersCapability.resolve()})}}class h extends x{constructor(u,s,o){super(u);let m=decodeURIComponent(this._url.path);t.test(this._url.href)&&(m=m.replace(/^\//,"")),this._setReadableStream(q.createReadStream(m,{start:s,end:o-1}))}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function D(A,g){return 404===A||0===A&&g.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+g+'".'):new r.UnexpectedResponseException(`Unexpected server response (${A}) while retrieving PDF "${g}".`,A)},a.extractFilenameFromHeader=function J(A){const g=A("Content-Disposition");if(g){let b=(0,z.getFilenameFromContentDispositionHeader)(g);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,q.isPdfFile)(b))return b}return null},a.validateRangeRequestCapabilities=function Y({getResponseHeader:A,isHttp:g,rangeChunkSize:b,disableRange:x}){const B={allowRangeRequests:!1,suggestedLength:void 0},p=parseInt(A("Content-Length"),10);return!Number.isInteger(p)||(B.suggestedLength=p,p<=2*b)||x||!g||"bytes"!==A("Accept-Ranges")||"identity"!==(A("Content-Encoding")||"identity")||(B.allowRangeRequests=!0),B},a.validateResponseStatus=function t(A){return 200===A||206===A};var r=R(1),z=R(27),q=R(5)},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function z(q){let Y=!0,J=D("filename\\*","i").exec(q);if(J){J=J[1];let p=b(J);return p=unescape(p),p=x(p),p=B(p),A(p)}if(J=function g(p){const c=[];let P;const h=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(P=h.exec(p));){let[,u,s,o]=P;if(u=parseInt(u,10),u in c){if(0===u)break}else c[u]=[s,o]}const v=[];for(let u=0;u<c.length&&u in c;++u){let[s,o]=c[u];o=b(o),s&&(o=unescape(o),0===u&&(o=x(o))),v.push(o)}return v.join("")}(q),J)return A(B(J));if(J=D("filename","i").exec(q),J){J=J[1];let p=b(J);return p=B(p),A(p)}function D(p,c){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function t(p,c){if(p){if(!/^[\x00-\xFF]+$/.test(c))return c;try{const P=new TextDecoder(p,{fatal:!0}),h=(0,r.stringToBytes)(c);c=P.decode(h),Y=!1}catch{}}return c}function A(p){return Y&&/[\x80-\xff]/.test(p)&&(p=t("utf-8",p),Y&&(p=t("iso-8859-1",p))),p}function b(p){if(p.startsWith('"')){const c=p.slice(1).split('\\"');for(let P=0;P<c.length;++P){const h=c[P].indexOf('"');-1!==h&&(c[P]=c[P].slice(0,h),c.length=P+1),c[P]=c[P].replace(/\\(.)/g,"$1")}p=c.join('"')}return p}function x(p){const c=p.indexOf("'");return-1===c?p:t(p.slice(0,c),p.slice(c+1).replace(/^[^']*'/,""))}function B(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(c,P,h,v){if("q"===h||"Q"===h)return t(P,v=(v=v.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(u,s){return String.fromCharCode(parseInt(s,16))}));try{v=atob(v)}catch{}return t(P,v)})}return""};var r=R(1)},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var r=R(1),z=R(26);class D{constructor(x,B={}){this.url=x,this.isHttp=/^https?:/i.test(x),this.httpHeaders=this.isHttp&&B.httpHeaders||Object.create(null),this.withCredentials=B.withCredentials||!1,this.getXhr=B.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(x,B,p){const c={begin:x,end:B};for(const P in p)c[P]=p[P];return this.request(c)}requestFull(x){return this.request(x)}request(x){const B=this.getXhr(),p=this.currXhrId++,c=this.pendingRequests[p]={xhr:B};B.open("GET",this.url),B.withCredentials=this.withCredentials;for(const P in this.httpHeaders){const h=this.httpHeaders[P];typeof h>"u"||B.setRequestHeader(P,h)}return this.isHttp&&"begin"in x&&"end"in x?(B.setRequestHeader("Range",`bytes=${x.begin}-${x.end-1}`),c.expectedStatus=206):c.expectedStatus=200,B.responseType="arraybuffer",x.onError&&(B.onerror=function(P){x.onError(B.status)}),B.onreadystatechange=this.onStateChange.bind(this,p),B.onprogress=this.onProgress.bind(this,p),c.onHeadersReceived=x.onHeadersReceived,c.onDone=x.onDone,c.onError=x.onError,c.onProgress=x.onProgress,B.send(null),p}onProgress(x,B){const p=this.pendingRequests[x];p&&p.onProgress?.(B)}onStateChange(x,B){const p=this.pendingRequests[x];if(!p)return;const c=p.xhr;if(c.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),4!==c.readyState||!(x in this.pendingRequests))return;if(delete this.pendingRequests[x],0===c.status&&this.isHttp)return void p.onError?.(c.status);const P=c.status||200;if((200!==P||206!==p.expectedStatus)&&P!==p.expectedStatus)return void p.onError?.(c.status);const v=function J(b){const x=b.response;return"string"!=typeof x?x:(0,r.stringToBytes)(x).buffer}(c);if(206===P){const u=c.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);p.onDone({begin:parseInt(s[1],10),chunk:v})}else v?p.onDone({begin:0,chunk:v}):p.onError?.(c.status)}getRequestXhr(x){return this.pendingRequests[x].xhr}isPendingRequest(x){return x in this.pendingRequests}abortRequest(x){const B=this.pendingRequests[x].xhr;delete this.pendingRequests[x],B.abort()}}a.PDFNetworkStream=class t{constructor(x){this._source=x,this._manager=new D(x.url,{httpHeaders:x.httpHeaders,withCredentials:x.withCredentials}),this._rangeChunkSize=x.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(x){const B=this._rangeRequestReaders.indexOf(x);B>=0&&this._rangeRequestReaders.splice(B,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new A(this._manager,this._source),this._fullRequestReader}getRangeReader(x,B){const p=new g(this._manager,x,B);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(x){this._fullRequestReader?.cancel(x);for(const B of this._rangeRequestReaders.slice(0))B.cancel(x)}};class A{constructor(x,B){this._manager=x;const p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._fullRequestId=x.requestFull(p),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=B.disableRange||!1,this._contentLength=B.length,this._rangeChunkSize=B.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const x=this._fullRequestId,B=this._manager.getRequestXhr(x),p=h=>B.getResponseHeader(h),{allowRangeRequests:c,suggestedLength:P}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});c&&(this._isRangeSupported=!0),this._contentLength=P||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(x),this._headersReceivedCapability.resolve()}_onDone(x){if(x&&(this._requests.length>0?this._requests.shift().resolve({value:x.chunk,done:!1}):this._cachedChunks.push(x.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(x){this._storedError=(0,z.createResponseStatusError)(x,this._url),this._headersReceivedCapability.reject(this._storedError);for(const B of this._requests)B.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(x){this.onProgress?.({loaded:x.loaded,total:x.lengthComputable?x.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var x=this;return _asyncToGenerator(function*(){if(x._storedError)throw x._storedError;if(x._cachedChunks.length>0)return{value:x._cachedChunks.shift(),done:!1};if(x._done)return{value:void 0,done:!0};const B=(0,r.createPromiseCapability)();return x._requests.push(B),B.promise})()}cancel(x){this._done=!0,this._headersReceivedCapability.reject(x);for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class g{constructor(x,B,p){this._manager=x;const c={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._requestId=x.requestRange(B,p,c),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(x){const B=x.chunk;this._requests.length>0?this._requests.shift().resolve({value:B,done:!1}):this._queuedChunk=B,this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(x){this._storedError=(0,z.createResponseStatusError)(x,this._url);for(const B of this._requests)B.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(x){this.isStreamingSupported||this.onProgress?.({loaded:x.loaded})}get isStreamingSupported(){return!1}read(){var x=this;return _asyncToGenerator(function*(){if(x._storedError)throw x._storedError;if(null!==x._queuedChunk){const p=x._queuedChunk;return x._queuedChunk=null,{value:p,done:!1}}if(x._done)return{value:void 0,done:!0};const B=(0,r.createPromiseCapability)();return x._requests.push(B),B.promise})()}cancel(x){this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(at,a,R)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var r=R(1),z=R(26);function q(A,g,b){return{method:"GET",headers:A,signal:b?.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function Y(A){const g=new Headers;for(const b in A){const x=A[b];typeof x>"u"||g.append(b,x)}return g}a.PDFFetchStream=class J{constructor(g){this.source=g,this.isHttp=/^https?:/i.test(g.url),this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D(this),this._fullRequestReader}getRangeReader(g,b){if(b<=this._progressiveDataLength)return null;const x=new t(this,g,b);return this._rangeRequestReaders.push(x),x}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const b of this._rangeRequestReaders.slice(0))b.cancel(g)}};class D{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const b=g.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=Y(this._stream.httpHeaders);const x=b.url;fetch(x,q(this._headers,this._withCredentials,this._abortController)).then(B=>{if(!(0,z.validateResponseStatus)(B.status))throw(0,z.createResponseStatusError)(B.status,x);this._reader=B.body.getReader(),this._headersCapability.resolve();const p=h=>B.headers.get(h),{allowRangeRequests:c,suggestedLength:P}=(0,z.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=P||this._contentLength,this._filename=(0,z.extractFilenameFromHeader)(p),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){yield g._headersCapability.promise;const{value:b,done:x}=yield g._reader.read();return x?{value:b,done:x}:(g._loaded+=b.byteLength,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(g){this._reader&&this._reader.cancel(g),this._abortController&&this._abortController.abort()}}class t{constructor(g,b,x){this._stream=g,this._reader=null,this._loaded=0;const B=g.source;this._withCredentials=B.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!B.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${x-1}`);const p=B.url;fetch(p,q(this._headers,this._withCredentials,this._abortController)).then(c=>{if(!(0,z.validateResponseStatus)(c.status))throw(0,z.createResponseStatusError)(c.status,p);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){yield g._readCapability.promise;const{value:b,done:x}=yield g._reader.read();return x?{value:b,done:x}:(g._loaded+=b.byteLength,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(g){this._reader&&this._reader.cancel(g),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(at){var a=__webpack_module_cache__[at];if(void 0!==a)return a.exports;var R=__webpack_module_cache__[at]={exports:{}};return __webpack_modules__[at](R,R.exports,__w_pdfjs_require__),R.exports}var __webpack_exports__={};return(()=>{var at=__webpack_exports__;Object.defineProperty(at,"__esModule",{value:!0}),Object.defineProperty(at,"AnnotationLayer",{enumerable:!0,get:function(){return z.AnnotationLayer}}),Object.defineProperty(at,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(at,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(at,"GlobalWorkerOptions",{enumerable:!0,get:function(){return q.GlobalWorkerOptions}}),Object.defineProperty(at,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(at,"LoopbackPort",{enumerable:!0,get:function(){return R.LoopbackPort}}),Object.defineProperty(at,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(at,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(at,"PDFDataRangeTransport",{enumerable:!0,get:function(){return R.PDFDataRangeTransport}}),Object.defineProperty(at,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(at,"PDFWorker",{enumerable:!0,get:function(){return R.PDFWorker}}),Object.defineProperty(at,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(at,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(at,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(at,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(at,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(at,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(at,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(at,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(at,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(at,"XfaLayer",{enumerable:!0,get:function(){return t.XfaLayer}}),Object.defineProperty(at,"build",{enumerable:!0,get:function(){return R.build}}),Object.defineProperty(at,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(at,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(at,"getDocument",{enumerable:!0,get:function(){return R.getDocument}}),Object.defineProperty(at,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(at,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(at,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(at,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(at,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(at,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(at,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(at,"version",{enumerable:!0,get:function(){return R.version}});var a=__w_pdfjs_require__(1),R=__w_pdfjs_require__(4),r=__w_pdfjs_require__(5),z=__w_pdfjs_require__(20),q=__w_pdfjs_require__(13),Y=__w_pdfjs_require__(3),J=__w_pdfjs_require__(23),D=__w_pdfjs_require__(24),t=__w_pdfjs_require__(22);if(Y.isNodeJS){const{PDFNodeStream:b}=__w_pdfjs_require__(25);(0,R.setPDFNetworkStreamFactory)(x=>new b(x))}else{const{PDFNetworkStream:b}=__w_pdfjs_require__(28),{PDFFetchStream:x}=__w_pdfjs_require__(29);(0,R.setPDFNetworkStreamFactory)(B=>(0,r.isValidFetchUrl)(B.url)?new x(B):new b(B))}})(),__webpack_exports__})(),module.exports=R()},638:function(at,a,R){var Y,r=R(1778).default;Y=()=>(()=>{"use strict";var z=[,(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultXfaLayerFactory=t.DefaultTextLayerFactory=t.DefaultStructTreeLayerFactory=t.DefaultAnnotationLayerFactory=void 0;var g=A(2),b=A(4),x=A(5),B=A(7),p=A(8),c=A(9);t.DefaultAnnotationLayerFactory=class P{createAnnotationLayerBuilder(o,m,T=null,w="",I=!0,U=b.NullL10n,d=!1,k=null,O=null,N=null,V=null){return new g.AnnotationLayerBuilder({pageDiv:o,pdfPage:m,imageResourcesPath:w,renderForms:I,linkService:new x.SimpleLinkService,l10n:U,annotationStorage:T,enableScripting:d,hasJSActionsPromise:k,fieldObjectsPromise:N,mouseState:O,annotationCanvasMap:V})}},t.DefaultStructTreeLayerFactory=class h{createStructTreeLayerBuilder(o){return new B.StructTreeLayerBuilder({pdfPage:o})}},t.DefaultTextLayerFactory=class v{createTextLayerBuilder(o,m,T,w=!1,I,U){return new p.TextLayerBuilder({textLayerDiv:o,pageIndex:m,viewport:T,enhanceTextSelection:w,eventBus:I,highlighter:U})}},t.DefaultXfaLayerFactory=class u{createXfaLayerBuilder(o,m,T=null,w=null){return new c.XfaLayerBuilder({pageDiv:o,pdfPage:m,annotationStorage:T,linkService:new x.SimpleLinkService,xfaHtml:w})}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayerBuilder=void 0;var g=A(3),b=A(4);t.AnnotationLayerBuilder=class x{constructor({pageDiv:p,pdfPage:c,linkService:P,downloadManager:h,annotationStorage:v=null,imageResourcesPath:u="",renderForms:s=!0,l10n:o=b.NullL10n,enableScripting:m=!1,hasJSActionsPromise:T=null,fieldObjectsPromise:w=null,mouseState:I=null,annotationCanvasMap:U=null}){this.pageDiv=p,this.pdfPage=c,this.linkService=P,this.downloadManager=h,this.imageResourcesPath=u,this.renderForms=s,this.l10n=o,this.annotationStorage=v,this.enableScripting=m,this._hasJSActionsPromise=T,this._fieldObjectsPromise=w,this._mouseState=I,this._annotationCanvasMap=U,this.div=null,this._cancelled=!1}render(p,c="display"){var P=this;return r(function*(){const[h,v=!1,u=null]=yield Promise.all([P.pdfPage.getAnnotations({intent:c}),P._hasJSActionsPromise,P._fieldObjectsPromise]);if(P._cancelled||0===h.length)return;const s={viewport:p.clone({dontFlip:!0}),div:P.div,annotations:h,page:P.pdfPage,imageResourcesPath:P.imageResourcesPath,renderForms:P.renderForms,linkService:P.linkService,downloadManager:P.downloadManager,annotationStorage:P.annotationStorage,enableScripting:P.enableScripting,hasJSActions:v,fieldObjects:u,mouseState:P._mouseState,annotationCanvasMap:P._annotationCanvasMap};P.div?g.AnnotationLayer.update(s):(P.div=document.createElement("div"),P.div.className="annotationLayer",P.pageDiv.appendChild(P.div),s.div=P.div,g.AnnotationLayer.render(s),P.l10n.translate(P.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},D=>{let t;t=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:R(7787),D.exports=t},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.fixupLangCode=function x(c){return b[c?.toLowerCase()]||c},t.getL10nFallback=g;const A={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function g(c,P){switch(c){case"find_match_count":c=`find_match_count[${1===P.total?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${1===P.limit?"one":"other"}]`}return A[c]||""}const b={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};t.NullL10n={getLanguage:()=>r(function*(){return"en-us"})(),getDirection:()=>r(function*(){return"ltr"})(),get:(c,P=null,h=g(c,P))=>r(function*(){return function B(c,P){return P?c.replace(/\{\{\s*(\w+)\s*\}\}/g,(h,v)=>v in P?P[v]:"{{"+v+"}}"):c}(h,P)})(),translate:c=>r(function*(){})()}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=t.LinkTarget=void 0;var g=A(6);const b="noopener noreferrer nofollow",x={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function B(P,{url:h,target:v,rel:u,enabled:s=!0}={}){if(!h||"string"!=typeof h)throw new Error('A valid "url" parameter must provided.');const o=(0,g.removeNullCharacters)(h);s?P.href=P.title=o:(P.href="",P.title=`Disabled: ${o}`,P.onclick=()=>!1);let m="";switch(v){case x.NONE:break;case x.SELF:m="_self";break;case x.BLANK:m="_blank";break;case x.PARENT:m="_parent";break;case x.TOP:m="_top"}P.target=m,P.rel="string"==typeof u?u:b}t.LinkTarget=x;class p{#t=new Map;constructor({eventBus:h,externalLinkTarget:v=null,externalLinkRel:u=null,ignoreDestinationZoom:s=!1}={}){this.eventBus=h,this.externalLinkTarget=v,this.externalLinkRel=u,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,v=null){this.baseUrl=v,this.pdfDocument=h,this.#t.clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}#e(h,v=null,u){const s=u[0];let o;if("object"==typeof s&&null!==s){if(o=this._cachedPageNumber(s),!o)return void this.pdfDocument.getPageIndex(s).then(m=>{this.cachePageRef(m+1,s),this.#e(h,v,u)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${s}" is not a valid page reference, for dest="${h}".`)})}else{if(!Number.isInteger(s))return void console.error(`PDFLinkService.#goToDestinationHelper: "${s}" is not a valid destination reference, for dest="${h}".`);o=s+1}!o||o<1||o>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${o}" is not a valid page number, for dest="${h}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:v,explicitDest:u,pageNumber:o})),this.pdfViewer.scrollPageIntoView({pageNumber:o,destArray:u,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(h){var v=this;return r(function*(){if(!v.pdfDocument)return;let u,s;"string"==typeof h?(u=h,s=yield v.pdfDocument.getDestination(h)):(u=null,s=yield h),Array.isArray(s)?v.#e(h,u,s):console.error(`PDFLinkService.goToDestination: "${s}" is not a valid destination array, for dest="${h}".`)})()}goToPage(h){if(!this.pdfDocument)return;const v="string"==typeof h&&this.pdfViewer.pageLabelToPageNumber(h)||0|h;Number.isInteger(v)&&v>0&&v<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(v)),this.pdfViewer.scrollPageIntoView({pageNumber:v})):console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`)}addLinkAttributes(h,v,u=!1){B(h,{url:v,target:u?x.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if("string"==typeof h){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){const v=JSON.stringify(h);if(v.length>0)return this.getAnchorUrl("#"+escape(v))}return this.getAnchorUrl("")}getAnchorUrl(h){return(this.baseUrl||"")+h}setHash(h){if(!this.pdfDocument)return;let v,u;if(h.includes("=")){const s=(0,g.parseQueryString)(h);if(s.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:s.get("search").replace(/"/g,""),phraseSearch:"true"===s.get("phrase")}),s.has("page")&&(v=0|s.get("page")||1),s.has("zoom")){const o=s.get("zoom").split(","),m=o[0],T=parseFloat(m);m.includes("Fit")?"Fit"===m||"FitB"===m?u=[null,{name:m}]:"FitH"===m||"FitBH"===m||"FitV"===m||"FitBV"===m?u=[null,{name:m},o.length>1?0|o[1]:null]:"FitR"===m?5!==o.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):u=[null,{name:m},0|o[1],0|o[2],0|o[3],0|o[4]]:console.error(`PDFLinkService.setHash: "${m}" is not a valid zoom value.`):u=[null,{name:"XYZ"},o.length>1?0|o[1]:null,o.length>2?0|o[2]:null,T?T/100:m]}u?this.pdfViewer.scrollPageIntoView({pageNumber:v||this.page,destArray:u,allowNegativeOffset:!0}):v&&(this.page=v),s.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:s.get("pagemode")}),s.has("nameddest")&&this.goToDestination(s.get("nameddest"))}else{u=unescape(h);try{u=JSON.parse(u),Array.isArray(u)||(u=u.toString())}catch{}if("string"==typeof u||p.#n(u))return void this.goToDestination(u);console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){switch(h){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:h})}cachePageRef(h,v){v&&this.#t.set(0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`,h)}_cachedPageNumber(h){return h&&this.#t.get(0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`)||null}isPageVisible(h){return this.pdfViewer.isPageVisible(h)}isPageCached(h){return this.pdfViewer.isPageCached(h)}static#n(h){if(!Array.isArray(h))return!1;const v=h.length;if(v<2)return!1;const u=h[0];if(!("object"==typeof u&&Number.isInteger(u.num)&&Number.isInteger(u.gen)||Number.isInteger(u)&&u>=0))return!1;const s=h[1];if("object"!=typeof s||"string"!=typeof s.name)return!1;let o=!0;switch(s.name){case"XYZ":if(5!==v)return!1;break;case"Fit":case"FitB":return 2===v;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==v)return!1;break;case"FitR":if(6!==v)return!1;o=!1;break;default:return!1}for(let m=2;m<v;m++){const T=h[m];if(!("number"==typeof T||o&&null===T))return!1}return!0}}t.PDFLinkService=p,t.SimpleLinkService=class c{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}goToDestination(h){return r(function*(){})()}goToPage(h){}addLinkAttributes(h,v,u=!1){B(h,{url:v,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}cachePageRef(h,v){}isPageVisible(h){return!0}isPageCached(h){return!0}}},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationStarted=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RenderingStates=t.RendererType=t.ProgressBar=t.PresentationModeState=t.OutputScale=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.AutoPrintRegExp=void 0,t.apiPageLayoutToViewerModes=function ct(et){let rt=T.VERTICAL,ut=w.NONE;switch(et){case"SinglePage":rt=T.PAGE;break;case"OneColumn":break;case"TwoPageLeft":rt=T.PAGE;case"TwoColumnLeft":ut=w.ODD;break;case"TwoPageRight":rt=T.PAGE;case"TwoColumnRight":ut=w.EVEN}return{scrollMode:rt,spreadMode:ut}},t.apiPageModeToSidebarView=function ht(et){switch(et){case"UseNone":return s.NONE;case"UseThumbs":return s.THUMBS;case"UseOutlines":return s.OUTLINE;case"UseAttachments":return s.ATTACHMENTS;case"UseOC":return s.LAYERS}return s.NONE},t.approximateFraction=function j(et){if(Math.floor(et)===et)return[et,1];const rt=1/et;if(rt>8)return[1,8];if(Math.floor(rt)===rt)return[1,rt];const dt=et>1?rt:et;let Pt,lt=0,_t=1,mt=1,ft=1;for(;;){const At=lt+mt,Ct=_t+ft;if(Ct>8)break;dt<=At/Ct?(mt=At,ft=Ct):(lt=At,_t=Ct)}return Pt=dt-lt/_t<mt/ft-dt?dt===et?[lt,_t]:[_t,lt]:dt===et?[mt,ft]:[ft,mt],Pt},t.backtrackBeforeAllVisibleElements=M,t.binarySearchFirstItem=Z,t.getActiveOrFocusedElement=function tt(){let et=document,rt=et.activeElement||et.querySelector(":focus");for(;rt?.shadowRoot;)et=rt.shadowRoot,rt=et.activeElement||et.querySelector(":focus");return rt},t.getPageSizeInches=function it({view:et,userUnit:rt,rotate:ut}){const[dt,lt,_t,mt]=et,ft=ut%180!=0,Pt=(_t-dt)/72*rt,At=(mt-lt)/72*rt;return{width:ft?At:Pt,height:ft?Pt:At}},t.getVisibleElements=function e({scrollEl:et,views:rt,sortByVisibility:ut=!1,horizontal:dt=!1,rtl:lt=!1}){const _t=et.scrollTop,mt=_t+et.clientHeight,ft=et.scrollLeft,Pt=ft+et.clientWidth,Ot=[],Lt=new Set,Ft=rt.length;let wt=Z(rt,dt?function Ct(K){const pt=K.div,vt=pt.offsetLeft+pt.clientLeft;return lt?vt<Pt:vt+pt.clientWidth>ft}:function At(K){const pt=K.div;return pt.offsetTop+pt.clientTop+pt.clientHeight>_t});wt>0&&wt<Ft&&!dt&&(wt=M(wt,rt,_t));let Rt=dt?Pt:-1;for(let K=wt;K<Ft;K++){const pt=rt[K],vt=pt.div,bt=vt.offsetLeft+vt.clientLeft,yt=vt.offsetTop+vt.clientTop,Dt=vt.clientWidth,Nt=vt.clientHeight,zt=bt+Dt,Et=yt+Nt;if(-1===Rt)Et>=mt&&(Rt=Et);else if((dt?bt:yt)>Rt)break;if(Et<=_t||yt>=mt||zt<=ft||bt>=Pt)continue;const Bt=Math.max(0,_t-yt)+Math.max(0,Et-mt),Tt=(Dt-(Math.max(0,ft-bt)+Math.max(0,zt-Pt)))/Dt;Ot.push({id:pt.id,x:bt,y:yt,view:pt,percent:(Nt-Bt)/Nt*Tt*100|0,widthPercent:100*Tt|0}),Lt.add(pt.id)}const ot=Ot[0],X=Ot[Ot.length-1];return ut&&Ot.sort(function(K,pt){const vt=K.percent-pt.percent;return Math.abs(vt)>.001?-vt:K.id-pt.id}),{first:ot,last:X,views:Ot,ids:Lt}},t.isPortraitOrientation=function H(et){return et.width<=et.height},t.isValidRotation=function f(et){return Number.isInteger(et)&&et%90==0},t.isValidScrollMode=function C(et){return Number.isInteger(et)&&Object.values(T).includes(et)&&et!==T.UNKNOWN},t.isValidSpreadMode=function F(et){return Number.isInteger(et)&&Object.values(w).includes(et)&&et!==w.UNKNOWN},t.noContextMenuHandler=function i(et){et.preventDefault()},t.normalizeWheelEventDelta=function _(et){let rt=l(et);return 0===et.deltaMode?rt/=900:1===et.deltaMode&&(rt/=30),rt},t.normalizeWheelEventDirection=l,t.parseQueryString=function O(et){const rt=new Map;for(const[ut,dt]of new URLSearchParams(et))rt.set(ut.toLowerCase(),dt);return rt},t.removeNullCharacters=function S(et,rt=!1){return"string"!=typeof et?(console.error("The argument must be a string."),et):(rt&&(et=et.replace(V," ")),et.replace(N,""))},t.roundToDivide=function Q(et,rt){const ut=et%rt;return 0===ut?et:Math.round(et-ut+rt)},t.scrollIntoView=function d(et,rt,ut=!1){let dt=et.offsetParent;if(!dt)return void console.error("offsetParent is not set -- cannot scroll");let lt=et.offsetTop+et.clientTop,_t=et.offsetLeft+et.clientLeft;for(;dt.clientHeight===dt.scrollHeight&&dt.clientWidth===dt.scrollWidth||ut&&(dt.classList.contains("markedContent")||"hidden"===getComputedStyle(dt).overflow);)if(lt+=dt.offsetTop,_t+=dt.offsetLeft,dt=dt.offsetParent,!dt)return;rt&&(void 0!==rt.top&&(lt+=rt.top),void 0!==rt.left&&(_t+=rt.left,dt.scrollLeft=_t)),dt.scrollTop=lt},t.watchScroll=function k(et,rt){const ut=function(_t){lt||(lt=window.requestAnimationFrame(function(){lt=null;const ft=et.scrollLeft,Pt=dt.lastX;ft!==Pt&&(dt.right=ft>Pt),dt.lastX=ft;const At=et.scrollTop,Ct=dt.lastY;At!==Ct&&(dt.down=At>Ct),dt.lastY=At,rt(dt)}))},dt={right:!0,down:!0,lastX:et.scrollLeft,lastY:et.scrollTop,_eventHandler:ut};let lt=null;return et.addEventListener("scroll",ut,!0),dt},t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.DEFAULT_SCALE_DELTA=1.1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const s={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=s,t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const T={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};t.ScrollMode=T;const w={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=w,t.AutoPrintRegExp=/\bprint\s*\(/,t.OutputScale=class U{constructor(){const rt=window.devicePixelRatio||1;this.sx=rt,this.sy=rt}get scaled(){return 1!==this.sx||1!==this.sy}};const N=/\x00/g,V=/[\x01-\x1F]/g;function Z(et,rt,ut=0){let dt=ut,lt=et.length-1;if(lt<0||!rt(et[lt]))return et.length;if(rt(et[dt]))return dt;for(;dt<lt;){const _t=dt+lt>>1;rt(et[_t])?lt=_t:dt=_t+1}return dt}function M(et,rt,ut){if(et<2)return et;let dt=rt[et].div,lt=dt.offsetTop+dt.clientTop;lt>=ut&&(dt=rt[et-1].div,lt=dt.offsetTop+dt.clientTop);for(let _t=et-2;_t>=0&&(dt=rt[_t].div,!(dt.offsetTop+dt.clientTop+dt.clientHeight<=lt));--_t)et=_t;return et}function l(et){let rt=Math.hypot(et.deltaX,et.deltaY);const ut=Math.atan2(et.deltaY,et.deltaX);return-.25*Math.PI<ut&&ut<.75*Math.PI&&(rt=-rt),rt}const W=new Promise(function(et){window.requestAnimationFrame(et)});t.animationStarted=W,t.ProgressBar=class ${constructor(rt){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(rt+" .progress"),this.bar=this.div.parentNode,this.percent=0}#t(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}get percent(){return this._percent}set percent(rt){this._indeterminate=isNaN(rt),this._percent=function G(et,rt,ut){return Math.min(Math.max(et,rt),ut)}(rt,0,100),this.#t()}setWidth(rt){if(!rt)return;const dt=rt.parentNode.offsetWidth-rt.offsetWidth;dt>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${dt}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeLayerBuilder=void 0;const A={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},g=/^H(\d+)$/;t.StructTreeLayerBuilder=class b{constructor({pdfPage:B}){this.pdfPage=B}render(B){return this._walk(B)}_setAttributes(B,p){void 0!==B.alt&&p.setAttribute("aria-label",B.alt),void 0!==B.id&&p.setAttribute("aria-owns",B.id),void 0!==B.lang&&p.setAttribute("lang",B.lang)}_walk(B){if(!B)return null;const p=document.createElement("span");if("role"in B){const{role:c}=B,P=c.match(g);P?(p.setAttribute("role","heading"),p.setAttribute("aria-level",P[1])):A[c]&&p.setAttribute("role",A[c])}if(this._setAttributes(B,p),B.children)if(1===B.children.length&&"id"in B.children[0])this._setAttributes(B.children[0],p);else for(const c of B.children)p.appendChild(this._walk(c));return p}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=void 0;var g=A(3);t.TextLayerBuilder=class x{constructor({textLayerDiv:p,eventBus:c,pageIndex:P,viewport:h,highlighter:v=null,enhanceTextSelection:u=!1}){this.textLayerDiv=p,this.eventBus=c,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=P+1,this.viewport=h,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=v,this.enhanceTextSelection=u,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const p=document.createElement("div");p.className="endOfContent",this.textLayerDiv.appendChild(p)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(p=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const c=document.createDocumentFragment();this.textLayerRenderTask=(0,g.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:p,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(c),this._finishRendering(),this.highlighter?.enable()},function(P){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(p){this.cancel(),this.textContentStream=p}setTextContent(p){this.cancel(),this.textContent=p}_bindMouse(){const p=this.textLayerDiv;let c=null;p.addEventListener("mousedown",P=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(c&&(clearTimeout(c),c=null));const h=p.querySelector(".endOfContent");if(!h)return;let v=P.target!==p;if(v=v&&"none"!==window.getComputedStyle(h).getPropertyValue("-moz-user-select"),v){const u=p.getBoundingClientRect(),s=Math.max(0,(P.pageY-u.top)/u.height);h.style.top=(100*s).toFixed(2)+"%"}h.classList.add("active")}),p.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(c=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),c=null},300));const P=p.querySelector(".endOfContent");P&&(P.style.top="",P.classList.remove("active"))})}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayerBuilder=void 0;var g=A(3);t.XfaLayerBuilder=class b{constructor({pageDiv:B,pdfPage:p,annotationStorage:c=null,linkService:P,xfaHtml:h=null}){this.pageDiv=B,this.pdfPage=p,this.annotationStorage=c,this.linkService=P,this.xfaHtml=h,this.div=null,this._cancelled=!1}render(B,p="display"){if("print"===p){const c={viewport:B.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:p},P=document.createElement("div");this.pageDiv.appendChild(P),c.div=P;const h=g.XfaLayer.render(c);return Promise.resolve(h)}return this.pdfPage.getXfa().then(c=>{if(this._cancelled||!c)return{textDivs:[]};const P={viewport:B.clone({dontFlip:!0}),div:this.div,xfaHtml:c,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:p};return this.div?g.XfaLayer.update(P):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),P.div=this.div,g.XfaLayer.render(P))}).catch(c=>{console.error(c)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=t.PDFSinglePageViewer=void 0;var g=A(6),b=A(11);t.PDFViewer=class x extends b.BaseViewer{},t.PDFSinglePageViewer=class B extends b.BaseViewer{_resetView(){super._resetView(),this._scrollMode=g.ScrollMode.PAGE,this._spreadMode=g.SpreadMode.NONE}set scrollMode(c){}_updateScrollMode(){}set spreadMode(c){}_updateSpreadMode(){}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PagesCountLimit=t.PDFPageViewBuffer=t.BaseViewer=void 0;var g=A(3),b=A(6),x=A(2),B=A(4),p=A(12),c=A(14),P=A(5),h=A(7),v=A(15),u=A(8),s=A(9);const m="enablePermissions",T={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};t.PagesCountLimit=T;class w{#t=new Set;#e=0;constructor(d){this.#e=d}push(d){const k=this.#t;k.has(d)&&k.delete(d),k.add(d),k.size>this.#e&&this.#n()}resize(d,k=null){this.#e=d;const O=this.#t;if(k){const N=O.size;let V=1;for(const S of O)if(k.has(S.id)&&(O.delete(S),O.add(S)),++V>N)break}for(;O.size>this.#e;)this.#n()}has(d){return this.#t.has(d)}[Symbol.iterator](){return this.#t.keys()}#n(){const d=this.#t.keys().next().value;d?.destroy(),this.#t.delete(d)}}t.PDFPageViewBuffer=w;class I{#t=null;#e=g.AnnotationMode.ENABLE_FORMS;#n=null;#s=!1;#d=0;#l=null;#i=null;constructor(d){if(this.constructor===I)throw new Error("Cannot initialize BaseViewer.");const k="2.14.305";if(g.version!==k)throw new Error(`The API version "${g.version}" does not match the Viewer version "${k}".`);if(this.container=d.container,this.viewer=d.viewer||d.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=d.eventBus,this.linkService=d.linkService||new P.SimpleLinkService,this.downloadManager=d.downloadManager||null,this.findController=d.findController||null,this._scriptingManager=d.scriptingManager||null,this.removePageBorders=d.removePageBorders||!1,this.textLayerMode=d.textLayerMode??b.TextLayerMode.ENABLE,this.#e=d.annotationMode??g.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=d.imageResourcesPath||"",this.enablePrintAutoRotate=d.enablePrintAutoRotate||!1,this.renderer=d.renderer||b.RendererType.CANVAS,this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels,this.l10n=d.l10n||B.NullL10n,this.#s=d.enablePermissions||!1,this.pageColors=d.pageColors||null,d.pageColors&&(!CSS.supports("color",d.pageColors.background)||!CSS.supports("color",d.pageColors.foreground))&&((d.pageColors.background||d.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!d.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new c.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=d.renderingQueue,this._doc=document.documentElement,this.scroll=(0,b.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=b.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(d){return this._pages[d]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(d){return d?.pdfPage})}get renderForms(){return this.#e===g.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(d){if(!Number.isInteger(d))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(d,!0)||console.error(`currentPageNumber: "${d}" is not a valid page.`))}_setCurrentPageNumber(d,k=!1){if(this._currentPageNumber===d)return k&&this.#h(),!0;if(!(0<d&&d<=this.pagesCount))return!1;const O=this._currentPageNumber;return this._currentPageNumber=d,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:d,pageLabel:this._pageLabels?.[d-1]??null,previous:O}),k&&this.#h(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(d){if(!this.pdfDocument)return;let k=0|d;if(this._pageLabels){const O=this._pageLabels.indexOf(d);O>=0&&(k=O+1)}this._setCurrentPageNumber(k,!0)||console.error(`currentPageLabel: "${d}" is not a valid page.`)}get currentScale(){return this._currentScale!==b.UNKNOWN_SCALE?this._currentScale:b.DEFAULT_SCALE}set currentScale(d){if(isNaN(d))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(d,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(d){this.pdfDocument&&this._setScale(d,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(d){if(!(0,b.isValidRotation)(d))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((d%=360)<0&&(d+=360),this._pagesRotation===d))return;this._pagesRotation=d;const k=this._currentPageNumber,O={rotation:d};for(const N of this._pages)N.update(O);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:d,pageNumber:k}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#p(d){d&&(d.includes(g.PermissionFlag.COPY)||this.viewer.classList.add(m),!d.includes(g.PermissionFlag.MODIFY_ANNOTATIONS)&&!d.includes(g.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#e===g.AnnotationMode.ENABLE_FORMS&&(this.#n=this.#e,this.#e=g.AnnotationMode.ENABLE))}#_(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const d=new Promise(k=>{this.#i=()=>{"hidden"===document.visibilityState&&(k(),document.removeEventListener("visibilitychange",this.#i),this.#i=null)},document.addEventListener("visibilitychange",this.#i)});return Promise.race([this._onePageRenderedCapability.promise,d])}setDocument(d){var k=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=d,!d)return;const O=d.isPureXfa,N=d.numPages,V=d.getPage(1),S=d.getOptionalContentConfig(),Z=this.#s?d.getPermissions():Promise.resolve();if(N>T.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const j=this._scrollMode=b.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:j})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:N})},()=>{}),this._onBeforeDraw=j=>{const Q=this._pages[j.pageNumber-1];Q&&this.#t.push(Q)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=j=>{j.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:j.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([V,Z]).then(([j,Q])=>{if(d!==this.pdfDocument)return;this._firstPageCapability.resolve(j),this._optionalContentConfigPromise=S,this.#p(Q);const it=this._scrollMode===b.ScrollMode.PAGE?null:this.viewer,M=this.currentScale,e=j.getViewport({scale:M*g.PixelsPerInch.PDF_TO_CSS_UNITS}),i=this.textLayerMode===b.TextLayerMode.DISABLE||O?null:this,l=this.#e!==g.AnnotationMode.DISABLE?this:null,_=O?this:null;for(let C=1;C<=N;++C){const F=new p.PDFPageView({container:it,eventBus:this.eventBus,id:C,scale:M,defaultViewport:e.clone(),optionalContentConfigPromise:S,renderingQueue:this.renderingQueue,textLayerFactory:i,textLayerMode:this.textLayerMode,annotationLayerFactory:l,annotationMode:this.#e,xfaLayerFactory:_,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(F)}const f=this._pages[0];f&&(f.setPdfPage(j),this.linkService.cachePageRef(1,j.ref)),this._scrollMode===b.ScrollMode.PAGE?this.#r():this._spreadMode!==b.SpreadMode.NONE&&this._updateSpreadMode(),this.#_().then(r(function*(){if(k.findController&&k.findController.setDocument(d),k._scriptingManager&&k._scriptingManager.setDocument(d),d.loadingParams.disableAutoFetch||N>T.FORCE_LAZY_PAGE_INIT)return void k._pagesCapability.resolve();let C=N-1;if(C<=0)k._pagesCapability.resolve();else for(let F=2;F<=N;++F){const H=d.getPage(F).then(W=>{const G=k._pages[F-1];G.pdfPage||G.setPdfPage(W),k.linkService.cachePageRef(F,W.ref),0==--C&&k._pagesCapability.resolve()},W=>{console.error(`Unable to get page ${F} to initialize viewer`,W),0==--C&&k._pagesCapability.resolve()});F%T.PAUSE_EAGER_PAGE_INIT==0&&(yield H)}})),this.eventBus.dispatch("pagesinit",{source:this}),d.getMetadata().then(({info:C})=>{d===this.pdfDocument&&C.Language&&(this.viewer.lang=C.Language)}),this.defaultRenderingQueue&&this.update()}).catch(j=>{console.error("Unable to initialize viewer",j),this._pagesCapability.reject(j)})}setPageLabels(d){if(this.pdfDocument){d?Array.isArray(d)&&this.pdfDocument.numPages===d.length?this._pageLabels=d:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let k=0,O=this._pages.length;k<O;k++)this._pages[k].setPageLabel(this._pageLabels?.[k]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=b.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#t=new w(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,g.createPromiseCapability)(),this._onePageRenderedCapability=(0,g.createPromiseCapability)(),this._pagesCapability=(0,g.createPromiseCapability)(),this._scrollMode=b.ScrollMode.VERTICAL,this._previousScrollMode=b.ScrollMode.UNKNOWN,this._spreadMode=b.SpreadMode.NONE,this.#l={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(m),null!==this.#n&&(this.#e=this.#n,this.#n=null)}#r(){if(this._scrollMode!==b.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const d=this._currentPageNumber,k=this.#l,O=this.viewer;if(O.textContent="",k.pages.length=0,this._spreadMode!==b.SpreadMode.NONE||this.isInPresentationMode){const N=new Set,V=this._spreadMode-1;-1===V?N.add(d-1):d%2!==V?(N.add(d-1),N.add(d)):(N.add(d-2),N.add(d-1));const S=document.createElement("div");if(S.className="spread",this.isInPresentationMode){const Z=document.createElement("div");Z.className="dummyPage",S.appendChild(Z)}for(const Z of N){const j=this._pages[Z];j&&(S.appendChild(j.div),k.pages.push(j))}O.appendChild(S)}else{const N=this._pages[d-1];O.appendChild(N.div),k.pages.push(N)}k.scrollDown=d>=k.previousPageNumber,k.previousPageNumber=d}_scrollUpdate(){0!==this.pagesCount&&this.update()}#o(d,k=null){const{div:O,id:N}=d;if(this._scrollMode===b.ScrollMode.PAGE&&(this._setCurrentPageNumber(N),this.#r(),this.update()),!k&&!this.isInPresentationMode){const V=O.offsetLeft+O.clientLeft,S=V+O.clientWidth,{scrollLeft:Z,clientWidth:j}=this.container;(this._scrollMode===b.ScrollMode.HORIZONTAL||V<Z||S>Z+j)&&(k={left:0,top:0})}(0,b.scrollIntoView)(O,k)}#a(d){return d===this._currentScale||Math.abs(d-this._currentScale)<1e-15}_setScaleUpdatePages(d,k,O=!1,N=!1){if(this._currentScaleValue=k.toString(),this.#a(d))return void(N&&this.eventBus.dispatch("scalechanging",{source:this,scale:d,presetValue:k}));this._doc.style.setProperty("--zoom-factor",d);const V={scale:d};for(const S of this._pages)S.update(V);if(this._currentScale=d,!O){let Z,S=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(S=this._location.pageNumber,Z=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:S,destArray:Z,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:d,presetValue:N?k:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL?2:1}_setScale(d,k=!1){let O=parseFloat(d);if(O>0)this._setScaleUpdatePages(O,d,k,!1);else{const N=this._pages[this._currentPageNumber-1];if(!N)return;let V=b.SCROLLBAR_PADDING,S=b.VERTICAL_PADDING;this.isInPresentationMode?V=S=4:this.removePageBorders?V=S=0:this._scrollMode===b.ScrollMode.HORIZONTAL&&([V,S]=[S,V]);const Z=(this.container.clientWidth-V)/N.width*N.scale/this._pageWidthScaleFactor,j=(this.container.clientHeight-S)/N.height*N.scale;switch(d){case"page-actual":O=1;break;case"page-width":O=Z;break;case"page-height":O=j;break;case"page-fit":O=Math.min(Z,j);break;case"auto":const Q=(0,b.isPortraitOrientation)(N)?Z:Math.min(j,Z);O=Math.min(b.MAX_AUTO_SCALE,Q);break;default:return void console.error(`_setScale: "${d}" is an unknown zoom value.`)}this._setScaleUpdatePages(O,d,k,!0)}}#h(){const d=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#o(d)}pageLabelToPageNumber(d){if(!this._pageLabels)return null;const k=this._pageLabels.indexOf(d);return k<0?null:k+1}scrollPageIntoView({pageNumber:d,destArray:k=null,allowNegativeOffset:O=!1,ignoreDestinationZoom:N=!1}){if(!this.pdfDocument)return;const V=Number.isInteger(d)&&this._pages[d-1];if(!V)return void console.error(`scrollPageIntoView: "${d}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!k)return void this._setCurrentPageNumber(d,!0);let it,M,S=0,Z=0,j=0,Q=0;const e=V.rotation%180!=0,i=(e?V.height:V.width)/V.scale/g.PixelsPerInch.PDF_TO_CSS_UNITS,l=(e?V.width:V.height)/V.scale/g.PixelsPerInch.PDF_TO_CSS_UNITS;let _=0;switch(k[1].name){case"XYZ":S=k[2],Z=k[3],_=k[4],S=null!==S?S:0,Z=null!==Z?Z:l;break;case"Fit":case"FitB":_="page-fit";break;case"FitH":case"FitBH":Z=k[2],_="page-width",null===Z&&this._location?(S=this._location.left,Z=this._location.top):("number"!=typeof Z||Z<0)&&(Z=l);break;case"FitV":case"FitBV":S=k[2],j=i,Q=l,_="page-height";break;case"FitR":S=k[2],Z=k[3],j=k[4]-S,Q=k[5]-Z,it=(this.container.clientWidth-(this.removePageBorders?0:b.SCROLLBAR_PADDING))/j/g.PixelsPerInch.PDF_TO_CSS_UNITS,M=(this.container.clientHeight-(this.removePageBorders?0:b.VERTICAL_PADDING))/Q/g.PixelsPerInch.PDF_TO_CSS_UNITS,_=Math.min(Math.abs(it),Math.abs(M));break;default:return void console.error(`scrollPageIntoView: "${k[1].name}" is not a valid destination type.`)}if(N||(_&&_!==this._currentScale?this.currentScaleValue=_:this._currentScale===b.UNKNOWN_SCALE&&(this.currentScaleValue=b.DEFAULT_SCALE_VALUE)),"page-fit"===_&&!k[4])return void this.#o(V);const f=[V.viewport.convertToViewportPoint(S,Z),V.viewport.convertToViewportPoint(S+j,Z+Q)];let C=Math.min(f[0][0],f[1][0]),F=Math.min(f[0][1],f[1][1]);O||(C=Math.max(C,0),F=Math.max(F,0)),this.#o(V,{left:C,top:F})}_updateLocation(d){const k=this._currentScale,O=this._currentScaleValue,N=parseFloat(O)===k?Math.round(1e4*k)/100:O,V=d.id,Z=this.container,j=this._pages[V-1].getPagePoint(Z.scrollLeft-d.x,Z.scrollTop-d.y),Q=Math.round(j[0]),it=Math.round(j[1]);let M=`#page=${V}`;this.isInPresentationMode||(M+=`&zoom=${N},${Q},${it}`),this._location={pageNumber:V,scale:N,top:it,left:Q,rotation:this._pagesRotation,pdfOpenParams:M}}update(){const d=this._getVisiblePages(),k=d.views,O=k.length;if(0===O)return;const N=Math.max(10,2*O+1);this.#t.resize(N,d.ids),this.renderingQueue.renderHighestPriority(d);const V=this._spreadMode===b.SpreadMode.NONE&&(this._scrollMode===b.ScrollMode.PAGE||this._scrollMode===b.ScrollMode.VERTICAL),S=this._currentPageNumber;let Z=!1;for(const j of k){if(j.percent<100)break;if(j.id===S&&V){Z=!0;break}}this._setCurrentPageNumber(Z?S:k[0].id),this._updateLocation(d.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(d){return this.container.contains(d)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===b.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===b.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const d=this._scrollMode===b.ScrollMode.PAGE?this.#l.pages:this._pages,k=this._scrollMode===b.ScrollMode.HORIZONTAL;return(0,b.getVisibleElements)({scrollEl:this.container,views:d,sortByVisibility:!0,horizontal:k,rtl:k&&this._isContainerRtl})}isPageVisible(d){return!!this.pdfDocument&&(Number.isInteger(d)&&d>0&&d<=this.pagesCount?this._getVisiblePages().ids.has(d):(console.error(`isPageVisible: "${d}" is not a valid page.`),!1))}isPageCached(d){return!!this.pdfDocument&&(Number.isInteger(d)&&d>0&&d<=this.pagesCount?this.#t.has(this._pages[d-1]):(console.error(`isPageCached: "${d}" is not a valid page.`),!1))}cleanup(){for(const d of this._pages)d.renderingState!==b.RenderingStates.FINISHED&&d.reset()}_cancelRendering(){for(const d of this._pages)d.cancelRendering()}#u(d){var k=this;return r(function*(){if(d.pdfPage)return d.pdfPage;try{const O=yield k.pdfDocument.getPage(d.id);return d.pdfPage||d.setPdfPage(O),k.linkService._cachedPageNumber?.(O.ref)||k.linkService.cachePageRef(d.id,O.ref),O}catch(O){return console.error("Unable to get page for page view",O),null}})()}#f(d){if(1===d.first?.id)return!0;if(d.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case b.ScrollMode.PAGE:return this.#l.scrollDown;case b.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#c(d){for(const k of d)this._pages[k-1]?.toggleLoadingIconSpinner(!0);for(const k of this.#t)d.has(k.id)||k.toggleLoadingIconSpinner(!1)}forceRendering(d){const k=d||this._getVisiblePages(),O=this.#f(k),V=this.renderingQueue.getHighestPriority(k,this._pages,O,this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL);return this.#c(k.ids),!!V&&(this.#u(V).then(()=>{this.renderingQueue.renderView(V)}),!0)}createTextLayerBuilder(d,k,O,N=!1,V,S){return new u.TextLayerBuilder({textLayerDiv:d,eventBus:V,pageIndex:k,viewport:O,enhanceTextSelection:!this.isInPresentationMode&&N,highlighter:S})}createTextHighlighter(d,k){return new v.TextHighlighter({eventBus:k,pageIndex:d,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(d,k,O=null,N="",V=!0,S=B.NullL10n,Z=null,j=null,Q=null,it=null,M=null){return new x.AnnotationLayerBuilder({pageDiv:d,pdfPage:k,annotationStorage:O||this.pdfDocument?.annotationStorage,imageResourcesPath:N,renderForms:V,linkService:this.linkService,downloadManager:this.downloadManager,l10n:S,enableScripting:Z??this.enableScripting,hasJSActionsPromise:j||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:it||this.pdfDocument?.getFieldObjects(),mouseState:Q||this._scriptingManager?.mouseState,annotationCanvasMap:M})}createXfaLayerBuilder(d,k,O=null){return new s.XfaLayerBuilder({pageDiv:d,pdfPage:k,annotationStorage:O||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(d){return new h.StructTreeLayerBuilder({pdfPage:d})}get hasEqualPageSizes(){const d=this._pages[0];for(let k=1,O=this._pages.length;k<O;++k){const N=this._pages[k];if(N.width!==d.width||N.height!==d.height)return!1}return!0}getPagesOverview(){return this._pages.map(d=>{const k=d.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,b.isPortraitOrientation)(k)?{width:k.width,height:k.height,rotation:k.rotation}:{width:k.height,height:k.width,rotation:(k.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(d){if(!(d instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${d}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=d;const k={optionalContentConfigPromise:d};for(const O of this._pages)O.update(k);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:d})}get scrollMode(){return this._scrollMode}set scrollMode(d){if(this._scrollMode!==d){if(!(0,b.isValidScrollMode)(d))throw new Error(`Invalid scroll mode: ${d}`);this.pagesCount>T.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=d,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:d}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(d=null){const k=this._scrollMode,O=this.viewer;O.classList.toggle("scrollHorizontal",k===b.ScrollMode.HORIZONTAL),O.classList.toggle("scrollWrapped",k===b.ScrollMode.WRAPPED),this.pdfDocument&&d&&(k===b.ScrollMode.PAGE?this.#r():this._previousScrollMode===b.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(d,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(d){if(this._spreadMode!==d){if(!(0,b.isValidSpreadMode)(d))throw new Error(`Invalid spread mode: ${d}`);this._spreadMode=d,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:d}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(d=null){if(!this.pdfDocument)return;const k=this.viewer,O=this._pages;if(this._scrollMode===b.ScrollMode.PAGE)this.#r();else if(k.textContent="",this._spreadMode===b.SpreadMode.NONE)for(const N of this._pages)k.appendChild(N.div);else{const N=this._spreadMode-1;let V=null;for(let S=0,Z=O.length;S<Z;++S)null===V?(V=document.createElement("div"),V.className="spread",k.appendChild(V)):S%2===N&&(V=V.cloneNode(!1),k.appendChild(V)),V.appendChild(O[S].div)}d&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(d,!0),this.update())}_getPageAdvance(d,k=!1){switch(this._scrollMode){case b.ScrollMode.WRAPPED:{const{views:O}=this._getVisiblePages(),N=new Map;for(const{id:V,y:S,percent:Z,widthPercent:j}of O){if(0===Z||j<100)continue;let Q=N.get(S);Q||N.set(S,Q||=[]),Q.push(V)}for(const V of N.values()){const S=V.indexOf(d);if(-1===S)continue;const Z=V.length;if(1===Z)break;if(k)for(let j=S-1,Q=0;j>=Q;j--){const M=V[j+1]-1;if(V[j]<M)return d-M}else for(let j=S+1,Q=Z;j<Q;j++){const M=V[j-1]+1;if(V[j]>M)return M-d}if(k){const j=V[0];if(j<d)return d-j+1}else{const j=V[Z-1];if(j>d)return j-d+1}break}break}case b.ScrollMode.HORIZONTAL:break;case b.ScrollMode.PAGE:case b.ScrollMode.VERTICAL:{if(this._spreadMode===b.SpreadMode.NONE)break;const O=this._spreadMode-1;if(k&&d%2!==O)break;if(!k&&d%2===O)break;const{views:N}=this._getVisiblePages(),V=k?d-1:d+1;for(const{id:S,percent:Z,widthPercent:j}of N)if(S===V){if(Z>0&&100===j)return 2;break}break}}return 1}nextPage(){const d=this._currentPageNumber,k=this.pagesCount;if(d>=k)return!1;const O=this._getPageAdvance(d,!1)||1;return this.currentPageNumber=Math.min(d+O,k),!0}previousPage(){const d=this._currentPageNumber;if(d<=1)return!1;const k=this._getPageAdvance(d,!0)||1;return this.currentPageNumber=Math.max(d-k,1),!0}increaseScale(d=1){let k=this._currentScale;do{k=(k*b.DEFAULT_SCALE_DELTA).toFixed(2),k=Math.ceil(10*k)/10,k=Math.min(b.MAX_SCALE,k)}while(--d>0&&k<b.MAX_SCALE);this.currentScaleValue=k}decreaseScale(d=1){let k=this._currentScale;do{k=(k/b.DEFAULT_SCALE_DELTA).toFixed(2),k=Math.floor(10*k)/10,k=Math.max(b.MIN_SCALE,k)}while(--d>0&&k>b.MIN_SCALE);this.currentScaleValue=k}updateContainerHeightCss(){const d=this.container.clientHeight;d!==this.#d&&(this.#d=d,this._doc.style.setProperty("--viewer-container-height",`${d}px`))}}t.BaseViewer=I},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var g=A(3),b=A(6),x=A(13),B=A(4);const p=x.compatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=class c{#t=g.AnnotationMode.ENABLE_FORMS;constructor(h){const v=h.container,u=h.defaultViewport;this.id=h.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=h.scale||b.DEFAULT_SCALE,this.viewport=u,this.pdfPageRotate=u.rotation,this._optionalContentConfigPromise=h.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=h.textLayerMode??b.TextLayerMode.ENABLE,this.#t=h.annotationMode??g.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=h.imageResourcesPath||"",this.useOnlyCssZoom=h.useOnlyCssZoom||!1,this.maxCanvasPixels=h.maxCanvasPixels||p,this.pageColors=h.pageColors||null,this.eventBus=h.eventBus,this.renderingQueue=h.renderingQueue,this.textLayerFactory=h.textLayerFactory,this.annotationLayerFactory=h.annotationLayerFactory,this.xfaLayerFactory=h.xfaLayerFactory,this.textHighlighter=h.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=h.structTreeLayerFactory,this.renderer=h.renderer||b.RendererType.CANVAS,this.l10n=h.l10n||B.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=b.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(o=>{s.setAttribute("aria-label",o)}),this.div=s,v?.appendChild(s)}setPdfPage(h){this.pdfPage=h,this.pdfPageRotate=h.rotate,this.viewport=h.getViewport({scale:this.scale*g.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var h=this;return r(function*(){let v=null;try{yield h.annotationLayer.render(h.viewport,"display")}catch(u){v=u}finally{h.eventBus.dispatch("annotationlayerrendered",{source:h,pageNumber:h.id,error:v})}})()}_renderXfaLayer(){var h=this;return r(function*(){let v=null;try{const u=yield h.xfaLayer.render(h.viewport,"display");h.textHighlighter&&h._buildXfaTextContentItems(u.textDivs)}catch(u){v=u}finally{h.eventBus.dispatch("xfalayerrendered",{source:h,pageNumber:h.id,error:v})}})()}_buildXfaTextContentItems(h){var v=this;return r(function*(){const u=yield v.pdfPage.getTextContent(),s=[];for(const o of u.items)s.push(o.str);v.textHighlighter.setTextMapping(h,s),v.textHighlighter.enable()})()}_resetZoomLayer(h=!1){if(!this.zoomLayer)return;const v=this.zoomLayer.firstChild;this.paintedViewportMap.delete(v),v.width=0,v.height=0,h&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:h=!1,keepAnnotationLayer:v=!1,keepXfaLayer:u=!1}={}){this.cancelRendering({keepAnnotationLayer:v,keepXfaLayer:u}),this.renderingState=b.RenderingStates.INITIAL;const s=this.div;s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";const o=s.childNodes,m=h&&this.zoomLayer||null,T=v&&this.annotationLayer?.div||null,w=u&&this.xfaLayer?.div||null;for(let I=o.length-1;I>=0;I--){const U=o[I];switch(U){case m:case T:case w:continue}U.remove()}s.removeAttribute("data-loaded"),T&&this.annotationLayer.hide(),w&&this.xfaLayer.hide(),m||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(I=>{this.loadingIconDiv?.setAttribute("aria-label",I)}),s.appendChild(this.loadingIconDiv)}update({scale:h=0,rotation:v=null,optionalContentConfigPromise:u=null}){if(this.scale=h||this.scale,"number"==typeof v&&(this.rotation=v),u instanceof Promise&&(this._optionalContentConfigPromise=u),this.viewport=this.viewport.clone({scale:this.scale*g.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:m}=document.documentElement;m.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let o=!1;if(this.canvas&&this.maxCanvasPixels>0){const m=this.outputScale;(Math.floor(this.viewport.width)*m.sx|0)*(Math.floor(this.viewport.height)*m.sy|0)>this.maxCanvasPixels&&(o=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&o)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:h=!1,keepXfaLayer:v=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!h||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!v||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:h,redrawAnnotationLayer:v=!1,redrawXfaLayer:u=!1}){const s=this.viewport.width,o=this.viewport.height,m=this.div;h.style.width=h.parentNode.style.width=m.style.width=Math.floor(s)+"px",h.style.height=h.parentNode.style.height=m.style.height=Math.floor(o)+"px";const T=this.viewport.rotation-this.paintedViewportMap.get(h).rotation,w=Math.abs(T);let I=1,U=1;if((90===w||270===w)&&(I=o/s,U=s/o),h.style.transform=`rotate(${T}deg) scale(${I}, ${U})`,this.textLayer){const d=this.textLayer.viewport,O=Math.abs(this.viewport.rotation-d.rotation);let N=s/d.width;(90===O||270===O)&&(N=s/d.height);const V=this.textLayer.textLayerDiv;let S,Z;switch(O){case 0:S=Z=0;break;case 90:S=0,Z="-"+V.style.height;break;case 180:S="-"+V.style.width,Z="-"+V.style.height;break;case 270:S="-"+V.style.width,Z=0;break;default:console.error("Bad rotation value.")}V.style.transform=`rotate(${O}deg) scale(${N}) translate(${S}, ${Z})`,V.style.transformOrigin="0% 0%"}v&&this.annotationLayer&&this._renderAnnotationLayer(),u&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(h,v){return this.viewport.convertToPdfPoint(h,v)}toggleLoadingIconSpinner(h=!1){this.loadingIconDiv?.classList.toggle("notVisible",!h)}draw(){var h=this;this.renderingState!==b.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:v,pdfPage:u}=this;if(!u)return this.renderingState=b.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=b.RenderingStates.RUNNING;const s=document.createElement("div");s.style.width=v.style.width,s.style.height=v.style.height,s.classList.add("canvasWrapper"),this.annotationLayer?.div?v.insertBefore(s,this.annotationLayer.div):v.appendChild(s);let o=null;if(this.textLayerMode!==b.TextLayerMode.DISABLE&&this.textLayerFactory){const U=document.createElement("div");U.className="textLayer",U.style.width=s.style.width,U.style.height=s.style.height,this.annotationLayer?.div?v.insertBefore(U,this.annotationLayer.div):v.appendChild(U),o=this.textLayerFactory.createTextLayerBuilder(U,this.id-1,this.viewport,this.textLayerMode===b.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=o,this.#t!==g.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(v,u,null,this.imageResourcesPath,this.#t===g.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&v.appendChild(this.xfaLayer.div);let m=null;this.renderingQueue&&(m=U=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=b.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=b.RenderingStates.RUNNING,U()});U()});const T=function(){var U=r(function*(d=null){if(w===h.paintTask&&(h.paintTask=null),d instanceof g.RenderingCancelledException)h._renderError=null;else if(h._renderError=d,h.renderingState=b.RenderingStates.FINISHED,h.loadingIconDiv&&(h.loadingIconDiv.remove(),delete h.loadingIconDiv),h._resetZoomLayer(!0),h.eventBus.dispatch("pagerendered",{source:h,pageNumber:h.id,cssTransform:!1,timestamp:performance.now(),error:h._renderError}),d)throw d});return function(){return U.apply(this,arguments)}}(),w=this.renderer===b.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);w.onRenderContinue=m,this.paintTask=w;const I=w.promise.then(()=>T(null).then(()=>{if(o){const U=u.streamTextContent({includeMarkedContent:!0});o.setTextContentStream(U),o.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(U){return T(U)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(v,u,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=U=>{U.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(d=>{if(!d||!this.canvas)return;const k=this.structTreeLayer.render(d);k.classList.add("structTree"),this.canvas.appendChild(k)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(u)),v.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),I}paintOnCanvas(h){const v=(0,g.createPromiseCapability)(),u={promise:v.promise,onRenderContinue(V){V()},cancel(){N.cancel()}},s=this.viewport,o=document.createElement("canvas");o.hidden=!0;let m=!0;const T=function(){m&&(o.hidden=!1,m=!1)};h.appendChild(o),this.canvas=o;const w=o.getContext("2d",{alpha:!1}),I=this.outputScale=new b.OutputScale;if(this.useOnlyCssZoom){const V=s.clone({scale:g.PixelsPerInch.PDF_TO_CSS_UNITS});I.sx*=V.width/s.width,I.sy*=V.height/s.height}if(this.maxCanvasPixels>0){const S=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));I.sx>S||I.sy>S?(I.sx=S,I.sy=S,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const U=(0,b.approximateFraction)(I.sx),d=(0,b.approximateFraction)(I.sy);o.width=(0,b.roundToDivide)(s.width*I.sx,U[0]),o.height=(0,b.roundToDivide)(s.height*I.sy,d[0]),o.style.width=(0,b.roundToDivide)(s.width,U[1])+"px",o.style.height=(0,b.roundToDivide)(s.height,d[1])+"px",this.paintedViewportMap.set(o,s);const O={canvasContext:w,transform:I.scaled?[I.sx,0,0,I.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#t,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},N=this.pdfPage.render(O);return N.onContinue=function(V){T(),u.onRenderContinue?u.onRenderContinue(V):V()},N.promise.then(function(){T(),v.resolve()},function(V){T(),v.reject(V)}),u}paintOnSvg(h){let v=!1;const u=()=>{if(v)throw new g.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,o=this.viewport.clone({scale:g.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:this.#t}).then(T=>(u(),new g.SVGGraphics(s.commonObjs,s.objs).getSVG(T,o).then(I=>{u(),this.svg=I,this.paintedViewportMap.set(I,o),I.style.width=h.style.width,I.style.height=h.style.height,this.renderingState=b.RenderingStates.FINISHED,h.appendChild(I)}))),onRenderContinue(T){T()},cancel(){v=!0}}}setPageLabel(h){this.pageLabel="string"==typeof h?h:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compatibilityParams=t.OptionKind=t.AppOptions=void 0;const A=Object.create(null);t.compatibilityParams=A;{const p=navigator.userAgent||"",c=navigator.platform||"",P=navigator.maxTouchPoints||1,h=/Android/.test(p);(/\b(iPad|iPhone|iPod)(?=;)/.test(p)||"MacIntel"===c&&P>1||h)&&(A.maxCanvasPixels=5242880)}const g={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=g;const b={annotationMode:{value:2,kind:g.VIEWER+g.PREFERENCE},cursorToolOnLoad:{value:0,kind:g.VIEWER+g.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:g.VIEWER},defaultZoomValue:{value:"",kind:g.VIEWER+g.PREFERENCE},disableHistory:{value:!1,kind:g.VIEWER},disablePageLabels:{value:!1,kind:g.VIEWER+g.PREFERENCE},enablePermissions:{value:!1,kind:g.VIEWER+g.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:g.VIEWER+g.PREFERENCE},enableScripting:{value:!0,kind:g.VIEWER+g.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:g.VIEWER},externalLinkTarget:{value:0,kind:g.VIEWER+g.PREFERENCE},historyUpdateUrl:{value:!1,kind:g.VIEWER+g.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:g.VIEWER+g.PREFERENCE},imageResourcesPath:{value:"./images/",kind:g.VIEWER},maxCanvasPixels:{value:16777216,compatibility:A.maxCanvasPixels,kind:g.VIEWER},pageColorsBackground:{value:"Canvas",kind:g.VIEWER+g.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:g.VIEWER+g.PREFERENCE},pdfBugEnabled:{value:!1,kind:g.VIEWER+g.PREFERENCE},printResolution:{value:150,kind:g.VIEWER},renderer:{value:"canvas",kind:g.VIEWER},sidebarViewOnLoad:{value:-1,kind:g.VIEWER+g.PREFERENCE},scrollModeOnLoad:{value:-1,kind:g.VIEWER+g.PREFERENCE},spreadModeOnLoad:{value:-1,kind:g.VIEWER+g.PREFERENCE},textLayerMode:{value:1,kind:g.VIEWER+g.PREFERENCE},useOnlyCssZoom:{value:!1,kind:g.VIEWER+g.PREFERENCE},viewerCssTheme:{value:0,kind:g.VIEWER+g.PREFERENCE},viewOnLoad:{value:0,kind:g.VIEWER+g.PREFERENCE},cMapPacked:{value:!0,kind:g.API},cMapUrl:{value:"../web/cmaps/",kind:g.API},disableAutoFetch:{value:!1,kind:g.API+g.PREFERENCE},disableFontFace:{value:!1,kind:g.API+g.PREFERENCE},disableRange:{value:!1,kind:g.API+g.PREFERENCE},disableStream:{value:!1,kind:g.API+g.PREFERENCE},docBaseUrl:{value:"",kind:g.API},enableXfa:{value:!0,kind:g.API+g.PREFERENCE},fontExtraProperties:{value:!1,kind:g.API},isEvalSupported:{value:!0,kind:g.API},maxImageSize:{value:-1,kind:g.API},pdfBug:{value:!1,kind:g.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:g.API},verbosity:{value:1,kind:g.API},workerPort:{value:null,kind:g.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:g.WORKER}};b.disablePreferences={value:!1,kind:g.VIEWER},b.locale={value:navigator.language||"en-US",kind:g.VIEWER},b.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:g.VIEWER},b.renderer.kind+=g.PREFERENCE;const x=Object.create(null);t.AppOptions=class B{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(c){const P=x[c];if(void 0!==P)return P;const h=b[c];return void 0!==h?h.compatibility??h.value:void 0}static getAll(c=null){const P=Object.create(null);for(const h in b){const v=b[h];if(c){if(!(c&v.kind))continue;if(c===g.PREFERENCE){const s=v.value,o=typeof s;if("boolean"===o||"string"===o||"number"===o&&Number.isInteger(s)){P[h]=s;continue}throw new Error(`Invalid type for preference: ${h}`)}}const u=x[h];P[h]=void 0!==u?u:v.compatibility??v.value}return P}static set(c,P){x[c]=P}static setAll(c){for(const P in c)x[P]=c[P]}static remove(c){delete x[c]}static _hasUserOptions(){return Object.keys(x).length>0}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=void 0;var g=A(3),b=A(6);t.PDFRenderingQueue=class B{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(c){this.pdfViewer=c}setThumbnailViewer(c){this.pdfThumbnailViewer=c}isHighestPriority(c){return this.highestPriorityPage===c.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(c){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(c)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(c,P,h,v=!1){const u=c.views,s=u.length;if(0===s)return null;for(let I=0;I<s;I++){const U=u[I].view;if(!this.isViewFinished(U))return U}const o=c.first.id,m=c.last.id;if(m-o+1>s){const I=c.ids;for(let U=1,d=m-o;U<d;U++){const k=h?o+U:m-U;if(I.has(k))continue;const O=P[k-1];if(!this.isViewFinished(O))return O}}let T=h?m:o-2,w=P[T];return w&&!this.isViewFinished(w)||v&&(T+=h?1:-1,w=P[T],w&&!this.isViewFinished(w))?w:null}isViewFinished(c){return c.renderingState===b.RenderingStates.FINISHED}renderView(c){switch(c.renderingState){case b.RenderingStates.FINISHED:return!1;case b.RenderingStates.PAUSED:this.highestPriorityPage=c.renderingId,c.resume();break;case b.RenderingStates.RUNNING:this.highestPriorityPage=c.renderingId;break;case b.RenderingStates.INITIAL:this.highestPriorityPage=c.renderingId,c.draw().finally(()=>{this.renderHighestPriority()}).catch(P=>{P instanceof g.RenderingCancelledException||console.error(`renderView: "${P}"`)})}return!0}}},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlighter=void 0,t.TextHighlighter=class A{constructor({findController:b,eventBus:x,pageIndex:B}){this.findController=b,this.matches=[],this.eventBus=x,this.pageIdx=B,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(b,x){this.textDivs=b,this.textContentItemsStr=x}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=b=>{(b.pageIndex===this.pageIdx||-1===b.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(b,x){if(!b)return[];const{textContentItemsStr:B}=this;let p=0,c=0;const P=B.length-1,h=[];for(let v=0,u=b.length;v<u;v++){let s=b[v];for(;p!==P&&s>=c+B[p].length;)c+=B[p].length,p++;p===B.length&&console.error("Could not find a matching mapping");const o={begin:{divIdx:p,offset:s-c}};for(s+=x[v];p!==P&&s>c+B[p].length;)c+=B[p].length,p++;o.end={divIdx:p,offset:s-c},h.push(o)}return h}_renderMatches(b){if(0===b.length)return;const{findController:x,pageIdx:B}=this,{textContentItemsStr:p,textDivs:c}=this,P=B===x.selected.pageIdx,h=x.selected.matchIdx;let u=null;function o(I,U){const d=I.divIdx;return c[d].textContent="",m(d,0,I.offset,U)}function m(I,U,d,k){let O=c[I];if(O.nodeType===Node.TEXT_NODE){const S=document.createElement("span");O.parentNode.insertBefore(S,O),S.appendChild(O),c[I]=S,O=S}const N=p[I].substring(U,d),V=document.createTextNode(N);if(k){const S=document.createElement("span");return S.className=`${k} appended`,S.appendChild(V),O.appendChild(S),k.includes("selected")?S.offsetLeft:0}return O.appendChild(V),0}let T=h,w=T+1;if(x.state.highlightAll)T=0,w=b.length;else if(!P)return;for(let I=T;I<w;I++){const U=b[I],d=U.begin,k=U.end,O=P&&I===h,N=O?" selected":"";let V=0;if(u&&d.divIdx===u.divIdx?m(u.divIdx,u.offset,d.offset):(null!==u&&m(u.divIdx,u.offset,undefined),o(d)),d.divIdx===k.divIdx)V=m(d.divIdx,d.offset,k.offset,"highlight"+N);else{V=m(d.divIdx,d.offset,undefined,"highlight begin"+N);for(let S=d.divIdx+1,Z=k.divIdx;S<Z;S++)c[S].className="highlight middle"+N;o(k,"highlight end"+N)}u=k,O&&x.scrollMatchIntoView({element:c[d.divIdx],selectedLeft:V,pageIndex:B,matchIndex:h})}u&&m(u.divIdx,u.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:b,matches:x,pageIdx:B}=this,{textContentItemsStr:p,textDivs:c}=this;let P=-1;for(let u=0,s=x.length;u<s;u++){const o=x[u];for(let T=Math.max(P,o.begin.divIdx),w=o.end.divIdx;T<=w;T++){const I=c[T];I.textContent=p[T],I.className=""}P=o.end.divIdx+1}b?.highlightMatches&&(this.matches=this._convertMatches(b.pageMatches[B]||null,b.pageMatchesLength[B]||null),this._renderMatches(this.matches))}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var g=A(3);function b(B,p){const c=document.createElement("a");if(!c.click)throw new Error('DownloadManager: "a.click()" is not supported.');c.href=B,c.target="_parent","download"in c&&(c.download=p),(document.body||document.documentElement).appendChild(c),c.click(),c.remove()}t.DownloadManager=class x{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(p,c){(0,g.createValidAbsoluteUrl)(p,"http://example.com")?b(p+"#pdfjs.action=download",c):console.error(`downloadUrl - not a valid URL: ${p}`)}downloadData(p,c,P){b(URL.createObjectURL(new Blob([p],{type:P})),c)}openOrDownloadData(p,c,P){const h=(0,g.isPdfFile)(P),v=h?"application/pdf":"";if(h){let s,u=this._openBlobUrls.get(p);u||(u=URL.createObjectURL(new Blob([c],{type:v})),this._openBlobUrls.set(p,u)),s="?file="+encodeURIComponent(u+"#"+P);try{return window.open(s),!0}catch(o){console.error(`openOrDownloadData: ${o}`),URL.revokeObjectURL(u),this._openBlobUrls.delete(p)}}return this.downloadData(c,P,v),!1}download(p,c,P,h="download"){b(URL.createObjectURL(p),P)}}},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitOnType=t.EventBus=t.AutomationEventBus=void 0,t.waitOnEventOrTimeout=function g({target:B,name:p,delay:c=0}){return new Promise(function(P,h){if("object"!=typeof B||!p||"string"!=typeof p||!(Number.isInteger(c)&&c>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function v(m){B instanceof b?B._off(p,u):B.removeEventListener(p,u),o&&clearTimeout(o),P(m)}const u=v.bind(null,A.EVENT);B instanceof b?B._on(p,u):B.addEventListener(p,u);const s=v.bind(null,A.TIMEOUT),o=setTimeout(s,c)})};const A={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=A;class b{constructor(){this._listeners=Object.create(null)}on(p,c,P=null){this._on(p,c,{external:!0,once:P?.once})}off(p,c,P=null){this._off(p,c,{external:!0,once:P?.once})}dispatch(p,c){const P=this._listeners[p];if(!P||0===P.length)return;let h;for(const{listener:v,external:u,once:s}of P.slice(0))s&&this._off(p,v),u?(h||=[]).push(v):v(c);if(h){for(const v of h)v(c);h=null}}_on(p,c,P=null){(this._listeners[p]||=[]).push({listener:c,external:!0===P?.external,once:!0===P?.once})}_off(p,c,P=null){const h=this._listeners[p];if(h)for(let v=0,u=h.length;v<u;v++)if(h[v].listener===c)return void h.splice(v,1)}}t.EventBus=b,t.AutomationEventBus=class x extends b{dispatch(p,c){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,A(19);var g=A(4);const b=document.webL10n;t.GenericL10n=class x{constructor(p){this._lang=p,this._ready=new Promise((c,P)=>{b.setLanguage((0,g.fixupLangCode)(p),()=>{c(b)})})}getLanguage(){var p=this;return r(function*(){return(yield p._ready).getLanguage()})()}getDirection(){var p=this;return r(function*(){return(yield p._ready).getDirection()})()}get(p,c=null,P=(0,g.getL10nFallback)(p,c)){var h=this;return r(function*(){return(yield h._ready).get(p,c,P)})()}translate(p){var c=this;return r(function*(){return(yield c._ready).translate(p)})()}}},()=>{document.webL10n=function(D,t,A){var g={},b="",x="textContent",B="",p={},c="loading",P=!0;function o(S,Z,j){Z=Z||function(M){},j=j||function(){};var Q=new XMLHttpRequest;Q.open("GET",S,P),Q.overrideMimeType&&Q.overrideMimeType("text/plain; charset=utf-8"),Q.onreadystatechange=function(){4==Q.readyState&&(200==Q.status||0===Q.status?Z(Q.responseText):j())},Q.onerror=j,Q.ontimeout=j;try{Q.send(null)}catch{j()}}function T(S,Z){S&&(S=S.toLowerCase()),Z=Z||function(){},function w(){g={},b="",B=""}(),B=S;var j=function h(){return t.querySelectorAll('link[type="application/l10n"]')}(),Q=j.length;if(0!==Q){var i,l=0;i=function(){++l>=Q&&(Z(),c="complete")};for(var f=0;f<Q;f++)new _(j[f]).load(S,i)}else{var it=function v(){var S=t.querySelector('script[type="application/l10n"]');return S?JSON.parse(S.innerHTML):null}();if(it&&it.locales&&it.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(g=it.locales[S])){var M=it.default_locale.toLowerCase();for(var e in it.locales){if((e=e.toLowerCase())===S){g=it.locales[S];break}e===M&&(g=it.locales[M])}}Z()}else console.log("no resource to load, early way out");c="complete"}function _(F){var H=F.href;this.load=function(W,G){!function m(S,Z,j,Q){var it=S.replace(/[^\/]*$/,"")||"./";function M(i){return i.lastIndexOf("\\")<0?i:i.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}o(S,function(i){b+=i,function e(i,l){var _={},f=/^\s*|\s*$/,C=/^\s*#|^\s*$/,F=/^\s*\[(.*)\]\s*$/,H=/^\s*@import\s+url\((.*)\)\s*$/i,W=/^([^=\s]*)\s*=\s*(.+)$/;function G(tt,ct,ht){var et=tt.replace(f,"").split(/[\r\n]+/),rt="*",ut=Z.split("-",1)[0],dt=!1,lt="";!function _t(){for(;;){if(!et.length)return void ht();var mt=et.shift();if(!C.test(mt)){if(ct){if(lt=F.exec(mt)){rt=lt[1].toLowerCase(),dt="*"!==rt&&rt!==Z&&rt!==ut;continue}if(dt)continue;if(lt=H.exec(mt))return void $(it+lt[1],_t)}var ft=mt.match(W);ft&&3==ft.length&&(_[ft[1]]=M(ft[2]))}}}()}function $(tt,ct){o(tt,function(ht){G(ht,!1,ct)},function(){console.warn(tt+" not found."),ct()})}G(i,!0,function(){l(_)})}(i,function(l){for(var _ in l){var f,C,F=_.lastIndexOf(".");F>0?(f=_.substring(0,F),C=_.substring(F+1)):(f=_,C=x),g[f]||(g[f]={}),g[f][C]=l[_]}j&&j()})},Q)}(H,W,G,function(){console.warn(H+" not found."),console.warn('"'+W+'" resource not found'),B="",G()})}}}function U(S,Z,j){var Q=g[S];if(!Q){if(console.warn("#"+S+" is undefined."),!j)return null;Q=j}var it={};for(var M in Q){var e=Q[M];e=k(e=d(e,Z,S,M),Z,S),it[M]=e}return it}function d(S,Z,j,Q){var M=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(S);if(!M||!M.length)return S;var l,e=M[1],i=M[2];return Z&&i in Z?l=Z[i]:i in g&&(l=g[i]),e in p&&(S=(0,p[e])(S,l,j,Q)),S}function k(S,Z,j){return S.replace(/\{\{\s*(.+?)\s*\}\}/g,function(it,M){return Z&&M in Z?Z[M]:M in g?g[M]:(console.log("argument {{"+M+"}} for #"+j+" is undefined."),it)})}function O(S){var Z=function s(S){if(!S)return{};var Z=S.getAttribute("data-l10n-id"),j=S.getAttribute("data-l10n-args"),Q={};if(j)try{Q=JSON.parse(j)}catch{console.warn("could not parse arguments for #"+Z)}return{id:Z,args:Q}}(S);if(Z.id){var j=U(Z.id,Z.args);if(!j)return void console.warn("#"+Z.id+" is undefined.");if(j[x]){if(0===function N(S){if(S.children)return S.children.length;if(typeof S.childElementCount<"u")return S.childElementCount;for(var Z=0,j=0;j<S.childNodes.length;j++)Z+=1===S.nodeType?1:0;return Z}(S))S[x]=j[x];else{for(var Q=S.childNodes,it=!1,M=0,e=Q.length;M<e;M++)3===Q[M].nodeType&&/\S/.test(Q[M].nodeValue)&&(it?Q[M].nodeValue="":(Q[M].nodeValue=j[x],it=!0));if(!it){var i=t.createTextNode(j[x]);S.insertBefore(i,S.firstChild)}}delete j[x]}for(var l in j)S[l]=j[l]}}return p.plural=function(S,Z,j,Q){var it=parseFloat(Z);if(isNaN(it)||Q!=x)return S;p._pluralRules||(p._pluralRules=function I(S){function j(e,i){return-1!==i.indexOf(e)}function Q(e,i,l){return i<=e&&e<=l}var it={0:function(e){return"other"},1:function(e){return Q(e%100,3,10)?"few":0===e?"zero":Q(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return Q(e,0,1)?"one":"other"},5:function(e){return Q(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return Q(e,3,6)?"few":Q(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&Q(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return Q(e%10,2,9)&&!Q(e%100,11,19)?"few":e%10!=1||Q(e%100,11,19)?"other":"one"},11:function(e){return Q(e%10,2,4)&&!Q(e%100,12,14)?"few":e%10==0||Q(e%10,5,9)||Q(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return Q(e,2,4)?"few":1==e?"one":"other"},13:function(e){return Q(e%10,2,4)&&!Q(e%100,12,14)?"few":1!=e&&Q(e%10,0,1)||Q(e%10,5,9)||Q(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return Q(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||Q(e%100,2,10)?"few":Q(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":Q(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return Q(e,2,10)?"few":Q(e,0,1)?"one":"other"},20:function(e){return!Q(e%10,3,4)&&e%10!=9||Q(e%100,10,19)||Q(e%100,70,79)||Q(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||j(e%100,[12,72,92])?e%10!=1||j(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return Q(e,0,1)||Q(e,11,99)?"one":"other"},23:function(e){return Q(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return Q(e,3,10)||Q(e,13,19)?"few":j(e,[2,12])?"two":j(e,[1,11])?"one":"other"}},M={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[S.replace(/-.*$/,"")];return M in it?it[M]:(console.warn("plural form unknown for ["+S+"]"),function(){return"other"})}(B));var M="["+p._pluralRules(it)+"]";return 0===it&&j+"[zero]"in g?S=g[j+"[zero]"][Q]:1==it&&j+"[one]"in g?S=g[j+"[one]"][Q]:2==it&&j+"[two]"in g?S=g[j+"[two]"][Q]:j+M in g?S=g[j+M][Q]:j+"[other]"in g&&(S=g[j+"[other]"][Q]),S},{get:function(S,Z,j){var M,Q=S.lastIndexOf("."),it=x;Q>0&&(it=S.substring(Q+1),S=S.substring(0,Q)),j&&((M={})[it]=j);var e=U(S,Z,M);return e&&it in e?e[it]:"{{"+S+"}}"},getData:function(){return g},getText:function(){return b},getLanguage:function(){return B},setLanguage:function(S,Z){T(S,function(){Z&&Z()})},getDirection:function(){var Z=B.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Z)>=0?"rtl":"ltr"},translate:function V(S){for(var Z=function u(S){return S?S.querySelectorAll("*[data-l10n-id]"):[]}(S=S||t.documentElement),j=Z.length,Q=0;Q<j;Q++)O(Z[Q]);O(S)},getReadyState:function(){return c},ready:function(S){S&&("complete"==c||"interactive"==c?D.setTimeout(function(){S()}):t.addEventListener&&t.addEventListener("localized",function Z(){t.removeEventListener("localized",Z),S()}))}}}(window,document)},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var g=A(6),b=A(3),x=A(21);const B={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=B;const h={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},v=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),u=[...v.values()].map(k=>String.fromCharCode(k)).join(""),s=/\p{M}+/gu,o=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,m=/([^\p{M}])\p{M}*$/u,T=/^\p{M}*([^\p{M}])/u;let w=null;function I(k){if(!w){const e=Object.keys(h).join("");w=new RegExp(`([${e}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let N;for(;null!==(N=s.exec(k));)O.push([N[0].length,N.index]);let V=k.normalize("NFD");const S=[[0,0]];let Z=0,j=0,Q=0,it=0,M=!1;return V=V.replace(w,(e,i,l,_,f,C)=>{if(C-=Q,i){const F=h[e],H=F.length;for(let W=1;W<H;W++)S.push([C-j+W,j-W]);return j-=H-1,F}if(l){const F=l.endsWith("\n"),H=F?l.length-2:l.length;M=!0;let W=H;C+it===O[Z]?.[1]&&(W-=O[Z][0],++Z);for(let G=1;G<W+1;G++)S.push([C-1-j+G,j-G]);return j-=W,Q+=W,F?(S.push([(C+=H-1)-j+1,1+j]),j+=1,Q+=1,it+=1,l.slice(0,H)):l}return _?(S.push([C-j+1,1+j]),j+=1,Q+=1,it+=1,_.charAt(0)):(S.push([C-j+1,j-1]),j-=1,Q+=1,it+=1," ")}),S.push([V.length,j]),[V,S,M]}function U(k,O,N){if(!k)return[O,N];const V=O,S=O+N;let Z=(0,g.binarySearchFirstItem)(k,Q=>Q[0]>=V);k[Z][0]>V&&--Z;let j=(0,g.binarySearchFirstItem)(k,Q=>Q[0]>=S,Z);return k[j][0]>S&&--j,[V+k[Z][1],N+k[j][1]-k[Z][1]]}t.PDFFindController=class d{constructor({linkService:O,eventBus:N}){this._linkService=O,this._eventBus=N,this.#e(),N._on("find",this.#t.bind(this)),N._on("findbarclose",this.#v.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&this.#e(),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}#t(O){if(!O)return;const N=this._pdfDocument,{type:V}=O;(null===this._state||this.#s(O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==V&&this.#g(B.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||N&&this._pdfDocument!==N)return;this.#_();const S=!this._highlightMatches,Z=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),V?this._dirtyMatch?this.#a():"again"===V?(this.#a(),S&&this._state.highlightAll&&this.#o()):"highlightallchange"===V?(Z?this.#a():this._highlightMatches=!0,this.#o()):this.#a():this._findTimeout=setTimeout(()=>{this.#a(),this._findTimeout=null},250)})}scrollMatchIntoView({element:O=null,selectedLeft:N=0,pageIndex:V=-1,matchIndex:S=-1}){this._scrollMatches&&O&&-1!==S&&S===this._selected.matchIdx&&-1!==V&&V===this._selected.pageIdx&&(this._scrollMatches=!1,(0,g.scrollIntoView)(O,{top:-50,left:N+-400},!0))}#e(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,b.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=I(this._state.query)),this._normalizedQuery}#s(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const N=this._selected.pageIdx+1,V=this._linkService;return N>=1&&N<=V.pagesCount&&N!==V.page&&!V.isPageVisible(N);case"highlightallchange":return!1}return!0}#d(O,N,V){let S=O.slice(0,N).match(m);if(S){const Z=O.charCodeAt(N),j=S[1].charCodeAt(0);if((0,x.getCharacterType)(Z)===(0,x.getCharacterType)(j))return!1}if(S=O.slice(N+V).match(T),S){const Z=O.charCodeAt(N+V-1),j=S[1].charCodeAt(0);if((0,x.getCharacterType)(Z)===(0,x.getCharacterType)(j))return!1}return!0}#l(O,N,V,S){const Z=[],j=[],Q=this._pageDiffs[V];let it;for(;null!==(it=O.exec(S));){if(N&&!this.#d(S,it.index,it[0].length))continue;const[M,e]=U(Q,it.index,it[0].length);e&&(Z.push(M),j.push(e))}this._pageMatches[V]=Z,this._pageMatchesLength[V]=j}#i(O,N){const{matchDiacritics:V}=this._state;let S=!1;const Z="[ ]*";return(O=O.replace(o,(j,Q,it,M,e,i)=>Q?`[ ]*\\${Q}[ ]*`:it?`[ ]*${it}[ ]*`:M?"[ ]+":V?e||i:e?v.has(e.charCodeAt(0))?e:"":N?(S=!0,`${i}\\p{M}*`):i)).endsWith(Z)&&(O=O.slice(0,O.length-Z.length)),V&&N&&(S=!0,O=`${O}(?=[${u}]|[^\\p{M}]|$)`),[S,O]}#p(O){let N=this.#n;if(0===N.length)return;const{caseSensitive:V,entireWord:S,phraseSearch:Z}=this._state,j=this._pageContents[O],Q=this._hasDiacritics[O];let it=!1;if(Z)[it,N]=this.#i(N,Q);else{const i=N.match(/\S+/g);i&&(N=i.sort().reverse().map(l=>{const[_,f]=this.#i(l,Q);return it||=_,`(${f})`}).join("|"))}N=new RegExp(N,`g${it?"u":""}${V?"":"i"}`),this.#l(N,S,O,j),this._state.highlightAll&&this.#r(O),this._resumePageIdx===O&&(this._resumePageIdx=null,this.#u());const e=this._pageMatches[O].length;e>0&&(this._matchesCountTotal+=e,this.#C())}#_(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let N=0,V=this._linkService.pagesCount;N<V;N++){const S=(0,b.createPromiseCapability)();this._extractTextPromises[N]=S.promise,O=O.then(()=>this._pdfDocument.getPage(N+1).then(Z=>Z.getTextContent()).then(Z=>{const j=[];for(const Q of Z.items)j.push(Q.str),Q.hasEOL&&j.push("\n");[this._pageContents[N],this._pageDiffs[N],this._hasDiacritics[N]]=I(j.join("")),S.resolve()},Z=>{console.error(`Unable to get text content for page ${N+1}`,Z),this._pageContents[N]="",this._pageDiffs[N]=null,this._hasDiacritics[N]=!1,S.resolve()}))}}#r(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})}#o(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#a(){const O=this._state.findPrevious,N=this._linkService.page-1,V=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=N,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#o();for(let Z=0;Z<V;Z++)this._pendingFindMatches.has(Z)||(this._pendingFindMatches.add(Z),this._extractTextPromises[Z].then(()=>{this._pendingFindMatches.delete(Z),this.#p(Z)}))}if(""===this.#n)return void this.#g(B.FOUND);if(this._resumePageIdx)return;const S=this._offset;if(this._pagesToSearch=V,null!==S.matchIdx){if(!O&&S.matchIdx+1<this._pageMatches[S.pageIdx].length||O&&S.matchIdx>0)return S.matchIdx=O?S.matchIdx-1:S.matchIdx+1,void this.#c(!0);this.#f(O)}this.#u()}#h(O){const N=this._offset,V=O.length,S=this._state.findPrevious;return V?(N.matchIdx=S?V-1:0,this.#c(!0),!0):(this.#f(S),!!(N.wrapped&&(N.matchIdx=null,this._pagesToSearch<0))&&(this.#c(!1),!0))}#u(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const N=this._offset.pageIdx;if(O=this._pageMatches[N],!O){this._resumePageIdx=N;break}}while(!this.#h(O))}#f(O){const N=this._offset,V=this._linkService.pagesCount;N.pageIdx=O?N.pageIdx-1:N.pageIdx+1,N.matchIdx=null,this._pagesToSearch--,(N.pageIdx>=V||N.pageIdx<0)&&(N.pageIdx=O?V-1:0,N.wrapped=!0)}#c(O=!1){let N=B.NOT_FOUND;const V=this._offset.wrapped;if(this._offset.wrapped=!1,O){const S=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,N=V?B.WRAPPED:B.FOUND,-1!==S&&S!==this._selected.pageIdx&&this.#r(S)}this.#g(N,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#r(this._selected.pageIdx))}#v(O){const N=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||N&&this._pdfDocument!==N||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#g(B.FOUND),this._highlightMatches=!1,this.#o())})}#m(){const{pageIdx:O,matchIdx:N}=this._selected;let V=0,S=this._matchesCountTotal;if(-1!==N){for(let Z=0;Z<O;Z++)V+=this._pageMatches[Z]?.length||0;V+=N+1}return(V<1||V>S)&&(V=S=0),{current:V,total:S}}#C(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#m()})}#g(O,N=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:N,matchesCount:this.#m(),rawQuery:this._state?.query??null})}}},(D,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterType=void 0,t.getCharacterType=function s(o){return function g(o){return o<11904}(o)?function b(o){return 0==(65408&o)}(o)?function p(o){return 32===o||9===o||13===o||10===o}(o)?A.SPACE:function x(o){return o>=97&&o<=122||o>=65&&o<=90}(o)||function B(o){return o>=48&&o<=57}(o)||95===o?A.ALPHA_LETTER:A.PUNCT:function u(o){return 3584==(65408&o)}(o)?A.THAI_LETTER:160===o?A.SPACE:A.ALPHA_LETTER:function c(o){return o>=13312&&o<=40959||o>=63744&&o<=64255}(o)?A.HAN_LETTER:function P(o){return o>=12448&&o<=12543}(o)?A.KATAKANA_LETTER:function h(o){return o>=12352&&o<=12447}(o)?A.HIRAGANA_LETTER:function v(o){return o>=65376&&o<=65439}(o)?A.HALFWIDTH_KATAKANA_LETTER:A.ALPHA_LETTER};const A={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=A},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFHistory=void 0,t.isDestArraysEqual=v,t.isDestHashesEqual=h;var g=A(6),b=A(17);function c(){return document.location.hash}function h(u,s){return"string"==typeof u&&"string"==typeof s&&(u===s||(0,g.parseQueryString)(u).get("nameddest")===s)}function v(u,s){function o(m,T){if(typeof m!=typeof T||Array.isArray(m)||Array.isArray(T))return!1;if(null!==m&&"object"==typeof m&&null!==T){if(Object.keys(m).length!==Object.keys(T).length)return!1;for(const w in m)if(!o(m[w],T[w]))return!1;return!0}return m===T||Number.isNaN(m)&&Number.isNaN(T)}if(!Array.isArray(u)||!Array.isArray(s)||u.length!==s.length)return!1;for(let m=0,T=u.length;m<T;m++)if(!o(u[m],s[m]))return!1;return!0}t.PDFHistory=class P{constructor({linkService:s,eventBus:o}){this.linkService=s,this.eventBus=o,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",m=>{this._isPagesLoaded=!!m.pagesCount},{once:!0})})}initialize({fingerprint:s,resetHistory:o=!1,updateUrl:m=!1}){if(!s||"string"!=typeof s)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const T=""!==this._fingerprint&&this._fingerprint!==s;this._fingerprint=s,this._updateUrl=!0===m,this._initialized=!0,this._bindEvents();const w=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=c(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(w,!0)||o){const{hash:U,page:d,rotation:k}=this._parseCurrentHash(!0);return!U||T||o?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:U,page:d,rotation:k},!0)}const I=w.destination;this._updateInternalState(I,w.uid,!0),void 0!==I.rotation&&(this._initialRotation=I.rotation),I.dest?(this._initialBookmark=JSON.stringify(I.dest),this._destination.page=null):I.hash?this._initialBookmark=I.hash:I.page&&(this._initialBookmark=`page=${I.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:s=null,explicitDest:o,pageNumber:m}){if(!this._initialized)return;if(s&&"string"!=typeof s)return void console.error(`PDFHistory.push: "${s}" is not a valid namedDest parameter.`);if(!Array.isArray(o))return void console.error(`PDFHistory.push: "${o}" is not a valid explicitDest parameter.`);if(!this._isValidPage(m)&&(null!==m||this._destination))return void console.error(`PDFHistory.push: "${m}" is not a valid pageNumber parameter.`);const T=s||JSON.stringify(o);if(!T)return;let w=!1;if(this._destination&&(h(this._destination.hash,T)||v(this._destination.dest,o))){if(this._destination.page)return;w=!0}this._popStateInProgress&&!w||(this._pushOrReplaceState({dest:o,hash:T,page:m,rotation:this.linkService.rotation},w),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(s){if(this._initialized){if(!this._isValidPage(s))return void console.error(`PDFHistory.pushPage: "${s}" is not a valid page number.`);this._destination?.page!==s&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${s}`,page:s,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const s=window.history.state;this._isValidState(s)&&s.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const s=window.history.state;this._isValidState(s)&&s.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(s,o=!1){const m=o||!this._destination,T={fingerprint:this._fingerprint,uid:m?this._uid:this._uid+1,destination:s};let w;if(this._updateInternalState(s,T.uid),this._updateUrl&&s?.hash){const I=document.location.href.split("#")[0];I.startsWith("file://")||(w=`${I}#${s.hash}`)}m?window.history.replaceState(T,"",w):window.history.pushState(T,"",w)}_tryPushCurrentPosition(s=!1){if(!this._position)return;let o=this._position;if(s&&(o=Object.assign(Object.create(null),this._position),o.temporary=!0),!this._destination)return void this._pushOrReplaceState(o);if(this._destination.temporary)return void this._pushOrReplaceState(o,!0);if(this._destination.hash===o.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let m=!1;if(this._destination.page>=o.first&&this._destination.page<=o.page){if(void 0!==this._destination.dest||!this._destination.first)return;m=!0}this._pushOrReplaceState(o,m)}_isValidPage(s){return Number.isInteger(s)&&s>0&&s<=this.linkService.pagesCount}_isValidState(s,o=!1){if(!s)return!1;if(s.fingerprint!==this._fingerprint){if(!o)return!1;{if("string"!=typeof s.fingerprint||s.fingerprint.length!==this._fingerprint.length)return!1;const[m]=performance.getEntriesByType("navigation");if("reload"!==m?.type)return!1}}return!(!Number.isInteger(s.uid)||s.uid<0||null===s.destination||"object"!=typeof s.destination)}_updateInternalState(s,o,m=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),m&&s?.temporary&&delete s.temporary,this._destination=s,this._uid=o,this._maxUid=Math.max(this._maxUid,o),this._numPositionUpdates=0}_parseCurrentHash(s=!1){const o=unescape(c()).substring(1),m=(0,g.parseQueryString)(o),T=m.get("nameddest")||"";let w=0|m.get("page");return(!this._isValidPage(w)||s&&T.length>0)&&(w=null),{hash:o,page:w,rotation:this.linkService.rotation}}_updateViewarea({location:s}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:s.pdfOpenParams.substring(1),page:this.linkService.page,first:s.pageNumber,rotation:s.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:s}){const o=c(),m=this._currentHash!==o;if(this._currentHash=o,!s){this._uid++;const{hash:w,page:I,rotation:U}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:w,page:I,rotation:U},!0)}if(!this._isValidState(s))return;this._popStateInProgress=!0,m&&(this._blockHashChange++,(0,b.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const T=s.destination;this._updateInternalState(T,s.uid,!0),(0,g.isValidRotation)(T.rotation)&&(this.linkService.rotation=T.rotation),T.dest?this.linkService.goToDestination(T.dest):T.hash?this.linkService.setHash(T.hash):T.page&&(this.linkService.page=T.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFScriptingManager=void 0;var g=A(6),b=A(3);t.PDFScriptingManager=class x{constructor({eventBus:p,sandboxBundleSrc:c=null,scriptingFactory:P=null,docPropertiesLookup:h=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=p,this._sandboxBundleSrc=c,this._scriptingFactory=P,this._docPropertiesLookup=h,this._scriptingFactory||window.addEventListener("updatefromsandbox",v=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:v.detail})})}setViewer(p){this._pdfViewer=p}setDocument(p){var c=this;return r(function*(){if(c._pdfDocument&&(yield c._destroyScripting()),c._pdfDocument=p,!p)return;const[P,h,v]=yield Promise.all([p.getFieldObjects(),p.getCalculationOrderIds(),p.getJSActions()]);if(P||v){if(p===c._pdfDocument){try{c._scripting=c._createScripting()}catch(u){return console.error(`PDFScriptingManager.setDocument: "${u?.message}".`),void(yield c._destroyScripting())}c._internalEvents.set("updatefromsandbox",u=>{u?.source===window&&c._updateFromSandbox(u.detail)}),c._internalEvents.set("dispatcheventinsandbox",u=>{c._scripting?.dispatchEventInSandbox(u.detail)}),c._internalEvents.set("pagechanging",({pageNumber:u,previous:s})=>{u!==s&&(c._dispatchPageClose(s),c._dispatchPageOpen(u))}),c._internalEvents.set("pagerendered",({pageNumber:u})=>{c._pageOpenPending.has(u)&&u===c._pdfViewer.currentPageNumber&&c._dispatchPageOpen(u)}),c._internalEvents.set("pagesdestroy",function(){var u=r(function*(s){yield c._dispatchPageClose(c._pdfViewer.currentPageNumber),yield c._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),c._closeCapability?.resolve()});return function(s){return u.apply(this,arguments)}}()),c._domEvents.set("mousedown",u=>{c._mouseState.isDown=!0}),c._domEvents.set("mouseup",u=>{c._mouseState.isDown=!1});for(const[u,s]of c._internalEvents)c._eventBus._on(u,s);for(const[u,s]of c._domEvents)window.addEventListener(u,s,!0);try{const u=yield c._getDocProperties();if(p!==c._pdfDocument)return;yield c._scripting.createSandbox({objects:P,calculationOrder:h,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...u,actions:v}}),c._eventBus.dispatch("sandboxcreated",{source:c})}catch(u){return console.error(`PDFScriptingManager.setDocument: "${u?.message}".`),void(yield c._destroyScripting())}yield c._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield c._dispatchPageOpen(c._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{p===c._pdfDocument&&(c._ready=!0)})}}else yield c._destroyScripting()})()}dispatchWillSave(p){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(p){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(p){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(p){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,b.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,b.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,b.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,b.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(p){var c=this;return r(function*(){const P=c._pdfViewer.isInPresentationMode||c._pdfViewer.isChangingPresentationMode,{id:h,siblings:v,command:u,value:s}=p;if(!h){switch(u){case"clear":console.clear();break;case"error":console.error(s);break;case"layout":if(P)return;const m=(0,g.apiPageLayoutToViewerModes)(s);c._pdfViewer.spreadMode=m.spreadMode;break;case"page-num":c._pdfViewer.currentPageNumber=s+1;break;case"print":yield c._pdfViewer.pagesPromise,c._eventBus.dispatch("print",{source:c});break;case"println":console.log(s);break;case"zoom":if(P)return;c._pdfViewer.currentScaleValue=s;break;case"SaveAs":c._eventBus.dispatch("save",{source:c});break;case"FirstPage":c._pdfViewer.currentPageNumber=1;break;case"LastPage":c._pdfViewer.currentPageNumber=c._pdfViewer.pagesCount;break;case"NextPage":c._pdfViewer.nextPage();break;case"PrevPage":c._pdfViewer.previousPage();break;case"ZoomViewIn":if(P)return;c._pdfViewer.increaseScale();break;case"ZoomViewOut":if(P)return;c._pdfViewer.decreaseScale()}return}if(P&&p.focus)return;delete p.id,delete p.siblings;const o=v?[h,...v]:[h];for(const m of o){const T=document.getElementById(m);T?T.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:p})):c._pdfDocument?.annotationStorage.setValue(m,p)}})()}_dispatchPageOpen(p,c=!1){var P=this;return r(function*(){const h=P._pdfDocument,v=P._visitedPages;if(c&&(P._closeCapability=(0,b.createPromiseCapability)()),!P._closeCapability)return;const u=P._pdfViewer.getPageView(p-1);if(u?.renderingState!==g.RenderingStates.FINISHED)return void P._pageOpenPending.add(p);P._pageOpenPending.delete(p);const s=r(function*(){const o=yield v.has(p)?null:u.pdfPage?.getJSActions();h===P._pdfDocument&&(yield P._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:p,actions:o}))})();v.set(p,s)})()}_dispatchPageClose(p){var c=this;return r(function*(){const P=c._pdfDocument,h=c._visitedPages;if(!c._closeCapability||c._pageOpenPending.has(p))return;const v=h.get(p);v&&(h.set(p,null),yield v,P===c._pdfDocument&&(yield c._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:p})))})()}_getDocProperties(){var p=this;return r(function*(){if(p._docPropertiesLookup)return p._docPropertiesLookup(p._pdfDocument);const{docPropertiesLookup:c}=A(24);return c(p._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,b.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:p}=A(24);return new p(this._sandboxBundleSrc)}_destroyScripting(){var p=this;return r(function*(){if(!p._scripting)return p._pdfDocument=null,void p._destroyCapability?.resolve();p._closeCapability&&(yield Promise.race([p._closeCapability.promise,new Promise(c=>{setTimeout(c,1e3)})]).catch(c=>{}),p._closeCapability=null),p._pdfDocument=null;try{yield p._scripting.destroySandbox()}catch{}for(const[c,P]of p._internalEvents)p._eventBus._off(c,P);p._internalEvents.clear();for(const[c,P]of p._domEvents)window.removeEventListener(c,P,!0);p._domEvents.clear(),p._pageOpenPending.clear(),p._visitedPages.clear(),p._scripting=null,delete p._mouseState.isDown,p._ready=!1,p._destroyCapability?.resolve()})()}}},(D,t,A)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericScripting=void 0,t.docPropertiesLookup=function b(p){return x.apply(this,arguments)};var g=A(3);function x(){return(x=r(function*(p){const P="".split("#")[0];let{info:h,metadata:v,contentDispositionFilename:u,contentLength:s}=yield p.getMetadata();if(!s){const{length:o}=yield p.getDownloadInfo();s=o}return{...h,baseURL:P,filesize:s,filename:u||(0,g.getPdfFilenameFromUrl)(""),metadata:v?.getRaw(),authors:v?.get("dc:creator"),numPages:p.numPages,URL:""}})).apply(this,arguments)}t.GenericScripting=class B{constructor(c){this._ready=(0,g.loadScript)(c,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(c){var P=this;return r(function*(){(yield P._ready).create(c)})()}dispatchEventInSandbox(c){var P=this;return r(function*(){const h=yield P._ready;setTimeout(()=>h.dispatchEvent(c),0)})()}destroySandbox(){var c=this;return r(function*(){(yield c._ready).nukeSandbox()})()}}}],q={};function Y(D){var t=q[D];if(void 0!==t)return t.exports;var A=q[D]={exports:{}};return z[D](A,A.exports,Y),A.exports}var J={};return(()=>{var D=J;Object.defineProperty(D,"__esModule",{value:!0}),Object.defineProperty(D,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return x.AnnotationLayerBuilder}}),Object.defineProperty(D,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return t.DefaultAnnotationLayerFactory}}),Object.defineProperty(D,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return t.DefaultStructTreeLayerFactory}}),Object.defineProperty(D,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return t.DefaultTextLayerFactory}}),Object.defineProperty(D,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return t.DefaultXfaLayerFactory}}),Object.defineProperty(D,"DownloadManager",{enumerable:!0,get:function(){return B.DownloadManager}}),Object.defineProperty(D,"EventBus",{enumerable:!0,get:function(){return p.EventBus}}),Object.defineProperty(D,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(D,"LinkTarget",{enumerable:!0,get:function(){return A.LinkTarget}}),Object.defineProperty(D,"NullL10n",{enumerable:!0,get:function(){return P.NullL10n}}),Object.defineProperty(D,"PDFFindController",{enumerable:!0,get:function(){return h.PDFFindController}}),Object.defineProperty(D,"PDFHistory",{enumerable:!0,get:function(){return v.PDFHistory}}),Object.defineProperty(D,"PDFLinkService",{enumerable:!0,get:function(){return A.PDFLinkService}}),Object.defineProperty(D,"PDFPageView",{enumerable:!0,get:function(){return u.PDFPageView}}),Object.defineProperty(D,"PDFScriptingManager",{enumerable:!0,get:function(){return s.PDFScriptingManager}}),Object.defineProperty(D,"PDFSinglePageViewer",{enumerable:!0,get:function(){return b.PDFSinglePageViewer}}),Object.defineProperty(D,"PDFViewer",{enumerable:!0,get:function(){return b.PDFViewer}}),Object.defineProperty(D,"ProgressBar",{enumerable:!0,get:function(){return g.ProgressBar}}),Object.defineProperty(D,"SimpleLinkService",{enumerable:!0,get:function(){return A.SimpleLinkService}}),Object.defineProperty(D,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return o.StructTreeLayerBuilder}}),Object.defineProperty(D,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(D,"XfaLayerBuilder",{enumerable:!0,get:function(){return T.XfaLayerBuilder}}),Object.defineProperty(D,"parseQueryString",{enumerable:!0,get:function(){return g.parseQueryString}});var t=Y(1),A=Y(5),g=Y(6),b=Y(10),x=Y(2),B=Y(16),p=Y(17),c=Y(18),P=Y(4),h=Y(20),v=Y(22),u=Y(12),s=Y(23),o=Y(7),m=Y(8),T=Y(9)})(),J})(),at.exports=Y()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},1778:at=>{function a(r,z,q,Y,J,D,t){try{var A=r[D](t),g=A.value}catch(b){return void q(b)}A.done?z(g):Promise.resolve(g).then(Y,J)}at.exports=function R(r){return function(){var z=this,q=arguments;return new Promise(function(Y,J){var D=r.apply(z,q);function t(g){a(D,Y,J,t,A,"next",g)}function A(g){a(D,Y,J,t,A,"throw",g)}t(void 0)})}},at.exports.__esModule=!0,at.exports.default=at.exports}}]);
//# sourceMappingURL=39.ce7775770ac64a87.js.map