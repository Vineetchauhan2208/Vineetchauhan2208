"use strict";(self.webpackChunkfilemakersystem=self.webpackChunkfilemakersystem||[]).push([[808],{7808:(B,u,d)=>{d.r(u),d.d(u,{PermissionModule:()=>D});var l=d(4666),m=d(5465),c=d(2508),n=d(2560),g=d(4497),_=d(6426),f=d(4817),C=d(1924);function h(e,a){1&e&&(n.TgZ(0,"small",18),n._uU(1," Please enter role name. "),n.qZA())}function M(e,a){if(1&e&&(n.TgZ(0,"td"),n._uU(1),n.ALo(2,"titlecase"),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.lcZ(2,1,t.permission.replace("_"," "))," ")}}function O(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"td")(1,"input",20),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().index,r=n.oxw();return n.KtG(r.changePermission(i,s))}),n.qZA(),n._uU(2,"Full access "),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.xp6(1),n.MGl("value","",t.permission,",Full access"),n.s9C("name",t.permission),n.s9C("checked","Full access"==t.access||"")}}function b(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"td")(1,"input",20),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().index,r=n.oxw();return n.KtG(r.changePermission(i,s))}),n.qZA(),n._uU(2,"View only access "),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.xp6(1),n.MGl("value","",t.permission,",View only access"),n.s9C("name",t.permission),n.s9C("checked","View only access"==t.access||"")}}function v(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"td")(1,"input",20),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().index,r=n.oxw();return n.KtG(r.changePermission(i,s))}),n.qZA(),n._uU(2," No Access "),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.xp6(1),n.MGl("value","",t.permission,",No Access"),n.s9C("name",t.permission),n.s9C("checked","No Access"==t.access||"")}}function x(e,a){if(1&e&&(n.TgZ(0,"tr"),n.YNc(1,M,3,3,"td",19),n.YNc(2,O,3,3,"td",19),n.YNc(3,b,3,3,"td",19),n.YNc(4,v,3,3,"td",19),n.qZA()),2&e){const t=a.$implicit;n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission)}}let Z=(()=>{class e{constructor(t,o,i,s,r,p){this.fb=t,this._titleservice=o,this._rolepermissionservice=i,this.toastr=s,this.router=r,this._permissionArrService=p,this.changeRole="",this.permissionArr=[],this._titleservice.setTitle("Create Permission"),this.permissionArr=this._permissionArrService.permissionArr(),this.permissionForm=this.fb.group({name:["",c.kI.required]})}ngOnInit(){}permissionFormSubmit(){this._rolepermissionservice.createRolePermission({name:this.permissionForm.value.name,permissions:this.permissionArr}).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),this.router.navigate(["admin/permission"])},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}changePermission(t,o){let i=t.target.value,s=i.split(",")[0],p={access:i.split(",")[1],permission:s};this.permissionArr[o]=p}resetPermissionForm(){this.permissionArr.forEach(t=>{t.access="No Access"})}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(c.qu),n.Y36(g.Dx),n.Y36(_.Q),n.Y36(f._W),n.Y36(m.F0),n.Y36(C.v))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-create-permission"]],decls:31,vars:4,consts:[[1,"add-user"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/permission"],["routerLink","/admin/permission","routerLinkActive","active"],[1,"add-user-inner"],[1,"formFields"],[3,"formGroup","ngSubmit"],["for","first_name",1,"form-label"],["type","text","formControlName","name","placeholder","Role Name",1,"form-control"],["class","text-danger mt-4",4,"ngIf"],[1,"submitReset"],["width","100%"],[4,"ngFor","ngForOf"],["type","button","routerLink","/admin/permission",1,"ressetBtn"],["type","button",1,"ressetBtn",3,"click"],["type","submit",3,"disabled"],[1,"text-danger","mt-4"],[4,"ngIf"],["type","radio",3,"value","name","checked","click"]],template:function(o,i){1&o&&(n.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),n._uU(4,"Home"),n.qZA()(),n.TgZ(5,"li",2)(6,"a",4),n._uU(7," Permission Management"),n.qZA()(),n.TgZ(8,"li",2)(9,"a",5),n._uU(10," Create New Permission"),n.qZA()()(),n.TgZ(11,"div",6)(12,"h2"),n._uU(13," Create New Permission"),n.qZA(),n.TgZ(14,"div",7)(15,"form",8),n.NdJ("ngSubmit",function(){return i.permissionFormSubmit()}),n.TgZ(16,"div")(17,"label",9),n._uU(18,"Role Name"),n.qZA(),n._UZ(19,"input",10),n.YNc(20,h,2,0,"small",11),n.qZA(),n.TgZ(21,"div",12)(22,"table",13),n.YNc(23,x,5,4,"tr",14),n.qZA()(),n.TgZ(24,"div",12)(25,"button",15),n._uU(26,"Cancel"),n.qZA(),n.TgZ(27,"button",16),n.NdJ("click",function(){return i.resetPermissionForm()}),n._uU(28,"Reset"),n.qZA(),n.TgZ(29,"button",17),n._uU(30,"Submit"),n.qZA()()()()()()),2&o&&(n.xp6(15),n.Q6J("formGroup",i.permissionForm),n.xp6(5),n.Q6J("ngIf",i.permissionForm.controls.name.dirty&&i.permissionForm.controls.name.hasError("required")),n.xp6(3),n.Q6J("ngForOf",i.permissionArr),n.xp6(6),n.Q6J("disabled",i.permissionForm.invalid))},dependencies:[l.sg,l.O5,m.rH,m.Od,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,l.rS],styles:[".add-user-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-16)}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%]{padding:var(--font-size-20);padding-top:0}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48%;margin-bottom:var(--font-size-24);text-align:left}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:var(--width-150)!important}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{width:100%;min-height:var(--width-150)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;gap:var(--font-size-30)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana;color:orange;font-size:var(--font-size-14)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:var(--width-160);height:var(--font-size-48);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:none}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button.ressetBtn[_ngcontent-%COMP%]{border:1px solid #E3E3E3;border-radius:var(--font-size-10);color:#474554;background-color:#fff}.submitReset[_ngcontent-%COMP%]{overflow:auto}.submitReset[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:var(--font-size-16);padding:var(--font-size-10)!important;white-space:nowrap}.submitReset[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:var(--font-size-14);height:var(--font-size-14);border-radius:50%;margin-right:var(--font-size-12)}@media screen and (max-width: 767px){.submitReset[_ngcontent-%COMP%]{flex-wrap:wrap!important}.submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}}@media screen and (max-width: 480px){.submitReset[_ngcontent-%COMP%]{gap:15px!important}.submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.upload-pic[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding-top:0}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:10px 10px 0}.add-user-inner[_ngcontent-%COMP%]   .formFields[_ngcontent-%COMP%]{padding-top:0}}"]})}return e})();var z=d(5150),P=d(2302);function w(e,a){1&e&&(n.TgZ(0,"a",22),n._UZ(1,"img",23),n._uU(2,"Create Permission "),n.qZA())}const F=function(e){return["/admin/permission/update",e]};function A(e,a){if(1&e&&(n.TgZ(0,"a",33),n._UZ(1,"i",34),n.qZA()),2&e){const t=n.oxw().$implicit;n.Q6J("routerLink",n.VKq(1,F,t.id))}}function y(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"a")(1,"i",35),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().$implicit,r=n.oxw();return i.stopPropagation(),n.KtG(r.selectedRoleID=s.id)}),n.qZA()()}}function T(e,a){if(1&e&&(n.TgZ(0,"div",39)(1,"p"),n._uU(2),n.ALo(3,"titlecase"),n.qZA()()),2&e){const t=n.oxw().$implicit;n.xp6(2),n.hij(" ",n.lcZ(3,1,t.permission.replace("_"," "))," ")}}function k(e,a){if(1&e&&(n.TgZ(0,"div",40)(1,"div",41),n._UZ(2,"input",42),n._uU(3,"Full access "),n._UZ(4,"label",43),n.qZA(),n.TgZ(5,"div",41),n._UZ(6,"input",44),n._uU(7,"View only access "),n._UZ(8,"label",43),n.qZA(),n.TgZ(9,"div",41),n._UZ(10,"input",45),n._uU(11,"No Access "),n._UZ(12,"label",43),n.qZA()()),2&e){const t=n.oxw().$implicit,o=n.oxw().$implicit;n.xp6(2),n.hYB("name","",o.name,"",t.permission,""),n.s9C("checked","Full access"==t.access?"checked":""),n.Q6J("disabled",!0),n.xp6(4),n.hYB("name","",o.name,"",t.permission,""),n.s9C("checked","View only access"==t.access?"checked":""),n.Q6J("disabled",!0),n.xp6(4),n.hYB("name","",o.name,"",t.permission,""),n.s9C("checked","No Access"==t.access?"checked":""),n.Q6J("disabled",!0)}}function U(e,a){if(1&e&&(n.TgZ(0,"div",36),n.YNc(1,T,4,3,"div",37),n.YNc(2,k,13,12,"div",38),n.qZA()),2&e){const t=a.$implicit;n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission)}}function q(e,a){if(1&e&&(n.TgZ(0,"div",24)(1,"h2",25)(2,"button",26),n._uU(3),n.ALo(4,"titlecase"),n.TgZ(5,"div",27),n.YNc(6,A,2,3,"a",28),n.YNc(7,y,2,0,"a",29),n.qZA()(),n.TgZ(8,"div",30)(9,"div",31),n.YNc(10,U,3,2,"div",32),n.qZA()()()()),2&e){const t=a.$implicit,o=a.index,i=n.oxw();n.xp6(1),n.Q6J("id","heading"+o),n.xp6(1),n.uIk("data-bs-target","#collapse"+o)("aria-controls","collapse"+o),n.xp6(1),n.hij(" ",n.lcZ(4,12,t.name)," "),n.xp6(3),n.Q6J("ngIf","Full access"==i.permissions.permission),n.xp6(1),n.Q6J("ngIf",i.hasDeleteAccess),n.xp6(1),n.Gre("accordion-collapse collapse ",0==o?"show":""," "),n.Q6J("id","collapse"+o),n.uIk("aria-labelledby","heading"+o),n.xp6(2),n.Q6J("ngForOf",t.permissions)}}const R=function(e,a,t){return{itemsPerPage:e,currentPage:a,totalItems:t}};let J=(()=>{class e{constructor(t,o,i,s){this._rolepermissionservice=t,this.toastr=o,this._titleservice=i,this._permissionservice=s,this.cateories=["Super Administrator","Technical Manager","Dealer Account Manager","Sales Admin"],this.selectedRoleID=0,this.rolepermissions=[],this.page=1,this.pageSize=50,this.title="",this._titleservice.setTitle("Permissions"),this.permissions=this._permissionservice.getPermissions();const r=JSON.parse(localStorage.getItem("userdetails")||"");this.hasDeleteAccess=1==r?.roles.id||11==r?.roles.id}ngOnInit(){this.retrieveRolePermission()}getRequestParams(t,o,i){let s={};return t&&(s.search=t),o&&(s.page=o),i&&(s.page_size=i),s}retrieveRolePermission(){const t=this.getRequestParams(this.title,this.page,this.pageSize);this._rolepermissionservice.getRolePermission(t).subscribe(o=>{this.rolepermissions=o.data.results,this.rolepermissions=this.sort(this.rolepermissions,"name"),this.totalrolepermission=o.data.count},o=>{})}sort(t,o){return t.sort((i,s)=>{var r=i[o].toUpperCase(),p=s[o].toUpperCase();return r<p?-1:r>p?1:0})}handlePageChange(t){this.page=t,this.retrieveRolePermission()}deleteRole(){this._rolepermissionservice.deleteRole(this.selectedRoleID).subscribe(t=>{this.toastr.success(t.message,"",{timeOut:4e3}),this.retrieveRolePermission()},t=>{this.toastr.error(t.error.detail,"",{timeOut:4e3})})}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(_.Q),n.Y36(f._W),n.Y36(g.Dx),n.Y36(z.q))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-permission-list"]],decls:35,vars:9,consts:[[1,"permissions"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/Permission","routerLinkActive","active"],[1,"permission-inner"],[1,"permission-head"],["routerLink","/admin/permission/create","class","btn btn-primary btn-sm",4,"ngIf"],["id","accordionContainer",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],["id","delTemplateModal",1,"modal"],[1,"v-align"],[1,"modal-dialog"],[1,"modal-content","deleteModal"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],[1,"flexDiv"],["data-bs-dismiss","modal",1,"btn","cancel"],["type","button","data-bs-dismiss","modal",1,"btn","delete",3,"click"],["routerLink","/admin/permission/create",1,"btn","btn-primary","btn-sm"],["src","assets/images/icon/addIcon.png","alt","create permission",2,"width","20px"],[1,"accordion-item"],[1,"accordion-header",2,"position","relative",3,"id"],["type","button","data-bs-toggle","collapse","aria-expanded","true",1,"accordion-button"],[1,"edit"],[3,"routerLink",4,"ngIf"],[4,"ngIf"],["data-bs-parent","#accordionContainer",3,"id"],[1,"accounting-childrens","commontodiv","accordion_body"],["class","dashboard-holders",4,"ngFor","ngForOf"],[3,"routerLink"],["title","Edit",1,"fa","fa-edit"],["title","Delete","data-bs-toggle","modal","data-bs-target","#delTemplateModal",1,"fa","fa-trash-o",3,"click"],[1,"dashboard-holders"],["class","dashboard ",4,"ngIf"],["class","dashboard-permissions",4,"ngIf"],[1,"dashboard"],[1,"dashboard-permissions"],[1,"form-check"],["type","radio","value","Full access",1,"form-check-input",3,"name","disabled","checked"],["for","radio1",1,"form-check-label"],["type","radio","value","View only access",1,"form-check-input",3,"name","disabled","checked"],["type","radio","value","No Access",1,"form-check-input",3,"name","disabled","checked"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),n._uU(4,"Home"),n.qZA()(),n.TgZ(5,"li",2)(6,"a",4),n._uU(7," Manage Permission"),n.qZA()()(),n.TgZ(8,"div",5)(9,"div",6)(10,"h2"),n._uU(11,"Manage Permission"),n.qZA(),n.YNc(12,w,3,0,"a",7),n.qZA(),n._UZ(13,"hr"),n.TgZ(14,"div",8)(15,"div",8),n.YNc(16,q,11,14,"div",9),n.ALo(17,"paginate"),n.qZA()()()(),n.TgZ(18,"div",10)(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14)(23,"h4",15),n._uU(24,"Delete Role"),n.qZA(),n._UZ(25,"button",16),n.qZA(),n.TgZ(26,"div",17)(27,"p"),n._uU(28,"Are you sure you want to delete this role?"),n.qZA()(),n.TgZ(29,"div",18)(30,"div",19)(31,"button",20),n._uU(32,"Cancel"),n.qZA(),n.TgZ(33,"button",21),n.NdJ("click",function(){return i.deleteRole()}),n._uU(34,"Confirm"),n.qZA()()()()()()()),2&o&&(n.xp6(12),n.Q6J("ngIf","Full access"==i.permissions.permission),n.xp6(4),n.Q6J("ngForOf",n.xi3(17,2,i.rolepermissions,n.kEZ(5,R,i.pageSize,i.page,i.totalrolepermission))))},dependencies:[l.sg,l.O5,m.rH,m.Od,l.rS,P._s],styles:['.permission-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.permission-head[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:var(--font-size-10);font-size:var(--font-size-14);background-color:#394a9c}.permission-head[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:var(--font-size-10);width:var(--font-size-20)!important;height:var(--font-size-20);border-radius:50%}.nestedtablediv[_ngcontent-%COMP%]{box-shadow:5px 10px 20px #0000000d!important;background-color:#fff;margin-top:30px;margin-bottom:50px}.nestedtablediv[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#2680eb0d;padding:12px 30px;display:flex;flex-direction:row;justify-content:space-between}.nestedtablediv[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:mySFProFont!important;color:#277ffe;font-size:14px;margin-bottom:0!important}.nestedtablediv[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:50%}.nestedtablediv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0!important}.nestedtablediv[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin-right:20px}.nestedtablediv[_ngcontent-%COMP%]   .accounting-childrens[_ngcontent-%COMP%]{padding-left:50px;background:rgba(244,248,255,.4509803922)}.nestedtablediv[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{position:relative;width:50%}.nestedtablediv[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]:after{content:"";width:5px;height:5px;position:absolute;background:#2900b5;top:9px;left:-13px;transform:rotate(45deg)}.nestedtablediv[_ngcontent-%COMP%]   .admin[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.commontodiv[_ngcontent-%COMP%]{padding:var(--font-size-12) var(--font-size-30);color:#000;letter-spacing:0px;font-size:var(--font-size-14);cursor:pointer}.commontodiv[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#a09c9c}.dashboard-permissions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:75%}.dashboard-holders[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:5px;align-items:center;margin-bottom:var(--font-size-20)}.dashboard-holders[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:var(--font-size-14);line-height:var(--font-size-20);font-weight:400;color:#000}.dashboard-holders[_ngcontent-%COMP%]   .dashboard-permissions[_ngcontent-%COMP%]{gap:var(--font-size-36)}.dashboard-holders[_ngcontent-%COMP%]   .dashboard-permissions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:var(--font-size-30)}.customer-holders-holders[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.dashboard-permissions[_ngcontent-%COMP%]{width:75%}.accordion[_ngcontent-%COMP%]{border-color:transparent!important;--bs-accordion-border-color: transparent !important;margin-top:var(--font-size-30)}.accordion-header[_ngcontent-%COMP%]{margin-bottom:var(--font-size-12)}.accordion-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#FFFFFF;font-family:verdana-bold;font-size:var(--font-size-14);line-height:17px;padding:var(--font-size-14) var(--font-size-30);color:#3f424b}.permission-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:.5rem;padding:var(--font-size-24) var(--font-size-20);background-color:#fff}.permission-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;margin-bottom:0}.permission-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border:.5px solid #E0E0E0;border-radius:6px}.accordion-button[_ngcontent-%COMP%]:focus{z-index:3;border-color:transparent!important;outline:0;box-shadow:none!important}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{position:relative}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:var(--font-size-12);right:var(--font-size-30);display:flex;gap:var(--font-size-10)}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{width:var(--font-size-18);height:var(--font-size-18)}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .fa-edit[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #6D7886;color:#6d7886;border-radius:2px;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-16)}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   .fa-trash-o[_ngcontent-%COMP%]{width:var(--font-size-26);height:var(--font-size-26);padding:var(--font-size-5);border:1px solid #FA0000;border-radius:2px;display:flex;color:#fa0000;align-items:center;justify-content:center;font-size:var(--font-size-16)}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:after{position:absolute;top:var(--font-size-14);right:var(--padding-104)}.modal-footer[_ngcontent-%COMP%]{gap:var(--font-size-18)}.modal-footer[_ngcontent-%COMP%]   .btn-secondry[_ngcontent-%COMP%]{background:#f2f2f2}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4em 1.2em;font-size:var(--font-size-16)}@media screen and (max-width: 991px){.permission-head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.dashboard-holders[_ngcontent-%COMP%]{flex-direction:column!important}.dashboard-holders[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.accordion-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{right:10px}.accordion-header[_ngcontent-%COMP%]   .commontodiv[_ngcontent-%COMP%]{padding:10px}.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:after{right:83px;top:16px}.permission-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px!important}}@media screen and (max-width: 900px){.dashboard-permissions[_ngcontent-%COMP%]{flex-direction:column}.dashboard-permissions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.dashboard-holders[_ngcontent-%COMP%]   .dashboard-permissions[_ngcontent-%COMP%]{gap:0px}}@media screen and (max-width: 767px){input[_ngcontent-%COMP%]{padding:8px!important}.permission-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px!important}}@media screen and (max-width: 380px){.accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:12px!important}.accordion-button[_ngcontent-%COMP%]:after{background-size:12px!important}}.deleteModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{margin-bottom:0!important}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{margin-bottom:0;justify-content:center!important}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]{justify-content:center!important}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:red;border:1px solid red;background:white}.deleteModal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .flexDiv[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{border:1px solid black}.deleteModal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-16)!important;margin-block:var(--font-size-15)}']})}return e})();function Y(e,a){1&e&&(n.TgZ(0,"small",18),n._uU(1," Please enter role name. "),n.qZA())}function I(e,a){if(1&e&&(n.TgZ(0,"td"),n._uU(1),n.ALo(2,"titlecase"),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.lcZ(2,1,t.permission.replace("_"," "))," ")}}function L(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"td")(1,"input",20),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().index,r=n.oxw();return n.KtG(r.changePermission(i,s))}),n.qZA(),n._uU(2,"Full access "),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.xp6(1),n.MGl("value","",t.permission,",Full access"),n.s9C("name",t.permission),n.s9C("checked","Full access"==t.access||"")}}function Q(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"td")(1,"input",20),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().index,r=n.oxw();return n.KtG(r.changePermission(i,s))}),n.qZA(),n._uU(2,"View only access "),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.xp6(1),n.MGl("value","",t.permission,",View only access"),n.s9C("name",t.permission),n.s9C("checked","View only access"==t.access||"")}}function S(e,a){if(1&e){const t=n.EpF();n.TgZ(0,"td")(1,"input",20),n.NdJ("click",function(i){n.CHM(t);const s=n.oxw().index,r=n.oxw();return n.KtG(r.changePermission(i,s))}),n.qZA(),n._uU(2," No Access "),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.xp6(1),n.MGl("value","",t.permission,",No Access"),n.s9C("name",t.permission),n.s9C("checked","No Access"==t.access||"")}}function j(e,a){if(1&e&&(n.TgZ(0,"tr"),n.YNc(1,I,3,3,"td",19),n.YNc(2,L,3,3,"td",19),n.YNc(3,Q,3,3,"td",19),n.YNc(4,S,3,3,"td",19),n.qZA()),2&e){const t=a.$implicit;n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission),n.xp6(1),n.Q6J("ngIf","dashboard"!=t.permission)}}const E=[{path:"",component:(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-permission"]],decls:1,vars:0,template:function(o,i){1&o&&n._UZ(0,"router-outlet")},dependencies:[m.lC]})}return e})(),children:[{path:"",component:J},{path:"create",component:Z},{path:"update/:id",component:(()=>{class e{constructor(t,o,i,s,r,p,$){this.fb=t,this._rolepermissionservice=o,this.toastr=i,this.router=s,this.route=r,this._titleservice=p,this._permissionArrService=$,this.permissions=[],this._titleservice.setTitle("Update Permission"),this.permissionForm=this.fb.group({name:["",c.kI.required]})}ngOnInit(){this.permission_id=this.route.snapshot.paramMap.get("id"),this._rolepermissionservice.getRolePermissionId(this.permission_id).subscribe(t=>{this.role_name=t.data.name,this.permissions=t.data.permissions;let o=this._permissionArrService.permissionArr(),i=[];for(let s=0;s<o.length;s++)i.push({...o[s],...this.permissions.find(r=>r.permission===o[s].permission)});this.permissions=i,this.permissionForm.patchValue({name:this.role_name})},t=>{})}changePermission(t,o){let i=t.target.value,s=i.split(",")[0],p={access:i.split(",")[1],permission:s};this.permissions[o]=p}permissionFormSubmit(){this._rolepermissionservice.updateRolePermission({name:this.permissionForm.value.name,permissions:this.permissions},this.permission_id).subscribe(o=>{this.toastr.success(o.message,"",{timeOut:4e3}),this.router.navigate(["admin/permission"])},o=>{this.toastr.error(o.error.detail,"",{timeOut:4e3})})}resetPermissionForm(){this.permissions.forEach(t=>{t.access="No Access"})}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(c.qu),n.Y36(_.Q),n.Y36(f._W),n.Y36(m.F0),n.Y36(m.gz),n.Y36(g.Dx),n.Y36(C.v))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-update-permission"]],decls:31,vars:4,consts:[[1,"add-user"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin"],["routerLink","/admin/permission"],["routerLink","/admin/permission","routerLinkActive","active"],[1,"add-user-inner"],[1,"formFields"],[3,"formGroup","ngSubmit"],["for","first_name",1,"form-label"],["type","text","formControlName","name","placeholder","Role Name",1,"form-control"],["class","text-danger mt-4",4,"ngIf"],[1,"submitReset"],["width","100%"],[4,"ngFor","ngForOf"],["type","button","routerLink","/admin/permission",1,"ressetBtn"],["type","button",1,"ressetBtn",3,"click"],["type","submit",3,"disabled"],[1,"text-danger","mt-4"],[4,"ngIf"],["type","radio",3,"value","name","checked","click"]],template:function(o,i){1&o&&(n.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"a",3),n._uU(4,"Home"),n.qZA()(),n.TgZ(5,"li",2)(6,"a",4),n._uU(7," Permission Management"),n.qZA()(),n.TgZ(8,"li",2)(9,"a",5),n._uU(10," Update Permission"),n.qZA()()(),n.TgZ(11,"div",6)(12,"h2"),n._uU(13," Update Permission"),n.qZA(),n.TgZ(14,"div",7)(15,"form",8),n.NdJ("ngSubmit",function(){return i.permissionFormSubmit()}),n.TgZ(16,"div")(17,"label",9),n._uU(18,"Role Name"),n.qZA(),n._UZ(19,"input",10),n.YNc(20,Y,2,0,"small",11),n.qZA(),n.TgZ(21,"div",12)(22,"table",13),n.YNc(23,j,5,4,"tr",14),n.qZA()(),n.TgZ(24,"div",12)(25,"button",15),n._uU(26,"Cancel"),n.qZA(),n.TgZ(27,"button",16),n.NdJ("click",function(){return i.resetPermissionForm()}),n._uU(28,"Reset"),n.qZA(),n.TgZ(29,"button",17),n._uU(30,"Submit"),n.qZA()()()()()()),2&o&&(n.xp6(15),n.Q6J("formGroup",i.permissionForm),n.xp6(5),n.Q6J("ngIf",i.permissionForm.controls.name.dirty&&i.permissionForm.controls.name.hasError("required")),n.xp6(3),n.Q6J("ngForOf",i.permissions),n.xp6(6),n.Q6J("disabled",i.permissionForm.invalid))},dependencies:[l.sg,l.O5,m.rH,m.Od,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,l.rS],styles:[".add-user-inner[_ngcontent-%COMP%]{border:1px solid rgba(0,32,96,.2);border-radius:var(--font-size-16)}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-24);line-height:var(--font-size-30);text-align:left;color:#0e1321;padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%]{padding:var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48%;margin-bottom:var(--font-size-24);text-align:left}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:verdana;font-style:normal;font-weight:700;font-size:var(--font-size-16);line-height:var(--font-size-18);color:#3f424b;margin-bottom:var(--font-size-12)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:var(--font-size-14) var(--font-size-16);font-size:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:var(--width-150)!important}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .des[_ngcontent-%COMP%]{width:100%;min-height:var(--width-150)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;gap:var(--font-size-30);overflow:auto}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:verdana;color:orange;font-size:var(--font-size-14)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--font-size-16);height:var(--font-size-16)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:var(--width-150);height:var(--font-size-48);font-size:var(--font-size-16);padding:var(--font-size-10) var(--font-size-20)}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{background:#394A9C;border-radius:var(--font-size-12);color:#fff;border:none}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]   .submitReset[_ngcontent-%COMP%] > button.ressetBtn[_ngcontent-%COMP%]{border:1px solid #E3E3E3;border-radius:var(--font-size-10);color:#474554;background-color:#fff}@media screen and (max-width: 767px){.submitReset[_ngcontent-%COMP%]{flex-wrap:wrap!important}.submitReset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}}.submitReset[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:var(--font-size-16);padding:var(--font-size-10)!important;white-space:nowrap}.submitReset[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:var(--font-size-14);height:var(--font-size-14);border-radius:50%;margin-right:var(--font-size-12)}@media screen and (max-width: 480px){.submitReset[_ngcontent-%COMP%]{gap:15px!important}.submitReset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.formFields[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.upload-pic[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding-top:0}.add-user-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:10px 10px 0}.add-user-inner[_ngcontent-%COMP%]   .formFields[_ngcontent-%COMP%]{padding-top:0}}"]})}return e})()}]}];let G=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#e=this.\u0275inj=n.cJS({imports:[m.Bz.forChild(E),m.Bz]})}return e})(),D=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#e=this.\u0275inj=n.cJS({imports:[l.ez,G,c.u5,c.UX,P.JX]})}return e})()}}]);
//# sourceMappingURL=808.3fac61c1ccc9e9e5.js.map