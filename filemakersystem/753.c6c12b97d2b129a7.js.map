{"version":3,"file":"753.c6c12b97d2b129a7.js","mappings":"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","names":["i0","ctx_r28","children_r13","ctx_r32","ctx_r35","i_r7","ctx_r39","item_r4","routes","path","component","KnowledgeBaseComponent","constructor","crud","sanitizer","ar","_titleservice","toastr","this","queryParams","Subject","setTitle","getKnowledgeBaseDetailSidebar","onSearch","pipe","debounceTime","takeUntil","destroy$","subscribe","searchKeywords","ngOnInit","Ques","_value","ques","getArticleDetail","showMenuList","getRequest","cusRequestUrl","then","res","menuList","data","syncCategories","requestUrl","success","syncArticle","getArticleList","id","isFolder","articleAnswerView","articleListSideBar","results","totalArticleSideBar","count","breadCumbList","type","name","selectedList","handlePageChange","event","pageSideBar","pageSize","answerDetail","answer","bypassSecurityTrustHtml","window","scrollBy","static","core","selectors","KnowledgeBaseRoutingModule","RouterModule","KnowledgeBaseModule","CommonModule","FormsModule","NgxPaginationModule","notifier","operate","source","subscriber","innerFrom","createOperatorSubscriber","complete","noop","closed"],"sourceRoot":"webpack:///","sources":["./src/app/customer/knowledge-base/knowledge-base.component.html","./src/app/customer/knowledge-base/knowledge-base-routing.module.ts","./src/app/customer/knowledge-base/knowledge-base.component.ts","./src/app/customer/knowledge-base/knowledge-base.module.ts","./node_modules/rxjs/dist/esm/internal/operators/takeUntil.js"],"sourcesContent":["<div>\n  <ul class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\"><a routerLink=\"/dashboard\">Home</a></li>\n    <li class=\"breadcrumb-item\"><a>Customer</a></li>\n    <li class=\"breadcrumb-item\"><a routerLink=\"/knowledgebase\" routerLinkActive=\"active\">Knowledgebase</a></li>\n  </ul>\n  <div class=\"MainBox\">\n    <div *ngIf=\"showMenuList\" class=\"leftBox\">\n      <!-- Sync buttons not needed on customer / reseller / dealer / individual's side -->\n      <!-- <div class=\"d-flex justify-content-start\" style=\"padding-left: var(--font-size-14);\">\n        <button (click)=\"syncCategories()\" class=\"btn sync mb-3\">Sync</button>\n      </div> -->\n      <ul *ngFor=\"let item of menuList\">\n        <li>\n          <h3\n          style=\"cursor:pointer;\"\n          [ngClass]=\"selectedList == item.name? 'blue':''\"\n          (click)=\"getArticleList(item.id);breadCumbList('','',item.name);\"\n            >{{item?.name}}\n          </h3>\n          <ul *ngFor=\"let child of item?.children; let i = index\">\n            <li *ngIf=\"child.name != 'KESS3'\">\n              <p [ngClass]=\"selectedList == child.name? 'blue':'black'\"\n                (click)=\"getArticleList(child.id, child?.children?.length>0); children[i] = !children[i];breadCumbList('children',i,child.name); \">\n                <i *ngIf=\"child?.children?.length>0\" class=\"fa fa-folder-o\" aria-hidden=\"true\"></i><i\n                  *ngIf=\"child?.children?.length==0\" class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>{{child.name}}</p>\n              <div *ngIf=\"children[i]\">\n                <ul *ngFor=\"let children of child?.children; let j = index\">\n                  <li>\n                    <p [ngClass]=\"selectedList == children.name? 'blue':'black'\"\n                      (click)=\"getArticleList(children.id, children?.children?.length>0); secChildren[children.id] = !secChildren[children.id];breadCumbList('secChildren',children.id,children.name); \">\n                      <i *ngIf=\"children?.children?.length>0\" class=\"fa fa-folder-o\" aria-hidden=\"true\"></i><i\n                        *ngIf=\"children?.children?.length==0\" class=\"fa fa-arrow-right\"\n                        aria-hidden=\"true\"></i>{{children.name}}</p>\n                    <div *ngIf=\"secChildren[children.id]\">\n                      <ul *ngFor=\"let secChildren of children?.children; let k = index\">\n                        <li>\n                          <p [ngClass]=\"selectedList == secChildren.name? 'blue':'black'\"\n                            (click)=\"getArticleList(secChildren.id, secChildren?.children?.length>0); thirdChildren[children.id] = !thirdChildren[children.id]; breadCumbList('thirdChildren',children.id,secChildren.name); \">\n                            <i *ngIf=\"secChildren?.children?.length>0\" class=\"fa fa-folder-o\" aria-hidden=\"true\"></i><i\n                              *ngIf=\"secChildren?.children?.length==0\" class=\"fa fa-arrow-right\"\n                              aria-hidden=\"true\"></i>{{secChildren.name}}</p>\n                          <div *ngIf=\"thirdChildren[secChildren.id]\">\n                            <ul *ngFor=\"let thirdChildren of secChildren?.children; let l = index\">\n                              <li>\n                                <p [ngClass]=\"selectedList == thirdChildren.name? 'blue':'black'\" (\n                                  click)=\"getArticleList(thirdChildren.id);breadCumbList('noChildren',i,thirdChildren.name)\">\n                                  {{thirdChildren.name}}</p>\n                              </li>\n                            </ul>\n                          </div>\n                        </li>\n                      </ul>\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n    <div [ngStyle]=\"{'width':showMenuList?'67%':'100%'}\" class=\"rightBox\">\n      <div *ngIf=\"!articleAnswerView\">\n        <div class=\"kbase\">\n      <!-- Sync buttons not needed on customer / reseller / dealer / individual's side -->\n          <!-- <div class=\"d-flex justify-content-end\">\n            <button (click)=\"syncArticle()\" class=\"btn sync mb-3\">Sync</button>\n          </div> -->\n          <div class=\"input-text u-add\">\n            <h2>{{selectedList}}</h2>\n            <div>\n              <input class=\"form-control\" #searchInput type=\"text\" placeholder=\"Search Article\"\n                  (keypress)=\"onSearch.next(searchInput.value)\" (keyup.enter)=\"getKnowledgeBaseDetailSidebar(searchInput.value)\">\n              <button (click)=\"getKnowledgeBaseDetailSidebar()\">\n                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n              </button>\n            </div>\n          </div>\n          <hr />\n          <div class=\"no-data\" *ngIf=\"articleListSideBar?.length ==0\">No articles available</div>\n          <div class=\"kbase-inner\"\n            *ngFor=\"let article of articleListSideBar | paginate : {itemsPerPage: pageSize,currentPage: pageSideBar,totalItems: totalArticleSideBar};let i = index\">\n            <p>{{i+1}}. {{article?.title}} </p>\n            <span> {{article?.summary}} </span>\n            <span class=\"readmore\" (click)=\"getArticleDetail(article.slug)\">Read More...</span>\n            <hr />\n          </div>\n          <pagination-controls *ngIf=\"totalArticleSideBar >10\" class=\"pagination-crl\" previousLabel=\"Prev\"\n            nextLabel=\"Next\" (pageChange)=\"handlePageChange($event,'SideBar')\"></pagination-controls>\n        </div>\n      </div>\n      <div *ngIf=\"articleAnswerView\" class=\"kbase\">\n        <div class=\"backlink\" (click)=\"articleAnswerView = false\"><i class=\"fa fa-long-arrow-left\"></i>&nbsp;Back</div>\n        <div style=\"text-align: left;\">\n          <span style=\"font-weight: 600;\">{{answerDetail.title}}</span>\n          <p [innerHTML]=\"answerDetail.answer\" #answer></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { KnowledgeBaseComponent } from './knowledge-base.component';\n\nconst routes: Routes = [{ path: '', component: KnowledgeBaseComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class KnowledgeBaseRoutingModule { }\n","import { Component } from '@angular/core';\nimport { DomSanitizer, Title } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { debounceTime, Subject, takeUntil } from 'rxjs';\nimport { requestUrl } from 'src/app/services/adminReqUrl.const';\nimport { CrudService } from 'src/app/services/crud.service';\nimport { cusRequestUrl } from 'src/app/services/customerReqUrl.const';\n\n@Component({\n  selector: 'app-knowledge-base',\n  templateUrl: './knowledge-base.component.html',\n  styleUrls: ['./knowledge-base.component.scss']\n})\nexport class KnowledgeBaseComponent {\n  articleAnswerView: boolean = false;\n  articleListSideBar: any;\n  pageSideBar: number = 1;\n  totalArticleSideBar: number = 0;\n  pageSize: number = 10;\n  answerDetail: any;\n  menuList: any;\n  children: any[] = [];\n  secChildren: any[] = [];\n  thirdChildren: any[] = [];\n  Ques: any = this.ar.queryParams;\n  showMenuList: boolean = true;\n\n  onSearch = new Subject<string>();\n  destroy$ = new Subject<null>();\n  constructor(\n    private crud: CrudService, \n    private sanitizer: DomSanitizer, \n    private ar: ActivatedRoute,\n    private _titleservice: Title,\n    private toastr:ToastrService) {\n      this._titleservice.setTitle('Knowledgebase');\n    this.getKnowledgeBaseDetailSidebar();\n    this.onSearch\n    .pipe(\n      debounceTime(800),\n      takeUntil(this.destroy$)\n    ).subscribe(searchKeywords => this.getKnowledgeBaseDetailSidebar(searchKeywords))\n  }\n\n  ngOnInit() {\n    if(this.Ques['_value'].ques){\n      this.getArticleDetail(this.Ques['_value'].ques);\n      this.showMenuList = false;\n    }\n    this.crud.getRequest(`${cusRequestUrl.getZohoRootCategories}`).then((res: any) => {\n      if (res) {\n        this.menuList = res.data;\n      }\n    })\n  }\n  syncCategories() {\n    this.crud.getRequest(`${requestUrl.updateZohoCategories}`).then((res: any) => {\n      if(res) {\n        this.toastr.success(res.data);\n      }\n      this.getKnowledgeBaseDetailSidebar();\n      if (this.Ques['_value'].ques) {\n        this.getArticleDetail(this.Ques['_value'].ques);\n        this.showMenuList = false;\n      }\n      this.crud.getRequest(`${cusRequestUrl.getZohoRootCategories}`).then((res: any) => {\n        if (res) {\n          this.menuList = res.data;\n        }\n      })\n    })\n  }\n\n  syncArticle() {\n    this.crud.getRequest(`${requestUrl.updateZohoArticles}`).then((res: any) => {\n      if(res) {\n        this.toastr.success(res.data);\n      }\n      this.getKnowledgeBaseDetailSidebar();\n      if (this.Ques['_value'].ques) {\n        this.getArticleDetail(this.Ques['_value'].ques);\n        this.showMenuList = false;\n      }\n      this.crud.getRequest(`${cusRequestUrl.getZohoRootCategories}`).then((res: any) => {\n        if (res) {\n          this.menuList = res.data;\n        }\n      })\n    })\n  }\n  \n  getArticleList(id: any,isFolder?:boolean) {\n    if(isFolder) return;\n    this.articleAnswerView = false;\n    this.crud.getRequest(`${cusRequestUrl.getArticleList}/${id}`).then((res: any) => {\n      if (res) {\n        this.articleListSideBar = res.data.results\n        this.totalArticleSideBar = res.data.count\n      }\n    })\n  }\n  a: any;\n  selectedList:string='Knowledgebase';\n  breadCumbList(type: string, id: any, name: string) {\n    this.selectedList = name;\n  }\n\n  handlePageChange(event: number, type: string): void {\n    this.pageSideBar = event;\n    this.getKnowledgeBaseDetailSidebar();\n  }\n\n  getKnowledgeBaseDetailSidebar(searchKeywords?:string) {\n    if (searchKeywords) {\n      this.crud.getRequest(`${cusRequestUrl.getArticleList}?search=${searchKeywords}`).then((res: any) => {\n        if (res) {\n          this.articleListSideBar = res.data.results\n          this.totalArticleSideBar = res.data.count\n        }\n      })\n    }\n    else {\n      this.crud.getRequest(`${cusRequestUrl.getArticleList}?page=${this.pageSideBar}&page_size=${this.pageSize}`).then((res: any) => {\n        if (res) {\n          this.articleListSideBar = res.data.results\n          this.totalArticleSideBar = res.data.count\n        }\n      })\n    }\n  }\n  getArticleDetail(id: string, type?: string) {\n    this.crud.getRequest(`${requestUrl.getArticleDetail}${id}`).then((res: any) => {\n      this.answerDetail = res;\n      this.answerDetail.answer = this.sanitizer.bypassSecurityTrustHtml(this.answerDetail?.answer);\n      this.articleAnswerView = true;\n      window.scrollBy(0,-10000);\n    })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { KnowledgeBaseRoutingModule } from './knowledge-base-routing.module';\nimport { KnowledgeBaseComponent } from './knowledge-base.component';\nimport { FormsModule } from '@angular/forms';\nimport { NgxPaginationModule } from 'ngx-pagination';\n\n\n@NgModule({\n  declarations: [\n    KnowledgeBaseComponent\n  ],\n  imports: [\n    CommonModule,\n    KnowledgeBaseRoutingModule,\n    FormsModule,\n    NgxPaginationModule\n  ]\n})\nexport class KnowledgeBaseModule { }\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate((source, subscriber) => {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, () => subscriber.complete(), noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n"],"x_google_ignoreList":[4]}